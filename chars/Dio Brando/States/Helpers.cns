;---------------------------------------------------------------------------
;The World Guard 
[Statedef 125]
physics=N
sprpriority=1

[State 125, BindToRoot]
type=BindToRoot
trigger1=1
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1
[State 125, Turn]
type=Turn
trigger1=facing!=root,facing 
ignorehitpause=1

[State 125, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 125, Anim]
type=changeanim
trigger1=1
value=125 + (root,statetype=C) + (root,statetype=A) * 2

[State 125, End]
type=changestate
trigger1=root,stateno=[130,132]
value=Ifelse(root,stateno=130,135,Ifelse(root,stateno=131,136,137))
[State 125, Stop]
type=changestate
trigger1=root,stateno=140
value=145
[State 125, DestroySelf]
type=DestroySelf
trigger1=root,stateno!=[120,155]
trigger2=root,var(1)
trigger3=root,numhelper(1005)
trigger4=root,Numhelper(125)>1 && time>1
;---------------------------------------------------------------------------
;The World Guard 
[Statedef 135]
physics=N
sprpriority=1

[State 135, Anim]
type=changeanim
trigger1=anim != 135
value=135

[State 135, BindToRoot]
type=BindToRoot
trigger1=1
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1
[State 135, Turn]
type=Turn
trigger1=facing!=root,facing 
ignorehitpause=1

[State 135, Change]
type=changestate
trigger1=root,stateno=[150,155]
value=165
[State 135, High to Low]
type=changestate
trigger1=root,stateno=131
value=136
[State 135, Stop Guarding]
type=changestate
trigger1=root,stateno=140
value=145
[State 125, DestroySelf]
type=DestroySelf
trigger1=root,stateno!=[120,155]
trigger2=root,var(1)
trigger3=root,numhelper(1005)
trigger4=root,Numhelper(125)>1 && time>1
;---------------------------------------------------------------------------
;The World C Guard 
[Statedef 136]
physics=N
sprpriority=1

[State 136, BindToRoot]
type=BindToRoot
trigger1=1
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1
[State 136, Turn]
type=Turn
trigger1=facing!=root,facing 
ignorehitpause=1

[State 136, Change]
type=changestate
trigger1=root,stateno=[150,155]
value=165
[State 136, Anim]
type=changeanim
trigger1=anim != 136
value=136
[State 136, Low to High]
type=changestate
trigger1=root,stateno=130
value=135
[State 136, Stop Guarding]
type=changestate
trigger1=root,stateno=140
value=145
[State 136, DestroySelf]
type=DestroySelf
trigger1=root,stateno!=[120,155]
trigger2=root,var(1)
trigger3=root,numhelper(1005)
trigger4=root,Numhelper(125)>1 && time>1
;---------------------------------------------------------------------------
;The World A Guard 
[Statedef 137]
physics=N
sprpriority=1

[State 137, Anim]
type=changeanim
trigger1=anim != 137
value=137

[State 137, BindToRoot]
type=BindToRoot
trigger1=1
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1
[State 137, Turn]
type=Turn
trigger1=facing!=root,facing 
ignorehitpause=1

[State 137, Change]
type=changestate
trigger1=root,stateno=[150,155]
value=165
[State 137, End]
type=changestate
trigger1=root,stateno=130
value=135
[State 137, stop guarding]
type=changestate
trigger1=root,stateno=140
value=145
[State 137, DestroySelf]
type=DestroySelf
trigger1=root,stateno!=[120,155]
trigger2=root,var(1)
trigger3=root,numhelper(1005)
trigger4=root,Numhelper(125)>1 && time>1
;---------------------------------------------------------------------------
;The World Guard 
[Statedef 145]
physics=N
sprpriority=1

[State 145, BindToRoot]
type=BindToRoot
trigger1=1
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1
[State 145, Turn]
type=Turn
trigger1=facing!=root,facing 
ignorehitpause=1

[State 145, VarSet]
type=VarSet
trigger1=!time 
var(10)=0
[State 145, VarSet]
type=VarAdd
trigger1=time>8 
var(10)=1
[State 145, Trans]
type=Trans
trigger1=var(10)
trans=addalpha
alpha=256-(32*var(10)),256

[State 145, Anim]
type=changeanim
trigger1=1
value=145 + (root,statetype=C) + (root,statetype=A) * 2
[State 145, End]
type=destroyself
trigger1=time>16
trigger2=root,var(1)
trigger3=root,numhelper(1005)
trigger4=root,Numhelper(125)>1 && time>1
;---------------------------------------------------------------------------
;The World Shaking Guard 
[Statedef 165]
physics=N
sprpriority=1

[State 165, BindToRoot]
type=BindToRoot
trigger1=1
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1
[State 165, Turn]
type=Turn
trigger1=facing!=root,facing 
ignorehitpause=1

[State 165, Anim]
type=changeanim
trigger1=1
value=155+ (root,statetype=C) + (root,statetype=A) * 2
[State 165, End]
type=changestate
trigger1=root,hitshakeover
value=156
[State 165, DestroySelf]
type=DestroySelf
trigger1=root,stateno!=[120,155]
trigger2=root,var(1)
trigger3=root,numhelper(1005)
trigger4=root,Numhelper(125)>1 && time>1
;---------------------------------------------------------------------------
;The World Shaking Guard hit
[Statedef 156]
physics=N
sprpriority=1
anim=155+ (root,statetype=C) + (root,statetype=A) * 2

[State 156, Anim]
type=changeanim
trigger1=1
value=155 + (root,statetype=C) + (root,statetype=A) * 2
[State 156, BindToRoot]
type=BindToRoot
trigger1=1
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1
[State 156, Turn]
type=Turn
trigger1=facing!=root,facing 
ignorehitpause=1
[State 156, End]
type=changestate
trigger1=root,hitover
value=145
[State 156, DestroySelf]
type=DestroySelf
trigger1=root,stateno!=[120,155]
trigger2=root,var(1)
trigger3=root,numhelper(1005)
trigger4=root,Numhelper(125)>1 && time>1
;-------------------------------------------------------------------
;The World Win/Taunt
[StateDef 194]
physics=N
anim=194
velset=0,0
sprPriority=-1
ctrl=0

[State 194, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 194, Hit Frame]
type=ChangeAnim
trigger1=root,stateno!=195
trigger1=animelem=27
value=194
elem=9

[State 194, Reset]
type=VarSet
trigger1=!time 
var(10)=0
[State 194, Reset]
type=VarSet
trigger1=animelemtime(4)>=0 
var(11)=0
[State 194, Fadeout]
type=VarAdd
trigger1=animelemtime(32)>1 
var(10)=1
[State 194, FadeIn]
type=VarAdd
trigger1=animelemtime(4)<0 
var(11)=1

[State 194, FadeIn]
type=Trans
trigger1=var(11) 
trans=addalpha
alpha=32+(32*var(11)),256-(16*var(11))
ignorehitpause=1
[State 194, FadeOut]
type=Trans
trigger1=var(10) 
trans=addalpha
alpha=256-(32*var(10)),0+(64*var(10))
ignorehitpause=1

[State 194, End]
type=DestroySelf
trigger1=root,stateno!=181 && root,stateno!=183  && root,stateno!=185 && root,stateno!=195
trigger2=!animtime
trigger3=root,time<=1
trigger4=root,movetype=H
trigger5=root,numhelper(1005)
trigger6=root,stateno=195 && root,anim!=195
ignorehitpause=1
;-------------------------------------------------------------------
;The World Intro Vs Jotaro Brando
[StateDef 199]
physics=N
anim=199
velset=0,0
sprPriority=2
ctrl=0

[State 199, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 199, Attack]
type=PlaySnd
trigger1=AnimElem=12
trigger2=AnimElem=21
trigger3=AnimElem=30
trigger4=AnimElem=39
trigger5=AnimElem=48
trigger6=AnimElem=57
value=S2,2
channel=2
[State 199, Attack]
type=PlaySnd
trigger1=AnimElem=15
trigger2=AnimElem=24
trigger3=AnimElem=33
trigger4=AnimElem=42
trigger5=AnimElem=51
value=S2,2
channel=3
[State 199, Attack]
type=PlaySnd
trigger1=AnimElem=18
trigger2=AnimElem=27
trigger3=AnimElem=36
trigger4=AnimElem=45
trigger5=AnimElem=54
value=S2,2
channel=4

[State 199, Final Attack]
type=PlaySnd
trigger1=AnimElem=62
value=2,8
channel=3

[State 199, HitSpark]
type=Helper
trigger1=AnimElem=15
trigger2=AnimElem=27
trigger3=AnimElem=39
trigger4=AnimElem=51
helperType=Normal
stateNo=8013
ID=8000
name="Spark"
postype=P1
pos=ceil(60*const(size.xscale)),ceil(-72*const(size.yscale))
ownPal=0
facing=-1
size.xScale=1.0
size.yScale=1.0
supermovetime=65535
pausemovetime=65535
[State 199, HitSpark]
type=Helper
trigger1=AnimElem=12
trigger2=AnimElem=24
trigger3=AnimElem=36
trigger4=AnimElem=48
helperType=Normal
stateNo=8013
ID=8000
name="Spark"
postype=P1
pos=ceil(60*const(size.xscale)),ceil(-88*const(size.yscale))
ownPal=0
facing=-1
size.xScale=1.0
size.yScale=1.0
supermovetime=65535
pausemovetime=65535
[State 199, HitSpark]
type=Helper
trigger1=AnimElem=18
trigger2=AnimElem=30
trigger3=AnimElem=42
trigger4=AnimElem=54
helperType=Normal
stateNo=8013
ID=8000
name="Spark"
postype=P1
pos=ceil(60*const(size.xscale)),ceil(-104*const(size.yscale))
ownPal=0
facing=-1
size.xScale=1.0
size.yScale=1.0
supermovetime=65535
pausemovetime=65535
[State 199, HitSpark]
type=Helper
trigger1=AnimElem=21
trigger2=AnimElem=33
trigger3=AnimElem=45
trigger4=AnimElem=57
helperType=Normal
stateNo=8013
ID=8000
name="Spark"
postype=P1
pos=ceil(60*const(size.xscale)),ceil(-60*const(size.yscale))
ownPal=0
facing=-1
size.xScale=1.0
size.yScale=1.0
supermovetime=65535
pausemovetime=65535

[State 199, Final HitSpark]
type=Helper
trigger1=AnimElem=62
helperType=Normal
stateNo=8013
ID=8000
name="Spark"
postype=P1
pos=ceil(60*const(size.xscale)),ceil(-68*const(size.yscale))
ownPal=0
facing=-1
size.xScale=1.0
size.yScale=1.0
supermovetime=65535
pausemovetime=65535

[State 199, EnvShake]
type=EnvShake
trigger1=AnimElem=12
trigger2=AnimElem=15
trigger3=AnimElem=18
trigger4=AnimElem=21
trigger5=AnimElem=24
trigger6=AnimElem=27
trigger7=AnimElem=30
trigger8=AnimElem=33
trigger9=AnimElem=36
trigger10=AnimElem=39
trigger11=AnimElem=42
trigger12=AnimElem=45
trigger13=AnimElem=48
trigger14=AnimElem=51
trigger15=AnimElem=54
trigger16=AnimElem=57
time=12
ampl=3

[State 199, EnvShake]
type=EnvShake
trigger1=AnimElem=62
time=30
ampl=8

[State 199, Reset]
type=VarSet
trigger1=animelemtime(2)>=3 
var(11)=0
[State 199, FadeIn]
type=VarAdd
trigger1=animelemtime(2)<3 
var(11)=1

[State 199, FadeIn]
type=Trans
trigger1=var(11) 
trans=addalpha
alpha=0+(32*var(11)),256-(32*var(11))
ignorehitpause=1

[State 199, ChangeState]
type=ChangeState
trigger1=!animtime 
value=1015
[State 199, End]
type=DestroySelf
trigger1=root,stateno!=197
ignorehitpause=1
;-------------------------------------------------------------------
;The World SMP
[StateDef 211]
physics=N
anim=211
velset=0,0
sprPriority=1
ctrl=0

[State 211, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 211, Reset]
type=VarSet
trigger1=!time 
var(1)=0
[State 211, Reset]
type=VarSet
trigger1=animelemtime(3)>=0 
var(2)=0

[State 211, Fadeout]
type=VarAdd
trigger1=animelemtime(6)>1 
var(1)=1
[State 211, FadeIn]
type=VarAdd
trigger1=animelemtime(3)<0 
var(2)=1

[State 211, FadeIn]
type=Trans
trigger1=var(2) 
trans=addalpha
alpha=0+(64*var(2)),256-(64*var(2))
ignorehitpause=1
[State 211, FadeOut]
type=Trans
trigger1=var(1) 
trans=addalpha
alpha=256-(48*var(1)),0+(64*var(1))
ignorehitpause=1

[State 211, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(3)=[0,1]
value=211
elem=3
ignorehitpause=1
[State 211, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(4)=[0,1]
value=211
elem=4
ignorehitpause=1

[State 211, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(-10*root,const(size.xscale)),ceil(10*root,const(size.yscale))
ignorehitpause=1

[State 211, End]
type=DestroySelf
trigger1=root,stateno!=210
trigger2=!animtime
trigger3=root,time<=1
trigger4=root,movetype=H
trigger5=root,numhelper(1005)
ignorehitpause=1
;-------------------------------------------------------------------
;The World SHP
[StateDef 226]
physics=N
anim=226
velset=0,0
sprPriority=0
ctrl=0

[State 226, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 226, Reset]
type=VarSet
trigger1=!time 
var(10)=0
[State 226, Reset]
type=VarSet
trigger1=animelemtime(3)>=0 
var(11)=0
[State 226, Fadeout]
type=VarAdd
trigger1=animelemtime(7)>1 
var(10)=1
[State 226, FadeIn]
type=VarAdd
trigger1=animelemtime(3)<0 
var(11)=1

[State 226, Fadeout]
type=VarAdd
trigger1=animelemtime(3)>1 
var(12)=1

[State 226, FadeIn]
type=Trans
trigger1=var(11) 
trans=addalpha
alpha=0+(64*var(11)),256-(64*var(11))
ignorehitpause=1
[State 226, FadeOut]
type=Trans
trigger1=var(10) 
trans=addalpha
alpha=256-(64*var(10)),0+(64*var(10))
ignorehitpause=1

[State 226, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(3)=[0,1]
value=226
elem=3
ignorehitpause=1
[State 226, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(4)=[0,1]
value=226
elem=4
ignorehitpause=1
[State 226, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(5)=[0,1]
value=226
elem=5
ignorehitpause=1

[State 226, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(0-var(12)*root,const(size.xscale)),ceil(5*root,const(size.yscale))
ignorehitpause=1

[State 226, End]
type=DestroySelf
trigger1=root,stateno!=220
trigger2=!animtime
trigger3=root,time<=1
trigger4=root,movetype=H
trigger5=root,numhelper(1005)
trigger6=root,anim!=225
ignorehitpause=1
;-------------------------------------------------------------------
;The World SLK
[StateDef 231]
physics=N
anim=231
velset=0,0
sprPriority=1
ctrl=0

[State 231, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 231, Reset]
type=VarSet
trigger1=!time 
var(10)=0
[State 231, Reset]
type=VarSet
trigger1=animelemtime(3)>=0 
var(11)=0
[State 231, Fadeout]
type=VarAdd
trigger1=animelemtime(7)>1 
var(10)=1
[State 231, FadeIn]
type=VarAdd
trigger1=animelemtime(3)<0 
var(11)=1

[State 231, FadeIn]
type=Trans
trigger1=var(11) 
trans=addalpha
alpha=32+(32*var(11)),256-(32*var(11))
ignorehitpause=1
[State 231, FadeOut]
type=Trans
trigger1=var(10) 
trans=addalpha
alpha=256-(32*var(10)),0+(32*var(10))
ignorehitpause=1

[State 231, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(3)=[0,1]
value=231
elem=3
ignorehitpause=1
[State 231, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(4)=[0,1]
value=231
elem=4
ignorehitpause=1
[State 231, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(5)=[0,1]
value=231
elem=5
ignorehitpause=1

[State 231, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1

[State 231, End]
type=DestroySelf
trigger1=root,stateno!=230
trigger2=!animtime
trigger3=root,time<=1
trigger4=root,movetype=H
trigger5=root,numhelper(1005)
ignorehitpause=1
;-------------------------------------------------------------------
;The World SHK
[StateDef 251]
physics=N
anim=251
velset=0,0
sprPriority=1
ctrl=0

[State 251, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 251, Reset]
type=VarSet
trigger1=!time 
var(10)=0
[State 251, Fadeout]
type=VarAdd
trigger1=animelemtime(8)>1 
var(10)=1
[State 251, Reset]
type=VarSet
trigger1=animelemtime(3)>=2 
var(11)=0
[State 251, FadeIn]
type=VarAdd
trigger1=animelemtime(3)<2 
var(11)=1

[State 251, FadeIn]
type=Trans
trigger1=var(11) 
trans=addalpha
alpha=32+(32*var(11)),256-(32*var(11))
ignorehitpause=1
[State 251, FadeOut]
type=Trans
trigger1=var(10) 
trans=addalpha
alpha=256-(32*var(10)),0+(32*var(10))
ignorehitpause=1

[State 251, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(3)=[2,3]
value=251
elem=4
ignorehitpause=1
[State 251, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(4)=[0,1]
value=251
elem=5
ignorehitpause=1
[State 251, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(5)=[0,1]
value=251
elem=6
ignorehitpause=1

[State 251, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(-12*root,const(size.xscale)),ceil(5*root,const(size.yscale))
ignorehitpause=1

[State 251, End]
type=DestroySelf
trigger1=root,stateno!=250
trigger2=!animtime
trigger3=root,time<=1
trigger4=root,movetype=H
trigger5=root,numhelper(1005)
trigger6=root,anim!=250
ignorehitpause=1
;--------------------------------------------------------------------------------------
;Pal Select
[Statedef 256]
physics=N
anim=256
velset=0,0
sprpriority=99999
 
[State 256, PosSet]
type=PosSet
trigger1=!time 
x=root,facing*-90
y=20
ignorehitpause=1

[State 256, AS]
type=assertspecial
trigger1=1
flag=intro
flag2=noshadow
[State 256, Reset]
type=varset
trigger1=!time
var(29)=200
[State 256, Pal]
type=varset
trigger1=!time
var(26)=root,palno

[State 256, Varset]
type=varset
trigger1=var(26)<1||var(26)>44
var(26)=1+(var(26)<1)*43

[State 256, PlaySnd]
type=PlaySnd
trigger1=var(10)=2 
value=S256,0
volumescale=50
channel=20
[State 256, PlaySnd]
type=PlaySnd
triggerall=ishelper(256)
trigger1=root,command="a"||root,command="b"||root,command="c"||root,command="x"||root,command="y"||root,command="z"||root,command="s"||roundstate=2
trigger2=var(29)<=5
value=S256,1
volumescale=50
channel=20
persistent=0 

[State 256, Countdown]
type=VarAdd
trigger1=1 
var(29)=-1
[State 256, Countdown]
type=VarAdd
trigger1=!var(10)&&var(29)<150
trigger1=root,command="holdup"||root,command="holddown"||root,command="holdback"||root,command="holdfwd"
var(29)=25

[State 256, Varadd]
type=varadd
trigger1=!var(10)
trigger1=root,command="holdup"||root,command="holddown"||root,command="holdback"||root,command="holdfwd"
var(26)=1-(root,command="holddown"||root,command="holdback"&&facing=1||root,command="holdfwd"&&facing=-1)*2

[State 256, Varadd]
type=varadd
trigger1=(root,command="holdup"||root,command="holddown"||root,command="holdback"||root,command="holdfwd")&&!var(10)||var(10)
var(10)=1

[State 256, Varset]
type=varset
trigger1=!time||var(10)>=17
var(10)=0

[State 256, End]
type=destroyself
triggerall=ishelper(256)
trigger1=root,command="a"||root,command="b"||root,command="c"||root,command="x"||root,command="y"||root,command="z"||root,command="s"||roundstate=2
trigger2=var(29)<=0
trigger3=root,AILevel && time>1
;-------------------------------------------------------------------
;The World CMP
[StateDef 411]
physics=N
anim=211
velset=0,0
sprPriority=1
ctrl=0

[State 411, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 411, Reset]
type=VarSet
trigger1=!time 
var(10)=0
[State 411, Fadeout]
type=VarAdd
trigger1=animelemtime(6)>1 
var(10)=1
[State 411, Reset]
type=VarSet
trigger1=animelemtime(3)>=0 
var(11)=0
[State 411, FadeIn]
type=VarAdd
trigger1=animelemtime(3)<0 
var(11)=1

[State 411, FadeIn]
type=Trans
trigger1=var(11) 
trans=addalpha
alpha=0+(32*var(11)),256-(32*var(11))
ignorehitpause=1
[State 411, FadeOut]
type=Trans
trigger1=var(10) 
trans=addalpha
alpha=256-(32*var(10)),0+(32*var(10))
ignorehitpause=1

[State 411, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(3)=[0,1]
value=211
elem=3
ignorehitpause=1
[State 411, End Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(4)=[0,1]
value=211
elem=4
ignorehitpause=1

[State 411, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(22-var(10)*root,const(size.xscale)),ceil(20*root,const(size.yscale))
ignorehitpause=1

[State 411, End]
type=DestroySelf
trigger1=root,stateno!=410
trigger2=!animtime
trigger3=root,time<=1
trigger4=root,movetype=H
trigger5=root,numhelper(1005)
ignorehitpause=1
;-------------------------------------------------------------------
;The World CLK
[StateDef 431]
physics=N
anim=231
velset=0,0
sprPriority=1
ctrl=0

[State 431, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 431, Reset]
type=VarSet
trigger1=!time 
var(10)=0
[State 431, Fadeout]
type=VarAdd
trigger1=animelemtime(7)>1 
var(10)=1
[State 431, Reset]
type=VarSet
trigger1=animelemtime(3)>=1 
var(11)=0
[State 431, FadeIn]
type=VarAdd
trigger1=animelemtime(3)<1 
var(11)=1

[State 431, FadeIn]
type=Trans
trigger1=var(11) 
trans=addalpha
alpha=32+(64*var(11)),256-(64*var(11))
ignorehitpause=1
[State 431, FadeOut]
type=Trans
trigger1=var(10) 
trans=addalpha
alpha=256-(32*var(10)),0+(32*var(10))
ignorehitpause=1

[State 431, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(3)=[0,1]
value=231
elem=3
ignorehitpause=1
[State 431, End Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(4)=[0,1]
value=231
elem=4
ignorehitpause=1
[State 431, End Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(5)=[0,1]
value=231
elem=5
ignorehitpause=1

[State 431, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(18*root,const(size.xscale)),ceil(10*root,const(size.yscale))
ignorehitpause=1

[State 431, End]
type=DestroySelf
trigger1=root,stateno!=430
trigger2=!animtime
trigger3=root,time<=1
trigger4=root,movetype=H
trigger5=root,numhelper(1005)
ignorehitpause=1
;-------------------------------------------------------------------
;The World CMK
[StateDef 441]
physics=N
anim=251
velset=0,0
sprPriority=1
ctrl=0

[State 441, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 441, Reset]
type=VarSet
trigger1=!time 
var(10)=0
[State 441, Fadeout]
type=VarAdd
trigger1=animelemtime(8)>0
var(10)=1
[State 441, Reset]
type=VarSet
trigger1=animelemtime(3)>=1 
var(11)=0
[State 441, FadeIn]
type=VarAdd
trigger1=animelemtime(3)<1 
var(11)=1

[State 441, FadeIn]
type=Trans
trigger1=var(11) 
trans=addalpha
alpha=0+(32*var(11)),256-(32*var(11))
ignorehitpause=1
[State 441, FadeOut]
type=Trans
trigger1=var(10) 
trans=addalpha
alpha=256-(32*var(10)),0+(32*var(10))
ignorehitpause=1

[State 441, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(3)=[0,1]
value=251
elem=4
ignorehitpause=1
[State 441, End Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(4)=[0,1]
value=251
elem=5
ignorehitpause=1
[State 441, End Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(5)=[0,1]
value=251
elem=6
ignorehitpause=1

[State 441, AngleDraw]
type=AngleDraw
trigger1=1
value=-20
ignorehitpause=1

[State 441, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(0*root,const(size.xscale)),ceil(5*root,const(size.yscale))
ignorehitpause=1

[State 441, End]
type=DestroySelf
trigger1=root,stateno!=440
trigger2=!animtime
trigger3=root,time<=1
trigger4=root,movetype=H
trigger5=root,numhelper(1005)
ignorehitpause=1
;-------------------------------------------------------------------
;The World CHK Ground FX
[StateDef 451]
physics=N
anim=451
velset=0,0
sprPriority=-2
ctrl=0

[State 451, Reset]
type=VarSet
trigger1=!time 
var(10)=0
[State 451, Fadeout]
type=VarAdd
trigger1=time>156 
var(10)=1

[State 451, Assert]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 451, FadeOut]
type=Trans
trigger1=var(10) 
trans=addalpha
alpha=0,0+(8*var(10))
ignorehitpause=1

[State 451, BindToRoot]
type=BindToRoot
trigger1=!time
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1

[State 451, Explod]
type=Explod
trigger1=!time
anim=452
id=452
postype=p1
pos=75,8
sprpriority=3
ownpal=0
scale=0.5,0.5
supermovetime=65535
pausemovetime=65535

[State 451, End]
type=DestroySelf
trigger1=!animtime
;-------------------------------------------------------------------
;The World AMP
[StateDef 611]
physics=N
anim=611
velset=0,0
sprPriority=3
ctrl=0

[State 611, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 611, Reset]
type=VarSet
trigger1=!time 
var(10)=0
[State 611, Fadeout]
type=VarAdd
trigger1=animelemtime(9)>1 
var(10)=1
[State 611, Reset]
type=VarSet
trigger1=animelemtime(3)>=1 
var(11)=0
[State 611, FadeIn]
type=VarAdd
trigger1=animelemtime(3)<1 
var(11)=1

[State 611, FadeIn]
type=Trans
trigger1=var(11) 
trans=addalpha
alpha=32+(32*var(11)),256-(32*var(11))
ignorehitpause=1
[State 611, FadeOut]
type=Trans
trigger1=var(10) 
trans=addalpha
alpha=256-(32*var(10)),0+(32*var(10))
ignorehitpause=1

[State 611, Start Frame]
type=ChangeAnim
trigger1=root,animelemtime(2)=[0,1]
value=611
elem=3
ignorehitpause=1
[State 611, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(3)=[0,1]
value=611
elem=4
ignorehitpause=1
[State 611, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(4)=[0,1]
value=611
elem=5
ignorehitpause=1
[State 611, End Frame]
type=ChangeAnim
trigger1=root,animelemtime(5)=[0,1]
value=611
elem=6
ignorehitpause=1

[State 611, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(10*root,const(size.xscale)),ceil(5*root,const(size.yscale))
ignorehitpause=1

[State 611, End]
type=DestroySelf
trigger1=root,stateno!=610
trigger2=!animtime
trigger3=root,time<=1
trigger4=root,movetype=H
trigger5=root,numhelper(1005)
ignorehitpause=1
;-------------------------------------------------------------------
;The World ALK
[StateDef 631]
physics=N
anim=231
velset=0,0
sprPriority=2
ctrl=0

[State 631, SprPriority]
type=SprPriority
trigger1=animelem=3
value=3
ignorehitpause=1

[State 631, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 631, Reset]
type=VarSet
trigger1=!time 
var(10)=0
[State 631, Fadeout]
type=VarAdd
trigger1=animelemtime(7)>=0 
var(10)=1

[State 631, FadeIn]
type=Trans
trigger1=animelemtime(3)<0
trans=addalpha
alpha=32+(64*time),256-(64*time)
ignorehitpause=1
[State 631, FadeOut]
type=Trans
trigger1=var(10) 
trans=addalpha
alpha=256-(32*var(10)),0+(64*var(10))
ignorehitpause=1

[State 631, Start Frame]
type=ChangeAnim
trigger1=root,animelemtime(2)=[0,1]
value=231
elem=2
ignorehitpause=1
[State 631, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(2)=2
value=231
elem=3
ignorehitpause=1
[State 631, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(3)=[0,1]
value=231
elem=4
ignorehitpause=1
[State 631, End Frame]
type=ChangeAnim
trigger1=root,animelemtime(4)=[0,1]
value=231
elem=5
ignorehitpause=1

[State 631, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(55*root,const(size.xscale)),ceil(-10*root,const(size.yscale))
ignorehitpause=1

[State 631, AngleDraw]
type=AngleDraw
trigger1=1
value=15
ignorehitpause=1

[State 631, End]
type=DestroySelf
trigger1=root,stateno!=630
trigger2=!animtime
trigger3=root,time<=1
trigger4=root,movetype=H
trigger5=root,numhelper(1005)
ignorehitpause=1
;-------------------------------------------------------------------
;The World AMK
[StateDef 641]
physics=N
anim=251
velset=0,0
sprPriority=2
ctrl=0

[State 641, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 641, Reset]
type=VarSet
trigger1=!time 
var(10)=0
[State 641, Fadeout]
type=VarAdd
trigger1=animelemtime(7)>=0 
var(10)=1

[State 641, FadeIn]
type=Trans
trigger1=animelemtime(3)<0
trans=addalpha
alpha=0+(64*time),256-(32*var(11))
ignorehitpause=1
[State 641, FadeOut]
type=Trans
trigger1=var(10) 
trans=addalpha
alpha=256-(32*var(10)),0+(32*var(10))
ignorehitpause=1

[State 641, Start Frame]
type=ChangeAnim
trigger1=root,animelemtime(2)=[2,3]
value=251
elem=4
ignorehitpause=1
[State 641, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(3)=[0,1]
value=251
elem=5
ignorehitpause=1
[State 641, End Frame]
type=ChangeAnim
trigger1=root,animelemtime(4)=[0,1]
value=251
elem=6
ignorehitpause=1

[State 641, AngleDraw]
type=AngleDraw
trigger1=1
value=15
ignorehitpause=1
[State 641, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(15*root,const(size.xscale)),ceil(5*root,const(size.yscale))
ignorehitpause=1

[State 641, End]
type=DestroySelf
trigger1=root,stateno!=640
trigger2=!animtime
trigger3=root,time<=1
trigger4=root,movetype=H
trigger5=root,numhelper(1005)
ignorehitpause=1
;-------------------------------------------------------------------
;The World AHK
[StateDef 651]
physics=N
anim=251
velset=0,0
sprPriority=1
ctrl=0

[State 651, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 651, Reset]
type=VarSet
trigger1=!time 
var(10)=0
[State 651, Fadeout]
type=VarAdd
trigger1=animelemtime(7)>=0 
var(10)=1

[State 651, FadeIn]
type=Trans
trigger1=animelemtime(3)<0
trans=addalpha
alpha=0+(64*time),256-(32*time)
ignorehitpause=1
[State 651, FadeOut]
type=Trans
trigger1=var(10) 
trans=addalpha
alpha=256-(32*var(10)),0+(64*var(10))
ignorehitpause=1

[State 651, Start Frame]
type=ChangeAnim
trigger1=root,animelemtime(2)=[2,3]
value=251
elem=4
ignorehitpause=1
[State 651, Hit Frame]
type=ChangeAnim
trigger1=root,animelemtime(3)=[0,1]
value=251
elem=5
ignorehitpause=1
[State 651, End Frame]
type=ChangeAnim
trigger1=root,animelemtime(5)=[0,1]
value=251
elem=6
ignorehitpause=1

[State 651, AngleDraw]
type=AngleDraw
trigger1=1
value=-30
ignorehitpause=1
[State 651, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(-16*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1

[State 651, End]
type=DestroySelf
trigger1=root,stateno!=650
trigger2=!animtime
trigger3=root,time<=1
trigger4=root,movetype=H
trigger5=root,numhelper(1005)
ignorehitpause=1
;-------------------------------------------------------------------
;World Break BG- The World
[StateDef 811]
physics=N
anim=811
velset=0,0
sprPriority=-2
ctrl=0

[State 811, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 811, Reset]
type=VarSet
trigger1=animelemtime(1)>=30 
var(1)=0
[State 811, FadeIn]
type=VarAdd
trigger1=animelemtime(1)<30 
var(1)=1

[State 811, FadeIn]
type=Trans
trigger1=var(1) 
trans=addalpha
alpha=0+(32*var(1)),256-(32*var(1))
ignorehitpause=1

[State 811, Start Frame]
type=ChangeAnim
trigger1=root,animelemtime(2)=[0,1]
value=811
elem=2
ignorehitpause=1
[State 811, Start Frame]
type=ChangeAnim
trigger1=root,animelemtime(3)=[0,1]
value=811
elem=3
ignorehitpause=1
[State 811, Start Frame]
type=ChangeAnim
trigger1=root,animelemtime(4)=[0,1]
value=811
elem=4
ignorehitpause=1

[State 811, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1

[State 811, Change]
type=ChangeState
trigger1=!animtime
value=1010
[State 811, Change]
type=destroyself
trigger1=root,stateno!=810
;-------------------------------------------------------------------
;World Break FG- The World
[StateDef 812]
physics=N
anim=812
velset=0,0
sprPriority=-1
ctrl=0

[State 812, SprPriority]
type=SprPriority
trigger1=root,animelem=3
value=2

[State 811, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 812, Reset]
type=VarSet
trigger1=animelemtime(1)>=30 
var(1)=0
[State 812, FadeIn]
type=VarAdd
trigger1=animelemtime(1)<30 
var(1)=1

[State 812, FadeIn]
type=Trans
trigger1=var(1) 
trans=addalpha
alpha=0+(32*var(1)),256-(32*var(1))
ignorehitpause=1

[State 812, Start Frame]
type=ChangeAnim
trigger1=root,animelemtime(2)=[0,1]
value=812
elem=2
ignorehitpause=1
[State 812, Start Frame]
type=ChangeAnim
trigger1=root,animelemtime(3)=[0,1]
value=812
elem=3
ignorehitpause=1
[State 811, Start Frame]
type=ChangeAnim
trigger1=root,animelemtime(4)=[0,1]
value=812
elem=4
ignorehitpause=1

[State 812, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1

[State 812, Change]
type=destroyself
trigger1=!animtime
trigger2=root,stateno!=810
;-------------------------------------------------------------------
;World Serve - The World
[StateDef 821]
physics=N
anim=821
velset=0,0
sprPriority=0
ctrl=0

[State 821, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 821, Reset]
type=VarSet
trigger1=animelemtime(2)>=0 
var(1)=0
[State 821, FadeIn]
type=VarAdd
trigger1=animelemtime(2)<0 
var(1)=1

[State 821, FadeIn]
type=Trans
trigger1=var(1) 
trans=addalpha
alpha=0+(32*var(1)),256-(32*var(1))
ignorehitpause=1

[State 821, Start Frame]
type=ChangeAnim
trigger1=root,animelemtime(9)=[0,1]
value=821
elem=5
ignorehitpause=1
[State 821, Start Frame]
type=ChangeAnim
trigger1=root,animelemtime(10)=[0,1]
value=821
elem=6
ignorehitpause=1
[State 821, End Frame]
type=ChangeAnim
trigger1=root,animelemtime(11)=[0,1]
value=821
elem=7
ignorehitpause=1

[State 821, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1

[State 821, Change]
type=ChangeState
trigger1=!animtime
value=1010
[State 812, Change]
type=destroyself
trigger1=root,stateno!=820
trigger2=root,time<=1
;------------------------------------------------------------------------------- 
;The World Time Stop FX
[Statedef 822]
physics=N
anim=1332
sprpriority=-999

[State 822, StopSnd]
type=StopSnd
trigger1=1
channel=3
ignorehitpause=1

[State 822, Snd]
type=PlaySnd
trigger1=!time
value=1300,2
channel=0

[State 822, ScrenBound]
type=ScreenBound
trigger1=1
value=0

[State 822, EnvColor]
type=Bgpalfx
trigger1=time<60
time=2
invertall=1
color=0
ignorehitpause=1

[State 822, Assert]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 822, Var]
type=varSet
trigger1=!time
var(1)=200
[State 822, VarAdd]
type=varadd
trigger1=time>=60
var(1)=-4

[State 822, Scale]
type=angledraw
trigger1=1
scale=var(1)*0.01,var(1)*0.01

[State 822, Trans]
type=Trans
trigger1=1
trans=addalpha
alpha=4+time, 256+var(4)

[State 822, end]
type=destroyself
trigger1=var(1)<=0
trigger2=root,stateno!=810
;--------------------------------------------------------------------------------
;Muda Muda Sound
[Statedef 1001]
physics=N
ctrl=0
anim=9999

[State 1001, VarSet]
type=varset
trigger1=!time && parent,ishelper
var(1)=parent,stateno
ignorehitpause=1
[State 1001, VarSet]
type=varset
trigger1=!time && !(parent,ishelper)
var(1)=root,stateno
ignorehitpause=1

[State 1001, Stop Muda]
type=StopSnd
trigger1=!(root,numhelper(1005))
channel=0
ignorehitpause=1

[State 1001, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=invisible
ignorehitpause=1

[State 1001, Muda]
type=PlaySnd
trigger1=!time
value=1000,1
channel=0
[State 1001, Muda Loop]
type=PlaySnd
trigger1=time=40
value=1000,2
channel=0
loop=1

[State 1001, Muda Woosh]
type=PlaySnd
triggerall=timemod=10,0
trigger1=parent,stateno=1005 && parent,animelemtime(3)>0 && parent,animelemtime(18)<0
trigger2=(root,stateno=1400||root,stateno=1450) && root,animelemtime(3)>0 && root,animelemtime(28)<0
value=1,2
channel=8
ignorehitpause=1

[State 1001, End]
type=Changestate 
trigger1=parent,stateno=1005 && parent,animelem=21
trigger2=(root,stateno=1400||root,stateno=1450) && root,animelem=33
trigger3=roundstate!=2
trigger4=time>325
value=1002
ignorehitpause=1

[State 1001, End]
type=Changestate 
trigger1=time>350
trigger2=parent,movetype=H
trigger3=parent,ishelper && var(1)!=parent,stateno
trigger4=!(parent,ishelper) && var(1)!=root,stateno
trigger5=root,movetype=H && root,var(45)>=1
trigger6=parent,stateno!=1005 && root,stateno!=1400 && root,stateno!=1450
trigger6=!(root,Numhelper(1005))
trigger7=root,stateno=1405||(root,stateno=[1100,1299])||(root,stateno=[1310,1340])
trigger8=(root,stateno=[3000,3502])
trigger9=time=1 && root,Numhelper(1001)>1
trigger9=helper(1001),time>1
value=1003
ignorehitpause=1
;--------------------------------------------------------------------------------
;Muda Muda Sound End
[Statedef 1002]
physics=N
ctrl=0
anim=9999

[State 1002, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=invisible
ignorehitpause=1

[State 1002, Final Muda]
type=PlaySnd
trigger1=!time
value=1000,3
channel=0
ignorehitpause=1
persistent=0

[State 1002, End]
type=DestroySelf 
trigger1=time>2
;--------------------------------------------------------------------------------
;Muda Muda Sound Destroy
[Statedef 1003]
physics=N
ctrl=0
anim=9999

[State 1003, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=invisible
ignorehitpause=1

[State 1003, Stop Muda]
type=StopSnd
trigger1=1
channel=0
ignorehitpause=1

[State 1003, End]
type=DestroySelf 
trigger1=time>2
;---------------------------------------------------------------------
;Muda Barrage(Helper)
[Statedef 1005]
type=S
movetype=A
physics=N
anim=1005
ctrl=0
velset=0,0
sprpriority=0

[State 1005, NHB]
type=NotHitBy
trigger1=animelemtime(3)<=0
time=1
value=SCA
ignorehitpause=1
[State 1005, Strength]
type=varset
trigger1=!time 
var(10)=root, var(10)

[State 1005, Counter Flag]
type=VarSet
trigger1=NumEnemy && (EnemyNear, MoveType=A)
var(9)=1
ignoreHitPause=1

[State 1005, AttackDist]
type=AttackDist
trigger1=1 
value=100
ignorehitpause=1

[State 1005, World SFX]
type=PlaySnd
trigger1=!time 
value=s1,6
channel=5

[State 1005, HitOverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA, AA, AP, AT
stateno=1007
ignorehitpause=1
[State 1005, HB]
type=hitby
trigger1=1
time=-1
value=SCA, AP, AA
ignorehitpause=1

[State 1005, Dust Helper]
type=Helper
trigger1=AnimElem=3
helperType=Normal
stateNo=8103
ID=8100
name="Dash Dust"
posType=P1
ownPal=0
persistent=0

[State 1005, ChangeAnim]
type=ChangeAnim
trigger1=!time
value=1005+var(10)

[State 1005, ChangeAnim]
type=ChangeAnim
trigger1=animelem=5
trigger1=p2bodydist x<-40
value=anim
elem=17

[State 1005, Reset]
type=VarSet
trigger1=animelemtime(2)>=4 
var(11)=0
[State 1005, FadeIn]
type=VarAdd
trigger1=animelemtime(2)<4 
var(11)=1

[State 1005, MudaMuda]
type=Helper
trigger1=parent,stateno=1050 && animelem=3 
helpertype=normal
name="PunchFX1"
stateno=1025
ID=1025
pos=ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=0
size.xscale=(0.75 * const(size.xscale))
size.yscale=(0.75 * const(size.yscale))
persistent=0
pausemovetime=65535
ignorehitpause=1
[State 1005, MudaMuda]
type=Helper
trigger1=parent,stateno=1050 && animelem=3 
helpertype=normal
name="PunchFX1"
stateno=1026
ID=1026
pos=ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=0
size.xscale=(0.75 * const(size.xscale))
size.yscale=(0.75 * const(size.yscale))
persistent=0
pausemovetime=65535
ignorehitpause=1

[State 1005, MudaMuda]
type=Helper
trigger1=!time 
helpertype=normal
name="MudaMudaSnd"
stateno=1001
ID=1001
ownpal=0
pos=0,0
postype=p1
ignorehitpause=1
pausemovetime=65535
supermovetime=65535

[State 1005, Attack Mulset]
type=attackmulset
trigger1= root,var(0)
value=0
ignorehitpause=1

[State 1005, Mash]
type=varset
trigger1=!time
var(5)=0
[State 1005, Mash Reset]
type=varset
trigger1=animelemtime(4)<1
var(6)=0
[State 1005, Mash Check]
type=varset
trigger1=animelemtime(4)<1
var(7)=0

[State 1005, Mash Limit]
type=varadd
triggerall=roundstate=2 && numenemy
trigger1=animelemtime(12)=0 
var(5)=1

[State 1005, Mash]
type=varadd
triggerall=animelemtime(4)>1
triggerall=roundstate=2 && numenemy
trigger1=!(root,AILevel) && (root,command="x"||root,command="y"||root,command="z")  
trigger2=root,AILevel && enemynear,movetype=H 
var(6)=1
[State 1005, Loop Reka Style]
type=varadd
triggerall=animelemtime(4)>1
triggerall=roundstate=2 && numenemy
trigger1=var(10)=3 && var(5)<2
var(6)=4

[State 1005, Mash]
type=varset
triggerall=roundstate=2 && numenemy 
trigger1=var(6)>=6+var(5)
var(7)=1

[State 1005, Loop]
type=ChangeAnim
triggerall=var(7) && animelem=15
trigger1=var(10)!=3 && var(5)<2
trigger2=var(10)=3 && var(5)<3
value=anim
elem=3

[State 1005, Position]
type=PosAdd
trigger1=!time && !prevstateno
x=10
[State 1005, Vel]
type=VelSet
trigger1=AnimElem=4 && var(5)<2
x=Ifelse(var(10)=3,4,Ifelse(var(10)=2,3.5,Ifelse(var(10)=1,2.25,0.75)))
[State 1005, Vel]
type=VelSet
trigger1=AnimElem=14 && var(5)>=2 && !var(7)
x=0.5
[State 1005, Position]
type=PosAdd
trigger1=AnimElemtime(16)<1
trigger1=movecontact && var(10)!=3
x=0.5
[State 1005, Position]
type=PosAdd
trigger1=AnimElemtime(17)<1
trigger1=movecontact && var(10)=3
x=0.25

[State 1005, Vel]
type=VelMul
trigger1=AnimElemtime(16)>1
x=0.9275
[State 1005, Vel]
type=VelSet
trigger1=AnimElemtime(20)>=0
x=0

[State 1005, movehitvar]
type=varset
trigger1=movecontact && numtarget
trigger1=!(target, ishelper)
var(3)=1
ignorehitpause=1

[State 1005, HitSound]
type=playsnd
trigger1=movehit && numtarget
trigger1=target, time=0 && target, movetype=H
value=s2, 2
channel=7
ignorehitpause=1

[State 1005, PlayerPush]
type=PlayerPush
trigger1=1
value=0

[State 1005, ScreenBound]
type=ScreenBound
trigger1=1
value=1

[State 1005, Width]
type=Width
trigger1=1
edge=40,0
player=40,0
ignorehitpause=1

[State 1005, FadeIn]
type=Trans
trigger1=var(11) 
trigger1=time<16
trans=addalpha
alpha=0+(32*var(11)),256-(32*var(11))
ignorehitpause=1

[State 1005, Dampener Set]
type=varset
trigger1=!time 
fvar(10)=(root,fvar(10))

[State 1005, High]
type=hitdef
triggerall=(!(root, var(16)) && root, var(15) < 1 || root, var(20)|| root, var(0)||var(10)=3)
triggerall=!numtarget(1005)
trigger1=animelemtime(3) >= 1 && animelemtime(6) < 0
trigger2=animelemtime(9) >= 0 && animelemtime(12) < 0
trigger3=animelemtime(15) >= 0 && animelemtime(18) < 0
id=1005
priority=4, Hit
attr=S, SA
damage=floor(Ifelse(root,var(13)>10,2,Ifelse(root,var(13)>5,5,10)*fvar(10))),2
animtype=Hard
hitflag=MAF
guardflag=M
pausetime=Ifelse(root,var(0),0,2),4
guard.pausetime=Ifelse(root,var(0),0,2),2
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1,-1
guardsound=s130,0
ground.type=High
ground.slidetime=4
ground.hittime=12
ground.velocity=-7
ground.cornerpush.veloff=0
air.velocity=-2, -1
air.fall=1
fall.recover=0
getpower=Ifelse(var(10)=3||root,var(20),0,9),Ifelse(var(10)=3||root,var(20),0,9)
givepower=9, 9
envshake.time=8
envshake.ampl=2
yaccel=0.4
airguard.ctrltime=12
airguard.velocity=Ifelse(root,var(20),-2,-4),-2
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
sprpriority=0

[State 1005, Low]
type=hitdef
triggerall=(!(root, var(16)) && root, var(15) < 1 || root, var(20)|| root, var(0)||var(10)=3)
triggerall=!numtarget(1006)
trigger1=animelemtime(6) >= 0 && animelemtime(9) < 0
trigger2=animelemtime(12) >= 0 && animelemtime(15) < 0
id=1006
priority=4, Hit
attr=S, SA
damage=floor(Ifelse(root,var(13)>10,2,Ifelse(root,var(13)>5,5,10)*fvar(10))),2
animtype=Hard
hitflag=MAF
guardflag=M
pausetime=Ifelse(root,var(0),0,2),4
guard.pausetime=Ifelse(root,var(0),0,2),2
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1,-1
guardsound=s130,0
ground.type=Low
ground.slidetime=4
ground.hittime=12
ground.velocity=-7
ground.cornerpush.veloff=0
air.velocity=-2, -1
air.fall=1
fall.recover=0
getpower=Ifelse(var(10)=3||root,var(20),0,9),Ifelse(var(10)=3||root,var(20),0,9)
givepower=9, 9
envshake.time=8
envshake.ampl=2
yaccel=0.5
airguard.ctrltime=12
airguard.velocity=-2,-1
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
sprpriority=0

[State 1005, High]
type=hitdef
triggerall=(!(root, var(16)) && root, var(15) < 1 || root, var(20)|| root, var(0)||var(10)=3)
triggerall=!numtarget(1007)
trigger1=animelemtime(18) >= 0 
id=1007
priority=4, Hit
attr=S, SA
damage=floor(7*fvar(10)),2
animtype=Hard
hitflag=MAF
guardflag=M
pausetime=Ifelse(root,var(0),0,12),12
guard.pausetime=Ifelse(root,var(0),0,16),2
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1,-1
guardsound=s130,0
ground.type=High
ground.slidetime=4
ground.hittime=12
ground.velocity=Ifelse(root,var(20),-2,-4)
ground.cornerpush.veloff=0
air.velocity=Ifelse(root,var(20),-2,-4), -3
air.fall=1
fall.recover=0
getpower=Ifelse(var(10)=3||root,var(20),0,9),Ifelse(var(10)=3||root,var(20),0,9)
givepower=9, 9
envshake.time=8
envshake.ampl=2
yaccel=0.4
airguard.ctrltime=12
airguard.velocity=Ifelse(root,var(20),-2,-4),-2
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
sprpriority=0
persistent=0

[State 1005, P2 Dead]
type=TargetState
trigger1=NumTarget && WInKO
trigger1=!(Target, NumPartner)
trigger1=Target, StateNo=5110
trigger1=Target, Time=1
trigger1=!(Target, Alive)
value=6008
ignoreHitPause=1

[State 1005, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8013)
ID=8000
name="Spark"
postype=P2
pos=(target, const(size.ground.front) -10),-52-random%50
ownPal=1
size.xScale=1.0
size.yScale=1.0
pausemovetime=65535
supermovetime=65535
ignoreHitPause=1

[State 1005, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=!(Target, HitShakeOver)
trigger1=!Numhelper(8290)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P2
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 20, ceil(P2Dist x), -20)), -60
ownPal=1
pausemovetime=65535
supermovetime=65535
ignoreHitPause=1
persistent=0

[State 1005, HitCount]
type=VarAdd
trigger1=Movehit=1 && NumTarget
trigger1=(enemynear, movetype=H) && !(target, time)
var(13)=1
[State 1005, HitCount]
type=ParentVarAdd
trigger1=Movehit=1 && NumTarget
trigger1=(enemynear, movetype=H) && !(target, time)
var(13)=1
[State 1005, HitCount]
type=parentVarAdd
trigger1=Root,var(0) 
trigger1=Movehit=1 && NumTarget
trigger1=(enemynear, movetype=H) && !(target, time)
fvar(13)=Ifelse(root,fvar(13)>20,0.5,0.75)
[State 1005, target's PlayerID]
type=ParentVarSet
trigger1=Root,var(0) && Movehit=1 && NumTarget
trigger1=target,IsHelper=0 
var(12)=target,ID
ignorehitpause=1

[State 1005, Snd]
type=ParentVarAdd
trigger1=Movehit=1 && NumTarget
var(47)=1
[State 1325, Juggle Points]
type=ParentVarAdd
trigger1=animelem=20 && var(3)
var(15)=1
[State 1005, Contact]
type=VarSet
trigger1=MoveContact=1 && NumTarget
var(18)=1
[State 1005, Contact]
type=ParentVarSet
trigger1=MoveContact=1 && NumTarget
var(18)=1
ignorehitpause=1

[State 1005, Max Cancel]
type=changestate
trigger1=root,stateno=3050 && root,animelemtime(14)<0
value=3055
ignorehitpause=1
[State 1005, Max Cancel]
type=changestate
trigger1=root,stateno=3075 && root,animelemtime(10)<0
value=3065
ignorehitpause=1
[State 1005, Max Cancel]
type=changestate
trigger1=root,stateno=3150 
value=1015
ignorehitpause=1
[State 1005, Super Cancel]
type=changestate
trigger1=root,stateno=3200  
value=3205
ignorehitpause=1
[State 1005, Super Cancel]
type=changestate
trigger1=root,stateno=3300 
value=1015
ignorehitpause=1
[State 1005, Super Cancel]
type=changestate
trigger1=(root,stateno=3400||root,stateno=3450) && prevstateno!=3405
value=3405
ignorehitpause=1

[State 1005, StateTypeSet: Idle]
type=StateTypeSet
trigger1= AnimElemTime(20)=0 
moveType=I
[State 1005, Change]
type=changestate
trigger1=!animtime
trigger2=roundstate>3
trigger3=root,stateno=3100||root,stateno=3150
value=1015
ignorehitpause=1
[State 1005, Change]
type=changestate
trigger1=root,Movetype=H && root,var(45)>=1
value=1007
ignorehitpause=1
[State 1005, Blank]
type=changestate
trigger1=root,Numhelper(1005)>1 && time>1
trigger2=(root,stateno=[1400,1450])
value=1016
ignorehitpause=1
[State 1005, End]
type=destroyself
trigger1=root,var(1)
ignorehitpause=1
;--------------------------------------------------------------------------------
;Muda Muda GetHit 1
[Statedef 1007]
type=U
movetype=H
physics=N
velset=0,0

[State 1007, NotHitBy]
type=NotHitBy
trigger1=time<5 
value=SCA
time=1
ignorehitpause=1

[State 1007, VarSet]
type=VarSet
trigger1=var(45) && !time 
var(31)=GetHitVar(damage)

[State 1007, World SFX]
type=PlaySnd
trigger1=!time && (prevstateno!=1007)
value=1,7
channel=5

[State 1007, HitOverride]
type=hitoverride
trigger1=time>4
time=-1
attr=SCA, AA, AP, AT
stateno=1007
ignorehitpause=1
[State 1007, HB]
type=hitby
trigger1=time>4
time=-1
value=SCA, AP, AA
ignorehitpause=1

[State 1007, Anim] 
type=ChangeAnim
trigger1=!time
trigger1=GetHitVar(animtype) != [3,5]
value=ifelse((GetHitVar(groundtype)=1),15000,15010) + GetHitVar(animtype)

[State 1007, anim 2] 
type=ChangeAnim
trigger1=!time
trigger1=GetHitVar(animtype)=[3,5]
value=15030

[State 1007, anim 3] 
type=ChangeAnim
trigger1=!time
trigger1=(GetHitVar(animtype)=[4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value=15047 + GetHitVar(animtype) 

[State 1007, Anim] 
type=ChangeAnim
trigger1=!time && !GetHitVar(animtype)
value=15000 + (anim % 10)

[State 1007, Freeze anim] 
type=ChangeAnim
trigger1=!time
value=anim
elem=animelemno(0)-1

[State 1007, statetype] 
type=StateTypeSet
trigger1=!time
trigger1=GetHitVar(yvel) != 0 || GetHitVar(fall)
trigger2=Pos Y != 0
statetype=A

[State 1007, FFB Light]
type=ForceFeedback
trigger1=anim=15000
trigger2=anim=15010
persistent=0
time=6
waveform=square

[State 1007, FFB Medium]
type=ForceFeedback
trigger1=anim=15001
trigger2=anim=15011
persistent=0
time=8
waveform=sinesquare
ampl=110,-1,-.3

[State 1007, FFB Hard]
type=ForceFeedback
trigger1=anim=15002
trigger2=anim=15012
trigger3=anim=15030
persistent=0
time=15
waveform=sinesquare
ampl=140

[State 1007, Change]
type=ChangeState
trigger1=HitShakeOver
value=1011
[State 1007, End]
type=destroyself
trigger1=root,var(1)
trigger2=root,numhelper(1005)>1>1>1
trigger2=time>1
ignorehitpause=1
;------------------------------------------------------------------
;Muda Barrage Remove
[Statedef 1010]
type=U
movetype=I
physics=N
ctrl=0
velset=0,0

[State 1010, P2 Dead]
type=TargetState
trigger1=NumTarget && WInKO
trigger1=!(Target, NumPartner)
trigger1=Target, StateNo=5110
trigger1=!(Target, Alive)
trigger1=target,stateno!=6008
value=6008
ignoreHitPause=1

[State 1010, AfterImageTime]
type=AfterImageTime
trigger1=1 
time=0
ignorehitpause=1
[State 1010, Varadd]
type=varadd
trigger1=!Time
var(4)=0
[State 1010, Varadd]
type=varadd
trigger1=1
var(4)=1

[State 1010, PlaySnd]
type=PlaySnd
trigger1=!time
value=s1,7
persistent=0
channel=12
[State 1010, PosFreeze]
type=PosFreeze
trigger1=1 
value=1
ignorehitpause=1
[State 1010, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA
ignorehitpause=1
[State 1010, AngleDraw]
type=AngleDraw
trigger1=prevstateno!=1007
scale=(1.0 * const(size.xscale))-0.025*var(4),(1.0 * const(size.yscale))+0.05*var(4)
ignorehitpause=1
[State 1010, AngleDraw]
type=AngleDraw
trigger1=prevstateno=1007
scale=(1.0 * const(size.xscale))+0.025*var(4),(1.0 * const(size.yscale))-0.025*var(4)
ignorehitpause=1
[State 1010, Trans]
type=Trans
trigger1=1 
trans=addalpha
alpha=256-16*var(4),0+16*var(4)
ignorehitpause=1

[State 1010, World Cancel]
type=changestate
trigger1=root,stateno=3200 && prevstateno!=3205
value=3205
ignorehitpause=1
[State 1010, Super Cancel]
type=changestate
trigger1=(root,stateno=3400||root,stateno=3450) && prevstateno!=3405
value=3405
ignorehitpause=1

[State 1010, Max Cancel]
type=changestate
trigger1=root,stateno=3050 && root,animelemtime(14)<0
value=3055
ignorehitpause=1
[State 1010, Max Cancel]
type=changestate
trigger1=root,stateno=3075 && root,animelemtime(10)<0
value=3065
ignorehitpause=1
[State 1010, End]
type=destroyself
trigger1=var(4)>16
trigger2=root,var(1)
trigger3=root,Numhelper(1005)>1 && var(4)>1
ignorehitpause=1
;------------------------------------------------------------------
;World Hit Remove
[Statedef 1011]
type=U
movetype=I
physics=N
ctrl=0
velset=0,0

[State 1011, P2 Dead]
type=TargetState
trigger1=NumTarget && WInKO
trigger1=!(Target, NumPartner)
trigger1=Target, StateNo=5110
trigger1=Target, Time=1
trigger1=!(Target, Alive)
value=6008
ignoreHitPause=1

[State 1011, AfterImageTime]
type=AfterImageTime
trigger1=1 
time=0
ignorehitpause=1
[State 1011, Varadd]
type=varadd
trigger1=!Time
var(4)=0
[State 1011, Varadd]
type=varadd
trigger1=1
var(4)=1

[State 1011, PlaySnd]
type=PlaySnd
trigger1=!time
value=s1,7
persistent=0
channel=12
[State 1011, PosFreeze]
type=PosFreeze
trigger1=1 
value=1
ignorehitpause=1
[State 1011, Freeze anim]
type=ChangeAnim
trigger1=1
value=anim
[State 1011, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA
ignorehitpause=1
[State 1011, AngleDraw]
type=AngleDraw
trigger1=1
scale=(1.0 * const(size.xscale))+0.025*var(4),(1.0 * const(size.yscale))-0.025*var(4)
ignorehitpause=1
[State 1011, Trans]
type=Trans
trigger1=1 
trans=addalpha
alpha=256-16*var(4),0+16*var(4)
ignorehitpause=1

[State 1011, End]
type=destroyself
trigger1=var(4)>16
trigger2=root,var(1)
trigger3=root,Numhelper(1005)>1 && var(4)>1
ignorehitpause=1
;------------------------------------------------------------------
;Muda Barrage (Helper)-Destroy
[Statedef 1015]
type=S
physics=N
movetype=I
velset=0, 0
ctrl=0

[State 1015, AfterImageTime]
type=AfterImageTime
trigger1=1 
time=0
ignorehitpause=1
[State 1015, Turn]
type=Turn
trigger1=!time && prevstateno=1255

[State 1015, PlayerPush]
type=PlayerPush
trigger1=1 
value=0
ignorehitpause=1
[State 1015, PosFreeze]
type=PosFreeze
trigger1=1
value=1
ignorehitpause=1

[State 1015, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA
ignorehitpause=1

[State 1015, P2 Dead]
type=TargetState
trigger1=NumTarget && WInKO
trigger1=!(Target, NumPartner)
trigger1=Target, StateNo=5110
trigger1=Target, Time=1
trigger1=!(Target, Alive)
value=6008
ignoreHitPause=1

[State 1015, World Cancel]
type=changestate
trigger1=root,stateno=3200 && prevstateno!=3205
value=3205
ignorehitpause=1
[State 1015, Super Cancel]
type=changestate
trigger1=(root,stateno=3400||root,stateno=3450) && prevstateno!=3405
value=3405
ignorehitpause=1

[State 1015, Blank]
type=changestate
trigger1=root,Numhelper(1005)>1 && time>1
trigger2=(root,stateno=[1400,1450])
value=1016
ignorehitpause=1
[State 1015, Change]
type=changestate
trigger1=time>2
value=1010
ignorehitpause=1
[State 1015, End]
type=destroyself
trigger1=root,var(1)
ignorehitpause=1
;------------------------------------------------------------------
;Muda Barrage-Destroy Invisible
[Statedef 1016]
type=S
physics=N
movetype=I
anim=9999
velset=0, 0
ctrl=0
movehitpersist=1
 
[State 1016, PosFreeze]
type=PosFreeze
trigger1=1
value=1
ignorehitpause=1

[State 1016, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA
ignorehitpause=1
[State 1016, End]
type=destroyself
trigger1=time>2
ignorehitpause=1
;-----------------------------------------------------------------
;Muda Muda Punch FX
[StateDef 1025]
physics=N
anim=1025
velset=0,0
sprPriority=-1
ctrl=0

[State 1025, End]
type=DestroySelf
trigger1=parent,movetype=H
trigger2=root,Movetype=H
ignorehitpause=1

[State 1025, VarSet]
type=VarSet
trigger1=!time
var(1)=parent,stateno

[State 1025, Reset]
type=VarSet
trigger1=time>8
var(11)=0
[State 1025, FadeIn]
type=VarAdd
trigger1=time<=8
var(11)=1

[State 1025, FadeIn]
type=Trans
trigger1=var(11) 
trans=addalpha
alpha=0+(32*var(11)),256-(32*var(11))
ignorehitpause=1

[State 1025, BindToParent]
type=BindToParent
trigger1=1 
pos=0,-35
ignorehitpause=1

[State 1025, End]
type=DestroySelf
trigger1=var(1)!=parent,stateno
trigger2=parent,time < time
trigger3=parent,Numhelper(1025)>1 && time>1
trigger4=(parent,stateno!=1005) && (parent,stateno!=1400) && (parent,stateno!=1450)
trigger5=parent,stateno=1005 && parent,animelemtime(20)>=0
trigger6=(root,stateno=1400||root,stateno=1450) && root,animelemtime(33)>=0
ignorehitpause=1
;-------------------------------------------------------------------
;Muda Muda Punch FX 2
[StateDef 1026]
physics=N
anim=1026
velset=0,0
sprPriority=Ifelse(parent,stateno=3305,4,1)
ctrl=0

[State 1026, VarSet]
type=VarSet
trigger1=!time
var(1)=parent,stateno

[State 1026, End]
type=DestroySelf
trigger1=parent,movetype=H
trigger2=root,Movetype=H
ignorehitpause=1

[State 1026, Reset]
type=VarSet
trigger1=time>8 
var(11)=0
[State 1026, FadeIn]
type=VarAdd
trigger1=time<=8
var(11)=1

[State 1026, FadeIn]
type=Trans
trigger1=var(11) 
trans=addalpha
alpha=0+(32*var(11)),256-(32*var(11))
ignorehitpause=1

[State 1026, BindToParent]
type=BindToParent
trigger1=1
pos=0,-35
ignorehitpause=1

[State 1026, End]
type=DestroySelf
trigger1=var(1)!=parent,stateno
trigger2=parent,time < time
trigger3=parent,Numhelper(1025)>1 && time>1
trigger4=(parent,stateno!=1005) && (parent,stateno!=1400) && (parent,stateno!=1450)
trigger5=parent,stateno=1005 && parent,animelemtime(20)>=0
trigger6=(root,stateno=1400||root,stateno=1450) && root,animelemtime(33)>=0
ignorehitpause=1
;-------------------------------------------------------------------
;Mudaaa! Strike(Helper)
[Statedef 1105]
type=S
movetype=A
physics=N
anim=1105
ctrl=0
velset=0,0
sprpriority=1

[State 1105, NHB]
type=NotHitBy
trigger1=animelemtime(3)<=0
time=1
value=SCA
ignorehitpause=1

[State 1105, Strength]
type=varset
trigger1=!time 
var(10)=root, var(10)
[State 1105, Counter Flag]
type=VarSet
trigger1=NumEnemy && (EnemyNear, MoveType=A)
var(9)=1
ignoreHitPause=1

[State 1105, AttackDist]
type=AttackDist
trigger1=1 
value=100
ignorehitpause=1

[State 1105, World SFX]
type=PlaySnd
trigger1=!time 
value=s1,6
channel=5
[State 1105,Woosh]
type=PlaySnd
trigger1=animelem=5
value=s1,2
channel=4

[State 1105, HitOverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA, AA, AP, AT
stateno=1007
ignorehitpause=1
[State 1105, HB]
type=hitby
trigger1=1
time=-1
value=SCA, AP, AA
ignorehitpause=1

[State 1105, ChangeAnim]
type=ChangeAnim
trigger1=!time 
value=1105+var(10)

[State 1105, Reset]
type=varset
trigger1=!time
var(6)=0

[State 1105, Cancel]
type=varset
triggerall=animelemtime(6)>2 && animelemtime(10)<0
triggerall=roundstate=2 && numenemy 
trigger1=!(root,AILevel) && (root,command="BlazingStrike1"||root,command="BlazingStrike2"||root,command="BlazingStrike3")  
trigger2=root,AILevel && movecontact
var(6)=1

[State 1105, Dust Helper]
type=Helper
trigger1=AnimElem=4
helperType=Normal
stateNo=8103
ID=8100
name="Dash Dust"
posType=P1
ownPal=0
persistent=0

[State 1105, Skid Snd]
type=PlaySnd
trigger1=AnimElem=7
value=101,0
channel=9
[State 1105, Skid Dust]
type=Explod
trigger1=AnimElem=7
anim=8104
sprPriority=3
posType=P1
pos=ceil(-55*root,const(size.xscale)),ceil(2*root,const(size.yscale))
vel=0,0
scale=0.5,0.5
supermovetime=-1
ownpal=1

[State 1105, movehitvar]
type=varset
trigger1=movecontact && numtarget
trigger1=!(target, ishelper)
var(3)=1
ignorehitpause=1

[State 1105, Reset]
type=VarSet
trigger1=animelemtime(2)>=3 
var(11)=0
[State 1105, FadeIn]
type=VarAdd
trigger1=animelemtime(2)<3 
var(11)=1

[State 1105, Hit Frame]
type=ChangeAnim
triggerall=animelemtime(3)>=3 && animelemtime(5)<0 
trigger1=P2bodydist x < 30
value=anim
elem=5
persistent=0

[State 1105, Vel]
type=VelSet
trigger1=AnimElem=4 
x=6+2*var(10)

[State 1105, Position]
type=Posfreeze
trigger1=var(3)
value=1
ignorehitpause=1

[State 1105, Voice]
type=PlaySnd
trigger1=AnimElem=6
value=s1000,3
channel=0

[State 1105, Voice]
type=PlaySnd
trigger1=AnimElemTime(5)=1
value=s2,7
channel=6
[State 1105, EnvShake]
type=EnvShake
trigger1=AnimElemTime(5)=1
time=22
ampl=Ifelse(random<500,-4,4)

[State 1105, Attack Mulset]
type=attackmulset
trigger1= root,var(0)
value=0
ignorehitpause=1

[State 1105, Vel]
type=VelSet
trigger1=animelem=7
x=0
[State 1105, Vel]
type=VelMul
trigger1=animelemtime(5)>1
x=0.9275

[State 1105, HitSound]
type=playsnd
trigger1=movehit && numtarget
trigger1=target, time=0 && target, movetype=H
value=s2,2
channel=7
ignorehitpause=1

[State 1105, PlayerPush]
type=PlayerPush
trigger1=time%2 
value=0
[State 1105, ScreenBound]
type=ScreenBound
trigger1=1
value=1

[State 1105, Width]
type=Width
trigger1=1
edge=20,0

[State 1105, High]
type=hitdef
triggerall=(!(root, var(16)) && root, var(15) < 1 || root, var(20)|| root, var(0))
trigger1=animelem=6
id=1105
priority=4, Hit
attr=S,SA
damage=floor(70*root,fvar(10)),14
animtype=Hard
hitflag=MAF
guardflag=M
pausetime=0,12
guard.pausetime=Ifelse(root,var(0),0,24),12
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1,-1
guardsound=s130,0
ground.type=High
ground.slidetime=12
ground.hittime=32
air.hittime=120
ground.velocity=Ifelse(root,var(20),-4.5,-9)
ground.cornerpush.veloff=0
air.velocity=Ifelse(root,var(20),-4.5,-5), -3
air.fall=1
fall.recover=0
getpower=Ifelse(var(10)=3||root,var(20),0,72),Ifelse(var(10)=3||root,var(20),0,36)
givepower=36, 36
envshake.time=14
envshake.ampl=4
yaccel=Ifelse(root,var(20),0.35,0.42)
fall.recover=0
p2facing=1
airguard.ctrltime=16
airguard.velocity=Ifelse(root,var(20),-4.5,-9),-6
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
sprpriority=1

[State 1105, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8013)
ID=8000
name="Spark"
postype=P2
pos=(target, const(size.ground.front) -10),-72
ownPal=1
size.xScale=1.0
size.yScale=1.0
pausemovetime=65535
supermovetime=65535
ignoreHitPause=1

[State 1105, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=!(Target, HitShakeOver)
trigger1=!Numhelper(8290)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P2
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 20, ceil(P2Dist x), 20)), -72
ownPal=1
pausemovetime=65535
supermovetime=65535
ignoreHitPause=1
persistent=0

[State 1105, HitCount]
type=ParentVarAdd
trigger1=Movehit=1 && NumTarget
trigger1=(enemynear, movetype=H) && !(target, time)
var(13)=1
ignorehitpause=1
[State 1105, HitCount]
type=parentVarAdd
trigger1=Root,var(0)
trigger1=Movehit=1 && NumTarget
trigger1=(enemynear, movetype=H) && !(target, time)
fvar(13)=Ifelse(root,fvar(13)>22,1.5,3)
ignorehitpause=1

[State 1105, P2 Dead]
type=TargetState
trigger1=NumTarget && WInKO
trigger1=!(Target, NumPartner)
trigger1=Target, StateNo=5110
trigger1=Target, Time=1
trigger1=!(Target, Alive)
value=6008
ignoreHitPause=1

[State 1105, target's PlayerID]
type=ParentVarSet
trigger1=Root,var(0) 
trigger1=Movehit=1 && NumTarget
trigger1=(enemynear, movetype=H) && !(target, time)
trigger1=target,IsHelper=0 
var(12)=target,ID
ignorehitpause=1

[State 1105, Snd]
type=ParentVarAdd
trigger1=Movehit=1 && NumTarget
var(47)=1
ignorehitpause=1
[State 1325, Juggle Points]
type=ParentVarAdd
trigger1=MoveContact=1 && NumTarget
var(15)=1
ignorehitpause=1
[State 1105, Contact]
type=VarSet
trigger1=MoveContact=1 && NumTarget
var(18)=1
ignorehitpause=1
[State 1105, Contact]
type=ParentVarSet
trigger1=MoveContact=1 && NumTarget
var(18)=1
ignorehitpause=1

[State 1105, StateTypeSet: Idle]
type=StateTypeSet
trigger1=animelemtime(7)>=0
moveType=I

[State 1105, Max Cancel]
type=changestate
trigger1=root,stateno=3050 && root,animelemtime(14)<0
value=3055
ignorehitpause=1
[State 1105, Max Cancel]
type=changestate
trigger1=root,stateno=3075 && root,animelemtime(10)<0
value=3065
ignorehitpause=1
[State 1105, Max Cancel]
type=changestate
trigger1=root,stateno=3150 
value=1015
ignorehitpause=1
[State 1105, Super Cancel]
type=changestate
trigger1=root,stateno=3200  
value=3205
ignorehitpause=1
[State 1105, Super Cancel]
type=changestate
trigger1=root,stateno=3300 
value=1015
ignorehitpause=1
[State 1105, Super Cancel]
type=changestate
trigger1=(root,stateno=3400||root,stateno=3450) && prevstateno!=3405
value=3405
ignorehitpause=1

[State 1105, Change]
type=changestate
triggerall=animelemtime(7)>=0 && animelemtime(10)<0 
trigger1=var(6)=1 || var(10)=3
value=1110
[State 1105, Change]
type=changestate
trigger1=!animtime
trigger2=roundstate>3
trigger3=root,stateno=3100||root,stateno=3150
value=1015
ignorehitpause=1
[State 1105, Change]
type=changestate
trigger1=root,Movetype=H && root,var(45)>=1
value=1007
ignorehitpause=1
[State 1105, Blank]
type=changestate
trigger1=root,Numhelper(1005)>1 && time>1
trigger2=(root,stateno=[1400,1450])
value=1016
ignorehitpause=1
[State 1105, End]
type=destroyself
trigger1=root,var(1)
ignorehitpause=1
;---------------------------------------------------------------------
;Mudaaa! Strike Follow Up(Helper)
[Statedef 1110]
type=S
movetype=A
physics=N
anim=1110
ctrl=0
velset=0,0
sprpriority=1

[State 1110, NHB]
type=NotHitBy
trigger1=animelemtime(3)<=0
time=1
value=SCA
ignorehitpause=1

[State 1110, AttackDist]
type=AttackDist
trigger1=1 
value=100
ignorehitpause=1

[State 1110, Strength]
type=varset
trigger1=!time 
var(10)=root, var(10)
[State 1110, Counter Flag]
type=VarSet
trigger1=NumEnemy && (EnemyNear, MoveType=A)
var(9)=1
ignoreHitPause=1

[State 1110, World SFX]
type=PlaySnd
trigger1=!time 
value=s1,6
channel=5
[State 1110,Woosh]
type=PlaySnd
trigger1=animelem=5
value=s1,2
channel=4

[State 1110, HitOverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA, AA, AP, AT
stateno=1007
ignorehitpause=1
[State 1110, HB]
type=hitby
trigger1=1
time=-1
value=SCA, AP, AA
ignorehitpause=1

[State 1110, Dust Helper]
type=Helper
trigger1=AnimElem=3
helperType=Normal
stateNo=8103
ID=8100
name="Dash Dust"
posType=P1
ownPal=0
persistent=0

[State 1110, movehitvar]
type=varset
trigger1=movecontact && numtarget
trigger1=!(target, ishelper)
var(3)=1
ignorehitpause=1

[State 1110, Vel]
type=VelSet
trigger1=AnimElem=3 
x=4

[State 1110, Voice]
type=PlaySnd
trigger1=AnimElem=4
value=s1000,3
channel=0

[State 1110, Quake]
type=PlaySnd
trigger1=AnimElemTime(4)=1
value=s2,7
channel=6
[State 1110, EnvShake]
type=EnvShake
trigger1=AnimElemTime(4)=1
time=22
ampl=Ifelse(random<500,-6,6)

[State 1110, Vel]
type=VelSet
trigger1=animelem=7
x=0
[State 1110, Vel]
type=VelMul
trigger1=animelemtime(4)>1
x=0.9275

[State 1110, HitSound]
type=playsnd
trigger1=movehit && numtarget
trigger1=target, time=0 && target, movetype=H
value=s2,2
channel=7
ignorehitpause=1

[State 1110, PlayerPush]
type=PlayerPush
trigger1=time%2 
value=0
[State 1110, ScreenBound]
type=ScreenBound
trigger1=1
value=1

[State 1110, Width]
type=Width
trigger1=1
edge=20,0

[State 1110, Skid Snd]
type=PlaySnd
trigger1=AnimElem=7
value=101,0
channel=9
[State 1110, Skid Dust]
type=Explod
trigger1=AnimElem=7
anim=8104
sprPriority=3
posType=P1
pos=ceil(-35*root,const(size.xscale)),ceil(2*root,const(size.yscale))
vel=0,0
scale=0.5,0.5
supermovetime=-1
ownpal=1

[State 1110, High]
type=hitdef
triggerall=(!(root, var(16)) && root, var(15) < 1 || root, var(20)|| root, var(0))
trigger1=animelem=6
id=1110
priority=4, Hit
attr=S,SA
damage=floor((21+7*var(10))*root,fvar(10)),7
animtype=Hard
hitflag=MAF
guardflag=L
pausetime=0,12
guard.pausetime=Ifelse(root,var(0),0,24),12
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1,-1
guardsound=s130,0
ground.type=Low
ground.slidetime=12
ground.hittime=32
air.hittime=120
ground.velocity=Ifelse(root,var(20),-4.5,-9)
ground.cornerpush.veloff=0
air.velocity=Ifelse(root,var(20),-4.5,-5), -3
getpower=Ifelse(var(10)=3||root,var(20),0,72),Ifelse(var(10)=3||root,var(20),0,36)
givepower=36, 36
envshake.time=14
envshake.ampl=4
yaccel=Ifelse(root,var(20),0.35,0.42)
air.fall=1
fall.recover=0
p2facing=1
airguard.ctrltime=16
airguard.velocity=Ifelse(root,var(20),-4.5,-9),-6
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
sprpriority=1

[State 1110, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8013)
ID=8000
name="Spark"
postype=P2
pos=(target, const(size.ground.front) -10),-34
ownPal=1
size.xScale=1.0
size.yScale=1.0
pausemovetime=65535
supermovetime=65535
ignoreHitPause=1

[State 1110, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=!(Target, HitShakeOver)
trigger1=!Numhelper(8290)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P2
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 20, ceil(P2Dist x), 20)), -34
ownPal=1
pausemovetime=65535
supermovetime=65535
persistent=0
ignoreHitPause=1

[State 1110, HitCount]
type=ParentVarAdd
trigger1=Movehit=1 && NumTarget
var(13)=1
ignorehitpause=1
[State 1110, HitCount]
type=parentVarAdd
trigger1=Root,var(0) && Movehit=1 && NumTarget
fvar(13)=Ifelse(root,fvar(13)>22,1.5,3)
ignorehitpause=1

[State 1110, target's PlayerID]
type=ParentVarSet
trigger1=Root,var(0) && Movehit=1 && NumTarget
trigger1=target,IsHelper=0 
var(12)=target,ID
ignorehitpause=1

[State 1110, P2 Dead]
type=TargetState
trigger1=NumTarget && WInKO
trigger1=!(Target, NumPartner)
trigger1=Target, StateNo=5110
trigger1=Target, Time=1
trigger1=!(Target, Alive)
value=6008
ignoreHitPause=1

[State 1110, Snd]
type=ParentVarAdd
trigger1=Movehit=1 && NumTarget
var(47)=1
ignorehitpause=1
[State 1325, Juggle Points]
type=ParentVarAdd
trigger1=MoveContact=1 && NumTarget
var(15)=1
ignorehitpause=1
[State 1110, Contact]
type=VarSet
trigger1=MoveContact=1 && NumTarget
var(18)=1
ignorehitpause=1
[State 1110, Contact]
type=ParentVarSet
trigger1=MoveContact=1 && NumTarget
var(18)=1
ignorehitpause=1

[State 1110, StateTypeSet: Idle]
type=StateTypeSet
trigger1=animelemtime(7)>=0
moveType=I

[State 1110, Max Cancel]
type=changestate
trigger1=root,stateno=3050 && root,animelemtime(14)<0
value=3055
ignorehitpause=1
[State 1110, Max Cancel]
type=changestate
trigger1=root,stateno=3075 && root,animelemtime(10)<0
value=3065
ignorehitpause=1
[State 1110, Max Cancel]
type=changestate
trigger1=root,stateno=3150 
value=1015
ignorehitpause=1
[State 1110, Super Cancel]
type=changestate
trigger1=root,stateno=3200  
value=3205
ignorehitpause=1
[State 1110, Super Cancel]
type=changestate
trigger1=root,stateno=3300 
value=1015
ignorehitpause=1
[State 1110, Super Cancel]
type=changestate
trigger1=(root,stateno=3400||root,stateno=3450) && prevstateno!=3405
value=3405
ignorehitpause=1

[State 1110, Change]
type=changestate
trigger1=!animtime
trigger2=roundstate>3
trigger3=root,stateno=3100||root,stateno=3150
value=1015
ignorehitpause=1
[State 1110, Change]
type=changestate
trigger1=root,Movetype=H && root,var(45)>=1
value=1007
ignorehitpause=1
[State 1110, Blank]
type=changestate
trigger1=root,Numhelper(1005)>1 && time>1
trigger2=(root,stateno=[1400,1450])
value=1016
ignorehitpause=1
[State 1110, End]
type=destroyself
trigger1=root,var(1)
ignorehitpause=1
;-------------------------------------------------------------------
;Dio's EX Strike
[StateDef 1151]
physics=N
anim=1151
velset=0,0
sprPriority=0
ctrl=0

[State 1151, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 1151, Start Frame]
type=ChangeAnim
trigger1=root,animelemtime(9)=[0,1]
value=1151
elem=4
ignorehitpause=1
[State 1151, Frame]
type=ChangeAnim
trigger1=root,animelemtime(13)=[0,1]
value=1151
elem=8
ignorehitpause=1
[State 1151, Frame]
type=ChangeAnim
triggerall=anim=1151 
trigger1=root,stateno=1150 && root,animelemtime(16)>0
trigger2=roundstate>3
trigger3=!animtime
trigger4=root,stateno!=1150
value=1152
ignorehitpause=1

[State 1151, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1

[State 1151, Change]
type=changestate
trigger1=anim=1152
value=1010
ignorehitpause=1
[State 1151, Change]
type=changestate
trigger1=root,Movetype=H && root,var(45)>=1
value=1007
ignorehitpause=1
;-------------------------------------------------------------------
;World Teleport FX
[StateDef 1205]
physics=N
anim=1205
velset=0,0
sprPriority=-2
ctrl=0

[State 1215, Fade In]
type=Trans
trigger1=time>4
trans=addalpha
alpha=256-(32 * (Time - 4)),0+(32 * (Time - 4))
ignorehitpause=1

[State 1205, End]
type=DestroySelf
trigger1=!animtime
trigger2=root,movetype=H
ignorehitpause=1
;-------------------------------------------------------------------
;World Teleport FX
[StateDef 1206]
physics=N
anim=1206
velset=0,0
sprPriority=-2
ctrl=0

[State 1206, Fade Out]
type=Trans
trigger1=time>4
trans=addalpha
alpha=256-(32 * (Time - 4)),0+(32 * (Time - 4))
ignorehitpause=1

[State 1206, End]
type=DestroySelf
trigger1=!animtime
trigger2=root,movetype=H
ignorehitpause=1
;------------------------------------------------------------------------------- 
;Exclamation Point
[Statedef 1210]
physics=N
anim=1305
Sprpriority=4

[State 1210, Turn]
type=Turn
trigger1=facing!=parent,facing 

[State 1310, Assert]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 1210, VarSet]
type=VarSet
trigger1=!time 
var(1)=0
[State 1210, VarSet]
type=VarAdd
trigger1=animelemtime(2)>4 
var(1)=1

[State 1210, Trans]
type=trans
trigger1=var(1)
trans=addalpha
alpha=256-32*var(1),0+32*var(1)
ignorehitpause=1
[State 1210, AngleDraw]
type=AngleDraw
trigger1=1
scale=ceil((0.25*const(size.xscale))-0.005*var(1)),ceil((0.25*const(size.yscale))+0.005*var(1))

[State 1210, end]
type=destroyself
trigger1=time>32
;-------------------------------------------------------------------
;World Teleport FX
[StateDef 1215]
physics=N
anim=1215
velset=0,0
sprPriority=-2
ctrl=0

[State 1215, Fade In]
type=Trans
trigger1=time>4
trans=addalpha
alpha=256-(32 * (Time - 4)),0+(32 * (Time - 4))
ignorehitpause=1

[State 1215, End]
type=DestroySelf
trigger1=!animtime
trigger2=root,movetype=H
ignorehitpause=1
;-------------------------------------------------------------------
;World Teleport FX
[StateDef 1216]
physics=N
anim=1216
velset=0,0
sprPriority=-2
ctrl=0

[State 1216, Fade Out]
type=Trans
trigger1=time>4
trans=addalpha
alpha=256-(32 * (Time - 4)),0+(32 * (Time - 4))
ignorehitpause=1

[State 1216, End]
type=DestroySelf
trigger1=!animtime
trigger2=root,movetype=H
ignorehitpause=1
;-------------------------------------------------------------------
;DIE!
[StateDef 1255]
type=S
movetype=A
physics=N
velset=0,0
sprPriority=1
ctrl=0

[State 1255, ChangeAnim]
type=ChangeAnim
trigger1=anim!=1255
value=1255

[State 1255, Reset]
type=VarSet
trigger1=animelem=5
var(1)=0
[State 1255, Fade]
type=VarAdd
trigger1=animelemtime(5)<0
var(1)=1
[State 1255, Reset]
type=VarSet
trigger1=animelemtime(6)>=0 
var(2)=0
[State 1255, Fade]
type=VarAdd
trigger1=animelemtime(5)>=0 && animelemtime(7)<0 
var(2)=1
[State 1255, Reset]
type=VarSet
trigger1=animelemtime(10)>=0 
var(3)=0
[State 1255, Fade]
type=VarAdd
trigger1=animelemtime(7)>=0 && animelemtime(10)<0 
var(3)=1

[State 1255, Fade]
type=Trans
trigger1=animelemtime(12)<0 && var(1) 
trans=addalpha
alpha=0+(32*var(1)),256-(32*var(1))
ignorehitpause=1
[State 1255, Fade]
type=Trans
trigger1=animelemtime(12)<0  && var(2) 
trans=addalpha
alpha=256-(32*var(2)),0+(32*var(2))
ignorehitpause=1
[State 1255, Fade]
type=Trans
trigger1=animelemtime(12)<0  && var(3) 
trans=addalpha
alpha=0+(16*var(2)),256-(16*var(2))
ignorehitpause=1

[State 1255, Counter Flag]
type=VarSet
trigger1=NumEnemy && (EnemyNear, MoveType=A)
var(9)=1
ignoreHitPause=1

[State 1255, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 1255, HitOverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA, AA, AP, AT
stateno=1255
ignorehitpause=1
[State 1255, HB]
type=hitby
trigger1=1
time=-1
value=SCA, AP, AA
ignorehitpause=1

[State 1255, Frame]
type=ChangeAnim
trigger1=root,animelemtime(14)=[0,1]
trigger1=animelemtime(7)<0
value=1255
elem=7
ignorehitpause=1

[State 1255, BindToRoot]
type=BindToRoot
trigger1=root,anim=1250
trigger1=root,animelemtime(13)<0
pos=ceil(20+3*time*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1
[State 1255, BindToRoot]
type=BindToRoot
trigger1=root,anim=1250
trigger1=root,animelemtime(13)>=0 && animelemtime(15)<0
pos=ceil(20*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1

[State 1255, Dust Helper]
type=Helper
trigger1=AnimElem=12
helperType=Normal
stateNo=8103
ID=8100
name="Dash Dust"
posType=P1
pos=25,0
facing=-1
ownPal=1
persistent=0

[State 1255, movehitvar]
type=varset
trigger1=movecontact && numtarget
trigger1=!(target, ishelper)
var(3)=1
ignorehitpause=1

[State 1255, Woosh]
type=PlaySnd
trigger1=animelem=13
value=1,2
channel=8
[State 1255, HitSound]
type=playsnd
trigger1=movehit && numtarget
trigger1=target, time=0 && target, movetype=H
value=s2, 2
channel=7
ignorehitpause=1

[State 1255, PlayerPush]
type=PlayerPush
trigger1=1
value=0

[State 1255, ScreenBound]
type=ScreenBound
trigger1=1
value=0

[State 1255, AttackDist]
type=AttackDist
trigger1=1 
value=120
ignorehitpause=1

[State 1255, Width]
type=Width
trigger1=animelemtime(13)>0
edge=-30,-30
player=30,0
ignorehitpause=1

[State 1255, High]
type=hitdef
trigger1=animelem=14
id=1255
priority=4, Hit
attr=S, SA
damage=floor(105*root,fvar(10)),14
animtype=Hard
hitflag=MAF
guardflag=M
pausetime=Ifelse(root,var(0),0,12),16
guard.pausetime=Ifelse(root,var(0),0,16),12
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1,-1
guardsound=s130,0
ground.type=High
ground.slidetime=12
ground.hittime=32
air.hittime=120
ground.velocity=7,-6
ground.cornerpush.veloff=10
air.velocity=7,-5
fall=1
fall.recover=0
getpower=0,0
givepower=36,36
envshake.time=12
envshake.ampl=4
yaccel=0.3825
airguard.ctrltime=12
airguard.velocity=7,-3
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
sprpriority=1
persistent=0

[State 1255, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8013)
ID=8000
name="Spark"
postype=P2
pos=(target, const(size.ground.front) -10),-80
ownPal=1
size.xScale=1.0
size.yScale=1.0
pausemovetime=65535
supermovetime=65535
ignoreHitPause=1

[State 1255, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=!(Target, HitShakeOver)
trigger1=!Numhelper(8290)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P2
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 20, ceil(P2Dist x), -20)), -60
ownPal=1
pausemovetime=65535
supermovetime=65535
ignoreHitPause=1
persistent=0

[State 1255, Turn]
type=Turn
trigger1=!animtime

[State 1255, HitCount]
type=ParentVarAdd
trigger1=Movehit=1 && NumTarget
var(13)=1
[State 1255, HitCount]
type=parentVarAdd
trigger1=Root,var(0) && Movehit=1 && NumTarget
fvar(13)=Ifelse(root,fvar(13)>20,0.5,0.75)
[State 1255, target's PlayerID]
type=ParentVarSet
trigger1=Root,var(0) && Movehit=1 && NumTarget
trigger1=target,IsHelper=0 
var(12)=target,ID
ignorehitpause=1

[State 1255, Snd]
type=ParentVarAdd
trigger1=Movehit=1 && NumTarget
var(47)=1
[State 1325, Juggle Points]
type=ParentVarAdd
trigger1=animelem=20 && var(3)
var(15)=1
[State 1255, Contact]
type=VarSet
trigger1=MoveContact=1 && NumTarget
var(18)=1
[State 1255, Contact]
type=ParentVarSet
trigger1=MoveContact=1 && NumTarget
var(18)=1
ignorehitpause=1

[State 1255, Max Cancel]
type=changestate
trigger1=root,stateno=3150 
value=1015
ignorehitpause=1
[State 1255, Super Cancel]
type=changestate
trigger1=root,stateno=3200  
value=3205
ignorehitpause=1
[State 1255, Super Cancel]
type=changestate
trigger1=root,stateno=3300 
value=1015
ignorehitpause=1
[State 1255, Super Cancel]
type=changestate
trigger1=(root,stateno=3400||root,stateno=3450) && prevstateno!=3405
value=3405
ignorehitpause=1

[State 1255, StateTypeSet: Idle]
type=StateTypeSet
trigger1= AnimElemTime(15)>=0 
moveType=I

[State 1255, Change]
type=changestate
trigger1=!animtime
trigger2=root,stateno=3100||root,stateno=3150
value=1015
ignorehitpause=1
[State 1255, Max Cancel]
type=changestate
trigger1=root,stateno=3050 && root,animelemtime(14)<0
value=3055
ignorehitpause=1
[State 1255, Max Cancel]
type=changestate
trigger1=root,stateno=3075 && root,animelemtime(10)<0
value=3065
ignorehitpause=1
[State 1255, Super Cancel]
type=changestate
trigger1=(root,stateno=3400||root,stateno=3450) && prevstateno!=3405
value=3405
ignorehitpause=1

[State 1255, Change]
type=changestate
trigger1=root,Movetype=H && root,var(45)>=1
value=1007
ignorehitpause=1
[State 1255, End]
type=destroyself
trigger1=root,var(1)
ignorehitpause=1
;------------------------------------------------------------------------------- 
;Exclamation Point
[Statedef 1305]
physics=N
anim=1305
Sprpriority=5

[State 1305, Turn]
type=Turn
trigger1=facing!=parent,facing 

[State 1305, Assert]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 1305, SFX]
type=PlaySnd
trigger1=time=8
value=s1300,0
channel=2

[State 1305, VarSet]
type=VarSet
trigger1=!time 
var(1)=0
[State 1305, VarSet]
type=VarAdd
trigger1=animelemtime(2)>4 
var(1)=1

[State 1305, Trans]
type=trans
trigger1=var(1)
trans=addalpha
alpha=256-32*var(1),0+32*var(1)
ignorehitpause=1
[State 1305, AngleDraw]
type=AngleDraw
trigger1=1
scale=ceil((0.25*const(size.xscale))-0.005*var(1)),ceil((0.25*const(size.yscale))+0.005*var(1))

[State 1305, end]
type=destroyself
trigger1=time>32
;------------------------------------------------------------------------------- 
;Time Stop FX
[Statedef 1332]
physics=N
anim=1332
sprpriority=-999

[State 1332, StopSnd]
type=StopSnd
trigger1=1
channel=3
ignorehitpause=1

[State 1332, Snd]
type=PlaySnd
trigger1=!time
value=1300,2
channel=0

[State 1332, ScrenBound]
type=ScreenBound
trigger1=1
value=0

[State 1332, EnvColor]
type=Bgpalfx
trigger1=time<=34
time=2
invertall=1
color=0
ignorehitpause=1

[State 1332, Assert]
type=AssertSpecial
trigger1=time<9
flag=invisible
ignorehitpause=1
[State 1332, Assert]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 1332, NotHitBy]
type=NotHitBy
trigger1=1 
value=SCA

[State 1332, Explod]
type=Explod
trigger1=!time
anim=1334
id=1334
pos=200,110
postype=Left
sprpriority=-999
ownpal=1
bindtime=-1
removetime=9
scale=5,5
supermovetime=65535
pausemovetime=65535
persistent=0

[State 1332, Var]
type=varSet
trigger1=!time
var(1)=100
[State 1332, VarAdd]
type=varadd
trigger1=time>=9
var(1)=-2

[State 1332, Scale]
type=angledraw
trigger1=1
scale=var(1)*0.01,var(1)*0.01

[State 1332, Var]
type=varset
trigger1=!time
var(2)=256
[State 1332, VarAdd]
type=varadd
trigger1=time>=9
var(2)=-5
[State 1332, Trans]
type=Trans
trigger1=1
trans=addalpha
alpha=var(2)+(8*var(1)), 256+(4*var(1))

[State 1332, end]
type=destroyself
trigger1=var(1)<=0
;------------------------------------------------------------------------------- 
;Time Stop FX 2
[Statedef 1333]
physics=N
anim=9999

[State 1333, EnvColor]
type=Bgpalfx
triggerall=(root,stateno!=[3000,3199]) && (root,stateno!=[3300,3605])
trigger1=root,stateno=1310 && root,time<219
trigger2=root,var(0)
trigger3=root,Numtarget
time=1
invertall=1
color=0
ignorehitpause=1

[State 1333, Assert]
type=AssertSpecial
trigger1=root,stateno=1310 && root,time<220
trigger2=root,var(0)
trigger3=root,Numtarget
flag=nomusic
flag2=timerfreeze
ignorehitpause=1

[State 1333, end]
type=destroyself
trigger1=root,stateno=1310 && root,time>=221
trigger2=(root,stateno=[3202,3203]) 
trigger3=time>250 && !(var(0))
trigger4=root,movetype=H
;-------------------------------------------------------------------
;Dio Air Muda
[StateDef 1410]
physics=N
anim=1410
velset=0,0
sprPriority=-1
ctrl=0

[State 1410, Turn]
type=Turn
trigger1=facing!=root,facing 
ignorehitpause=1

[State 1410, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA
ignorehitpause=1
[State 1410, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 1410, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(-25*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1

[State 1410, ChangeAnim]
type=ChangeAnim
triggerall=anim!=1411
trigger1=root,stateno=1405 && root,animelemtime(1)=0
trigger2=roundstate>3
trigger3=root,stateno=3030 && root,animelemtime(1)=0
trigger4=root,stateno=[50,52]
value=1411
ignorehitpause=1
[State 1410, PosAdd]
type=PosAdd
trigger1=anim=1411 && animelem=1
x=100

[State 1410, Max Cancel]
type=changestate
trigger1=root,stateno=3050 && root,animelemtime(14)<0
value=3055
ignorehitpause=1
[State 1410, Max Cancel]
type=changestate
trigger1=root,stateno=3075 && root,animelemtime(10)<0
value=3065
ignorehitpause=1
[State 1410, Super Cancel]
type=changestate
trigger1=root,stateno=3200  
value=3205
ignorehitpause=1
[State 1410, Change]
type=changestate
triggerall=anim=1411
trigger1=root,stateno=1405 && root,animelemtime(1)=0
trigger2=roundstate>3
trigger3=root,stateno=[50,52]
value=1010
ignorehitpause=1
[State 1410, Change]
type=changestate
trigger1=root,Movetype=H 
trigger1=(root,anim!=[1400,1403]) &&  (root,anim!=1450) 
value=1007
ignorehitpause=1
[State 1410, End]
type=DestroySelf
trigger1=(root,stateno!=[50,51]) 
trigger1=(root,anim!=[1400,1403]) &&  (root,anim!=1450) 
ignorehitpause=1
;---------------------------------------------------------------------
;Space Ripper Stingy Eyes (Proj)
[Statedef 1505]
type=S
movetype=A
physics=N
anim=1505
ctrl=0
velset=0, 0
sprpriority=4

[State 1505, AttackDist]
type=AttackDist
trigger1=1 
value=320
ignorehitpause=1

[State 1505, VarSet]
type=VarSet
trigger1=!time 
var(1)=0
[State 1505, VarSet]
type=VarAdd
trigger1=animelemtime(2)>0 
var(1)=1

[State 1505, Counter Flag]
type=VarSet
trigger1=NumEnemy && animelemtime(2)<0
var(9)=Ifelse(EnemyNear,MoveType=A,1,0)
ignoreHitPause=1

[State 1505, NHB]
type=nothitby
trigger1=1
value=SCA
ignorehitpause=1

[State 1505, AngleDraw]
type=AngleDraw
trigger1=1 
scale=1.0,1.0-0.05*var(1)

[State 1505, BindToRoot]
type=BindToRoot
trigger1=1
pos=ceil(-2 * root,const(size.xScale)), ceil(6-(5*var(1)) * root,const(size.yScale))
ignorehitpause=1

[State 1505, Strength]
type=varset
trigger1=!time
var(10)=root, var(10)

[State 1505, movehitvar]
type=varset
trigger1=movecontact && numtarget
trigger1=!(target, ishelper)
var(3)=1
ignorehitpause=1
[State 1505, VarAdd]
type=VarAdd
trigger1 =!time
var(8)=1

[State 1505, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1
[State 1505, Assert]
type=trans
trigger1=1
trans=addalpha
alpha=256-16*var(1), 256
ignorehitpause=1
[State 1505, HitSound]
type=playsnd
trigger1=movehit && numtarget
trigger1=target, time=0 && target, movetype=H
value=s2,6
persistent=0
ignorehitpause=1

[State 1505, Beam]
type=hitdef
trigger1=!root,var(16) && (root,var(15)<3 || root,var(20)|| root,var(0)=0)
trigger1=!time
priority=4, Hit
attr=S, SP
damage=floor(Ifelse(root,fvar(12)>2,42,77+14*var(10))*root,fvar(10)),floor(7*root,fvar(10))
animtype=Hard
hitflag=MAF
guardflag=
pausetime=0,18
guard.pausetime=0,12
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1,-1
guardsound=s130,1
ground.type=High
ground.slidetime=6
ground.hittime=32
air.hittime=120
guard.hittime=12
ground.velocity=Ifelse(root,var(20)||var(10)=3,-5,-10),-9
guard.velocity=Ifelse(root,var(20)||var(10)=3,-2.52,-5)
air.cornerpush.veloff=0
ground.cornerpush.veloff=0
guard.cornerpush.veloff=0
air.velocity=Ifelse(root,var(20)||var(10)=3,-3,-6), -7
fall=1
fall.recover=0
getpower=Ifelse(root,var(20)||var(10)=3,0,72),Ifelse(root,var(20)||var(10)=3,0,36)
givepower=36,36
envshake.time=12
envshake.ampl=5
sprpriority=4
yaccel=Ifelse(root,var(20)||var(10)=3,0.35,0.42)
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48

[State 1505, Beam]
type=hitdef
trigger1=root,var(0)=1
trigger1=!time
priority=4, Hit
attr=S, SP
damage=0,0
animtype=Hard
hitflag=MAF
guardflag=
pausetime=0,18
guard.pausetime=0,12
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1,-1
guardsound=s130,1
ground.type=High
ground.slidetime=6
ground.hittime=32
air.hittime=120
guard.hittime=12
ground.velocity=Ifelse(root,var(20)||var(10)=3,-2,-7),-9
guard.velocity=Ifelse(root,var(20)||var(10)=3,-1.52,-5)
air.cornerpush.veloff=0
ground.cornerpush.veloff=0
guard.cornerpush.veloff=0
air.velocity=Ifelse(root,var(20)||var(10)=3,-2,-6), -7
fall=1
fall.recover=0
getpower=Ifelse(root,var(20)||var(10)=3,0,72),Ifelse(root,var(20)||var(10)=3,0,36)
givepower=36,36
envshake.time=12
envshake.ampl=5
sprpriority=4
yaccel=Ifelse(root,var(20)||var(10)=3,0.35,0.42)
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48

[State 1505, Log the current target's PlayerID]
type=ParentVarSet
trigger1=root, StateNo=1500||root, StateNo=1550
trigger1=(parent,stateno=root,stateno)
trigger1=Root,var(0) && NumTarget
trigger1=target,IsHelper=0 
var(12)=target,ID
ignorehitpause=1

[State 1505, VarSet]
type=VarSet
trigger1=numenemy
fvar(6)=p2bodydist x

[State 1505, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8013)
ID=8000
name="Spark"
posType=P1
pos=ceil(fvar(6)+20),-90
facing=-1
ownPal=0
size.xScale=1.0
size.yScale=1.0
pausemovetime=65535
supermovetime=65535
ignoreHitPause=1
persistent=0

[State 1505, Counter FX]
type=Helper
trigger1=Movehit=1 && var(9)
trigger1=!Numhelper(8290)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P1
pos=ceil(fvar(6)+20),-90
ownPal=0
size.xScale=1.0
size.yScale=1.0
pausemovetime=65535
supermovetime=65535
ignoreHitPause=1
persistent=0

[State 1505, HitCount]
type=ParentVarAdd
trigger1=Movehit=1 && NumTarget
var(13)=1
ignorehitpause=1
persistent=0
[State 1505, Projhit]
type=ParentVarAdd
trigger1=Movehit=1 && NumTarget
var(47)=1
ignorehitpause=1
persistent=0
[State 1505, Juggle Points]
type=ParentVarAdd
trigger1=MoveContact=1 && NumTarget
var(15)=1
ignorehitpause=1
persistent=0
[State 1505, ProjContact]
type=VarSet
trigger1=MoveContact=1 && NumTarget
var(18)=1
ignorehitpause=1
persistent=0
[State 1505, ProjContact]
type=ParentVarSet
trigger1=MoveContact=1 && NumTarget
trigger1=((Root, StateNo=1500)||(Root, StateNo=1550))
var(18)=1
ignorehitpause=1
persistent=0

[State 1505, StateTypeSet]
type=StateTypeSet
trigger1=animelemtime(7)>=0
movetype=I  
ignoreHitPause=1 

[State 1505, End]
type=changestate
trigger1=!animtime
trigger2=root,stateno!=1500 && root,stateno!=1550
value=3007
ignorehitpause=1
[State 1505, End]
type=destroyself
trigger1=root,Movetype=H
;--------------------------------------------------------------------------------
;The World Win
[Statedef 1881]
physics=N
ctrl=0
anim=1881+random%2
sprpriority=4

[State 1881, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 1881, AngleDraw]
type=AngleDraw
trigger1=animelemtime(5)<0 
scale=0.5+(0.08*Time)*root,const(size.xscale),0.5+(0.08*Time)*root,const(size.yscale)

[State 1881, EnvShake]
type=EnvShake
trigger1=animelem=5
time=32
ampl=Ifelse(random<500,8,-8)

[State 1881, Woosh]
type=PlaySnd
trigger1=animelem=4
value=s2,7
channel=13
[State 1881, Punch]
type=PlaySnd
trigger1=animelem=5
value=s2,7
channel=14
[State 1881, Punch]
type=PlaySnd
trigger1=animelem=5
value=s2,2
channel=15

[State 1881, End]
type=Destroyself
trigger1=root,stateno!=182
;--------------------------------------------------------------------------------
;Intro FX
[Statedef 1991]
physics=N
ctrl=0
anim=1990
sprpriority=3

[State 1991, Change]
type=ChangeAnim
triggerall=Anim=1990 
trigger1=(root,animelemtime(95)=[0,1])
trigger2=root,stateno!=191
value=1991
[State 1991, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 1991, Snd]
type=PlaySnd
trigger1=!time
value=s190,8
channel=13

[State 1991, End]
type=Destroyself
trigger1=anim=1991 && !animtime
;---------------------------------------------------------------------------
;Girl
[Statedef 1992]
physics=N
anim=1992
ctrl=0
sprpriority=2

[State 1992, Varadd]
type=varadd
trigger1=animelemtime(14)>0 
var(1)=1

[State 1992, VelSet]
type=VelSet
trigger1=animelem=14
x=-2
y=-2

[State 1992, VelSet]
type=VelAdd
trigger1=animelemtime(14)>0
y=0.3

[State 1992, Position]
type=PosAdd
trigger1=animelemtime(1)=10
trigger2=animelemtime(2)=0
trigger3=animelemtime(3)=0
y=-1
[State 1992, Position]
type=PosAdd
trigger1=animelemtime(1)=11
trigger2=animelemtime(2)=1
trigger3=animelemtime(3)=1
y=1

[State 1992, Trans]
type=Trans
trigger1=animelemtime(14)>0 
trans=addalpha
alpha=256-16*var(1),0+16*var(1)

[State 1992, End]
type=DestroySelf
trigger1=animelemtime(14) > 0
trigger1=pos y > -vel y
;---------------------------------------------------------------------------
;Knives
[Statedef 3005]
type=A
movetype=A
physics=N
ctrl=0
velset=0, 0
sprpriority=Ifelse(parent,stateno=3000||parent,stateno=3025||parent,stateno=3050||parent,stateno=3065||parent,stateno=3075,3,-3)

[State 3005, StateTypeSet]
type=StateTypeSet
trigger1=ishelper(3005)
statetype=S

[State 3005, Counter Flag]
type=VarSet
trigger1=NumEnemy && time<2
var(9)=Ifelse(EnemyNear, MoveType=A,1,0)
ignoreHitPause=1

[State 3005, Lv]
type=varset
trigger1=!time
var(24)=root, var(24)
ignorehitpause=1
[State 3005, Timestop]
type=varset
trigger1=!time
var(0)=root, var(0)
ignorehitpause=1

[State 3005, Damp]
type=VarSet
trigger1=time=1
fvar(10)=Ifelse(root,var(0),0.4,ifelse(root,var(22)||root,Numhelper(1005), 0.65, ifelse(root,var(21), 0.8, Ifelse((root,prevstateno=[200,999]),0.925,Ifelse(root,var(13)>2||root,fvar(11)>=1,0.55,1.0))))+(0.2*(root,var(9))))
ignorehitpause=1

[State 3005, HitOverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA, AA, AP, AT
stateno=3030
ignorehitpause=1
[State 3005, HB]
type=hitby
trigger1=!(root,var(0))
time=-1
value=SCA, NP, SP, HP
ignorehitpause=1
[State 3005, NHB]
type=hitby
trigger1=root,var(0)
value=SCA
ignorehitpause=1

[State 3005, ChangeAnim]
type=ChangeAnim
trigger1 =!time
value=Ifelse(ishelper(3008),3008,Ifelse(ishelper(3007),3007,Ifelse(ishelper(3006),3006,3005)))

[State 3005, movehitvar]
type=varset
trigger1=movecontact && numtarget
trigger1=!(target, ishelper)
var(3)=1
ignorehitpause=1
[State 3005, VarAdd]
type=VarAdd
trigger1 =!time
var(8)=1

[State 3005, random]
type=varset
trigger1=time=2
var(2)=random%9
ignorehitpause=1

[State 3005, Vel]
type=velset
trigger1=time=1
x=Ifelse(ishelper(3008),11,Ifelse(ishelper(3007),8,Ifelse(ishelper(3006),6,12)))+var(24)
y=Ifelse(ishelper(3008),6.5,Ifelse(ishelper(3007),7,Ifelse(ishelper(3006),9,0)))

[State 3005, Freeze]
type=PosFreeze
triggerall=root,var(0)
trigger1=time>4

[State 3005, Push]
type=PlayerPush
trigger1=time>4
value=0
[State 3005, Bound]
type=ScreenBound
trigger1=1 
value=0 

[State 3005, HitSound]
type=playsnd
trigger1=movehit && numtarget
trigger1=time%2
trigger1=target, time=0 && target, movetype=H
value=s2,11
channel=7+random%5
persistent=0
ignorehitpause=1
[State 3005, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 3005, Snd]
type=hitdef
trigger1=!var(0) && ishelper(3005)
trigger1=time>2
priority=4, Hit
attr=S, HP
damage=ceil(Ifelse(root,var(13)>18,7,14)*fvar(10)),2
animtype=Hard
hitflag=MAFP
guardflag=MA
pausetime=0,24
guard.pausetime=0,12
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1
guardsound=s130,2
ground.type=Low
ground.slidetime=12
ground.hittime=64
guard.hittime=16
air.hittime=120
ground.velocity=Ifelse(var(0),-12,-1.5),-6
ground.cornerpush.veloff=0
air.velocity=Ifelse(var(0),-12,-1.5),-4
air.fall=1
fall=1
fall.recover=0
getpower=0,0
givepower=16,8
envshake.time=12
envshake.ampl=5
guard.kill=0
p2facing=1
sprpriority=3
yaccel=Ifelse(var(24),0.35,0.42)
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48

[State 3005, Snd]
type=hitdef
trigger1=var(0) && ishelper(3005)
trigger1=time>2
priority=4, Hit
attr=S, HP
damage=ceil(Ifelse(root,var(13)>18,7,14)*fvar(10)),2
animtype=Hard
hitflag=MAFDP
guardflag=MA
pausetime=0,24
guard.pausetime=0,12
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1
guardsound=s130,2
ground.type=Low
ground.slidetime=12
ground.hittime=64
guard.hittime=16
air.hittime=120
ground.velocity=Ifelse(var(0),-12,-1.5),-6
ground.cornerpush.veloff=0
air.velocity=Ifelse(var(0),-12,-1.5),-4
air.fall=1
fall=1
fall.recover=0
getpower=0,0
givepower=16,8
envshake.time=12
envshake.ampl=5
guard.kill=0
p2facing=1
sprpriority=3
yaccel=Ifelse(var(24),0.35,0.42)
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48

[State 3005, Snd]
type=hitdef
trigger1=!ishelper(3005) && !var(0)
trigger1=root,fvar(8)<40+8*var(24)
trigger1=time>2
priority=4, Hit
attr=A, HP
damage=ceil(Ifelse(root,var(13)>10,14,21)*fvar(10)),2
animtype=Hard
hitflag=MAFDP
guardflag=MA
pausetime=0,12
guard.pausetime=0,12
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1
guardsound=s130,2
ground.type=High
ground.slidetime=12
ground.hittime=32
guard.hittime=16
air.hittime=120
ground.velocity=Ifelse(var(0),-12,-1.5),-6
ground.cornerpush.veloff=0
air.velocity=Ifelse(var(0),-12,-1.5),-4
air.fall=1
fall=1
fall.recover=0
getpower=0,0
givepower=16,8
envshake.time=12
envshake.ampl=5
guard.kill=0
p2facing=1
sprpriority=3
yaccel=Ifelse(var(24),0.35,0.42)
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48

[State 3005, Snd]
type=hitdef
trigger1=!ishelper(3005) && var(0)
trigger1=time>2
priority=4, Hit
attr=A, HP
damage=ceil(Ifelse(root,var(13)>10,14,21)*fvar(10)),2
animtype=Hard
hitflag=MAFDP
guardflag=MA
pausetime=0,12
guard.pausetime=0,12
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1
guardsound=s130,2
ground.type=High
ground.slidetime=12
ground.hittime=32
guard.hittime=16
air.hittime=120
ground.velocity=Ifelse(var(0),-12,-1.5),-6
ground.cornerpush.veloff=0
air.velocity=Ifelse(var(0),-12,-1.5),-4
air.fall=1
fall=1
fall.recover=0
getpower=0,0
givepower=16,8
envshake.time=12
envshake.ampl=5
guard.kill=0
p2facing=1
sprpriority=3
yaccel=Ifelse(var(24),0.35,0.42)
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48

[State 3005, Target]
type=TargetState
trigger1=MoveHit && var(3) && !var(0)
value=3020
ignorehitpause=1
persistent=0

[State 3005, P2 Dead]
type=TargetState
trigger1=NumTarget && WInKO
trigger1=!(Target, NumPartner)
trigger1=Target, StateNo=5110
trigger1=Target, Time=1
trigger1=!(Target, Alive)
value=6008
ignoreHitPause=1

[State 3005, Blood (Additive)]
type=Explod
trigger1=movehit=1 && numtarget 
trigger1=(enemynear, movetype=H) && !(target, time)
trigger1=var(2)<4
anim=8050
id=8050
sprPriority=5
posType=P1
pos=(target, const(size.ground.front) -10), 0-2*var(2)
facing=-1
scale=0.5,0.5
ignorehitpause=1
pauseMoveTime=65535
superMoveTime=65535
persistent=0
ownPal=0
[State 3005, Blood (Subtractive)]
type=Explod
trigger1=movehit=1 && numtarget 
trigger1=(enemynear, movetype=H) && !(target, time)
trigger1=var(2)<4
anim=8060
id=8050
sprPriority=3
posType=P1
pos=(target, const(size.ground.front) -10), 0-2*var(2)
facing=-1
scale=0.5,0.5
ignorehitpause=1
pauseMoveTime=65535
superMoveTime=65535
persistent=0
ownPal=0
[State 3005, Blood (Additive)]
type=Explod
trigger1=movehit=1 && numtarget 
trigger1=(enemynear, movetype=H) && !(target, time)
trigger1=var(2)>=4
anim=8050
id=8050
sprPriority=5
posType=P1
pos=(target, const(size.ground.front) -10), 0-2*var(2)
scale=0.5,0.5
ignorehitpause=1
pauseMoveTime=65535
superMoveTime=65535
persistent=0
ownPal=0
[State 3005, Blood (Subtractive)]
type=Explod
trigger1=movehit=1 && numtarget 
trigger1=(enemynear, movetype=H) && !(target, time)
trigger1=var(2)>=4
anim=8060
id=8050
sprPriority=3
posType=P1
pos=(target, const(size.ground.front) -10), 0-2*var(2)
scale=0.5,0.5
ignorehitpause=1
pauseMoveTime=65535
superMoveTime=65535
persistent=0
ownPal=0

[State 3005, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget && numhelper(8000)<7
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8017)
ID=8000
name="Spark"
postype=p2
pos=(target, const(size.ground.front) -10), (target,const(size.mid.pos.y))
ownPal=0
size.xScale=1.0
size.yScale=1.0
pausemovetime=65535
supermovetime=65535
ignoreHitPause=1
persistent=0

[State 3005, Counter FX]
type=Helper
trigger1=Movehit=1 && var(9)
trigger1=!Numhelper(8290)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P2
size.xScale=1.0
size.yScale=1.0
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 20, ceil(P2Dist x), 20)), -50
ownPal=0
persistent=0
pausemovetime=65535
supermovetime=65535
ignoreHitPause=1

[State 3005, HitCount]
type=ParentVarAdd
trigger1=(parent,stateno=root,stateno)
trigger1=root, StateNo=3000||root, StateNo=3025||root, StateNo=3050||root, StateNo=3075
trigger1=MoveContact=1 && NumTarget
var(13)=1
ignoreHitPause=1
[State 3005, Juggle Points]
type=ParentVarAdd
trigger1=(parent,stateno=root,stateno)
trigger1=root, StateNo=3000||root, StateNo=3025||root, StateNo=3050||root, StateNo=3075
trigger1=MoveContact=1 && NumTarget
var(15)=1
ignoreHitPause=1
[State 3005, ProjContact]
type=VarSet
trigger1=MoveContact=1 && NumTarget
var(18)=1
ignoreHitPause=1
[State 3005, ProjContact]
type=ParentVarSet
trigger1=(parent,stateno=root,stateno)
trigger1=root, StateNo=3000||root, StateNo=3025||root, StateNo=3050||root, StateNo=3075
trigger1=MoveContact=1 && NumTarget
var(18)=1
ignoreHitPause=1

[State 3005, Log the current target's PlayerID]
type=ParentVarSet
trigger1=(parent,stateno=root,stateno)
trigger1=root, StateNo=3000||root, StateNo=3025||root, StateNo=3050||root, StateNo=3075
trigger1=Root,var(0) && Movehit=1 && NumTarget
trigger1=target,IsHelper=0 
var(12)=target,ID
ignorehitpause=1

[State 3005, End]
type=changestate
trigger1=pos y > -vel y
value=3008
ignorehitpause=1
[State 3005, End]
type=changestate
trigger1=movehit && numtarget 
trigger1=!(target, time) && (target, movetype=H)
value=3006
ignorehitpause=1
[State 3005, End]
type=changestate
trigger1=moveguarded
value=3030
ignorehitpause=1
[State 3005, End]
type=destroyself
trigger1=frontedgedist<=-60||backedgedist<=-60
;------------------------------------------------------------------
;Knives Connect
[Statedef 3006]
physics=N
movetype=I
anim=anim+5
velset=0, 0
ctrl=0
sprpriority=2+random%2

[State 3006, AfterImageTime]
type=AfterImageTime
trigger1=1 
time=0
ignorehitpause=1
[State 3006, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1
[State 3015, FadeOut]
type=Trans
trigger1=(anim=[3010,3013])
trans=addalpha
alpha=256-(64*time),0+(64*time)
ignorehitpause=1
[State 3006, Blank]
type=ChangeAnim
trigger1=(anim=[3010,3013]) && !animtime
value=9999

[State 3006, End]
type=destroyself
trigger1=time>32
;-------------------------------------------------------------------------
;Destroy
[Statedef 3007]
physics=N
movetype=I
anim=9999
velset=0,0
ctrl=0
sprpriority=-10

[State 3007, AfterImageTime]
type=AfterImageTime
trigger1=1 
time=0
ignorehitpause=1
[State 3007, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1
[state 3007, NHB]
type=nothitby
trigger1=1
value=SCA
ignorehitpause=1

[State 3007, End]
type=destroyself
trigger1=time >= 60
;---------------------------------------------------------------------------
;Knife Remove
[Statedef 3008]
physics=N
anim=anim+5
velset=0,0
sprpriority=-3+random%7

[State 3008, PosFreeze]
type=PosFreeze
trigger1=1
[State 3008, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1
[State 3008, PlaySnd]
type=PlaySnd
trigger1=time=3
value=s950,0

[State 3008, Trans]
type=Trans
trigger1 =1
trans=addalpha
alpha=256-(16*time),0+(16*time)

[State 3008, DestroySelf]
type=DestroySelf
trigger1=time>=32
;-------------------------------------------------------------------
;Knives FX
[StateDef 3015]
physics=N
anim=Ifelse(parent,stateno=3025||parent,stateno=3065||parent,stateno=3075,3016,Ifelse(parent,stateno=3055,3017,3015))
velset=0,0
sprPriority=Ifelse(parent,ishelper,0,3)
ctrl=0

[State 3015, Reset]
type=VarSet
trigger1=animelemtime(4)<1
var(1)=0
[State 3015, FadeIn]
type=VarAdd
trigger1=animelemtime(4)>=1
var(1)=1
[State 3015, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 3015, FadeIn]
type=Trans
trigger1=var(1)=0 
trans=addalpha
alpha=0+(64*time),256
ignorehitpause=1
[State 3015, FadeOut]
type=Trans
trigger1=var(1) 
trans=addalpha
alpha=256-(32*var(1)),256
ignorehitpause=1

[State 3015, AngleDraw]
type=AngleDraw
trigger1=anim=3016 
value=-55
ignorehitpause=1

[State 3015, Start Frame]
type=ChangeAnim
trigger1=parent,stateno=3000||parent,stateno=3050||parent,stateno=3055||parent,stateno=3352
trigger1=parent,animelemtime(11)=[0,1]
value=anim
elem=4
ignorehitpause=1
[State 3015, Start Frame]
type=ChangeAnim
trigger1=parent,stateno=3025||parent,stateno=3065||parent,stateno=3075
trigger1=parent,animelemtime(5)=[0,1]
value=anim
elem=4
ignorehitpause=1

[State 3015, AngleDraw]
type=AngleDraw
trigger1=parent,stateno=3055 && animelemtime(4)>=0 
scale=0.75,0.75
ignorehitpause=1
[State 3015, AngleDraw]
type=AngleDraw
trigger1=parent,stateno!=3055 
scale=1.0,1.0
ignorehitpause=1

[State 3015, BindTo]
type=BindToParent
trigger1=parent,stateno=3000||parent,stateno=3050||parent,stateno=3352
pos=ceil(0*root,const(size.xscale)),ceil(5*root,const(size.yscale))
ignorehitpause=1
[State 3015, BindTo]
type=BindToParent
trigger1=parent,stateno=3055 && animelemtime(4)<0
pos=ceil(40*root,const(size.xscale)),ceil(32*root,const(size.yscale))
ignorehitpause=1
[State 3015, BindTo]
type=BindToParent
trigger1=parent,stateno=3055 && animelemtime(4)>=0
pos=ceil(40*root,const(size.xscale)),ceil(-20*root,const(size.yscale))
ignorehitpause=1
[State 3015, BindTo]
type=BindToParent
trigger1=parent,stateno=3025||parent,stateno=3075
pos=ceil(90*root,const(size.xscale)),ceil(10*root,const(size.yscale))
ignorehitpause=1
[State 3015, BindTo]
type=BindToParent
trigger1=parent,stateno=3065
pos=ceil(70*root,const(size.xscale)),ceil(-10*root,const(size.yscale))
ignorehitpause=1

[State 3015, Change]
type=Destroyself
trigger1=!animtime
trigger2=parent,stateno!=3000 && parent,stateno!=3025 && parent,stateno!=3050 && parent,stateno!=3352
trigger2=parent,stateno!=3055 && parent,stateno!=3065 && parent,stateno!=3075
trigger3=parent,time<=1
trigger4=root,Movetype=H
;------------------------------------------------------------------
;Knives Collision
[Statedef 3030]
physics=N
movetype=I
anim=3030
velset=0,0
ctrl=0
sprpriority=4

[State 3030, PosSet]
type=Posfreeze
trigger1 =time<2
[State 3030, AfterImageTime]
type=AfterImageTime
trigger1=1 
time=0
ignorehitpause=1
[State 3030, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1
[State 3030, NotHitBy]
type=NotHitBy
trigger1 =1
value=SCA
ignorehitpause =1
[State 3030, VarSet]
type=VarSet
trigger1=!time
fvar(7)=0.5 * (Random % 12)
ignorehitpause =1

[State 3030, VarSet]
type=VarSet
trigger1=time=1
fvar(6)=Ifelse(random<300,175,Ifelse(random<300,0,-175))
ignorehitpause=1

[State 3030, VelSet]
type=VelSet
trigger1=time=2
x =-4+fvar(7)
y =-1
[State 3030, VelAdd]
type=VelAdd
trigger1=time>2
y =.42
[State 3030, AngleDraw]
type=AngleDraw
trigger1=time>2
value=5+random%8*time
ignorehitpause=1

[State 3030, ChangeState]
type=ChangeState
trigger1=time>5
trigger1=pos y > -vel y
value=3031
;---------------------------------------------------------------------------
;Knives Remove
[Statedef 3031]
physics=N
anim=3031
velset=0,0

[State 3031, AfterImageTime]
type=AfterImageTime
trigger1=1 
time=0
ignorehitpause=1
[State 3031, Landing Dust]
type=Explod
trigger1=!time
anim=8102
postype=p1
pos=0,5
sprpriority=-3
scale=.2,.2
ownpal=1
[State 3031, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1
[State 3031, PlaySnd]
type=PlaySnd
trigger1=!time
value=s950,0
channel=6+random%5
[State 3031, AngleDraw]
type=AngleDraw
trigger1=1
value=fvar(6)
ignorehitpause=1
[State 3031, PosSet]
type=PosSet
trigger1=1
y=0
[State 3031, Trans]
type=Trans
trigger1=1
trans=addalpha
alpha=256-16*time,0+32*time

[State 3031, DestroySelf]
type=DestroySelf
trigger1=time>=16
;------------------------------------------------------------------
;World Checkmate-da
[Statedef 3055]
type=S
movetype=A
physics=N
ctrl=0
velset=0,0
sprpriority=-1
facep2=1

[State 3055, ChangeAnim]
type=ChangeAnim
trigger1=!time && !prevstateno
value=3050
[State 3055, ChangeAnim]
type=ChangeAnim
trigger1=!time && prevstateno
value=3050
elem=7

[State 3055, Touchdown]
type=VarSet
trigger1=!time
var(38)=1
ignoreHitPause=1

[State 3055, AFX]
Type=AfterImage
trigger1=time=1
Time=-1
PalBright=0,0,0
palContrast=32,32,160
PalAdd=0,0,0
palMul=0.75,0.75,0.75
Length=21
FrameGap=1
TimeGap=1
Trans=Add

[State 3055, BindToRoot]
type=BindToParent
trigger1=!time 
pos=ceil(-35*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1

[State 3055, NotHitBy]
type=NotHitBy
trigger1=animelemtime(12)<0
time=1
value=SCA
[State 3055, HitOverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA, AA, AP, AT
stateno=1007
ignorehitpause=1
[State 3055, HB]
type=hitby
trigger1=animelemtime(12)>=0
time=-1
value=SCA, AP, AA
ignorehitpause=1

[State 3055, PosSet]
type=PosSet
trigger1=!time
y=0

[State 3055, Voice]
type=PlaySnd
trigger1=animelem=6
value=s0,10003
channel=8

[State 3055, Snd]
type=PlaySnd
trigger1=animelem=5
value=s3000,1
channel=5
[State 3055, Snd]
type=PlaySnd
trigger1=animelem=11
value=s3000,2
channel=5

[State 3055, width]
type=width
trigger1=animelem=11
player=42, 0
edge=55,0

[State 3055, Knife FX]
type=helper
trigger1=animelem=5
helpertype=normal
stateno=3015
ID=3015
name="KnifeFX"
postype=p1
pos=ceil(0 *const(size.xscale)),ceil(0 *const(size.yscale))
size.xscale=(0.75 * const(size.xscale))
size.yscale=(0.75 * const(size.yscale))
ownpal=0
supermovetime=255
pausemovetime=255

[State 3055, Knife 1]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(29 *const(size.xscale)), ceil(-1 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3055, Knife 2]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(38 *const(size.xscale)), ceil(-11 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3055, Knife 3]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(-15 *const(size.xscale)), ceil(-17 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3055, Knife 4]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(67 *const(size.xscale)), ceil(-19 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3055, Knife 5]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(40 *const(size.xscale)), ceil(-30 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3055, Knife 6]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(85 *const(size.xscale)), ceil(-36 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3055, Knife 7]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(61 *const(size.xscale)), ceil(-51 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3055, Knife 8]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(40 *const(size.xscale)), ceil(-52 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3055, Knife 9]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(46 *const(size.xscale)), ceil(-66 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3055, Knife 10]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(72 *const(size.xscale)), ceil(-72 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3055, Knife 11]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(76 *const(size.xscale)), ceil(-86 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3055, Knife 12]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(69 *const(size.xscale)), ceil(-93 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3055, Knife 13]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(44 *const(size.xscale)), ceil(-102 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3055, Knife 14]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(12 *const(size.xscale)), ceil(-121 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3055, Knife 15]
type=helper
trigger1=animelem=11
helpertype=normal
stateno=3005
ID=3005
name="Knife"
postype=p1
pos=ceil(6 *const(size.xscale)), ceil(-128 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0

[State 3055, StateTypeSet]
type=StateTypeSet
trigger1=animelemtime(13)>=0
movetype=I

[State 3055, Reset]
type=VarSet
trigger1=animelemtime(4)>=0 
var(1)=0
[State 3055, FadeIn]
type=VarAdd
trigger1=animelemtime(4)<0 
var(1)=1

[State 3055, FadeIn]
type=Trans
trigger1=var(1) 
trans=addalpha
alpha=0+(32*var(1)),256-(32*var(1))
ignorehitpause=1

[State 3055, Change]
type=changestate
trigger1=!animtime
trigger2=roundstate>3
value=1015
ignorehitpause=1
[State 3055, Change]
type=changestate
trigger1=root,Movetype=H && root,var(45)>=1
value=1007
ignorehitpause=1
[State 3055, Blank]
type=changestate
trigger1=root,Numhelper(1005)>1 && time>1
trigger2=(root,stateno=[1400,1450])
value=1016
ignorehitpause=1
[State 3055, End]
type=destroyself
trigger1=root,var(1)
ignorehitpause=1
;------------------------------------------------------------------
;Air World Checkmate
[Statedef 3065]
type=A
movetype=A
physics=N
ctrl=0
velset=0,0
sprpriority=2
facep2=1

[State 3065, Touchdown]
type=VarSet
trigger1=!time
var(38)=1
ignoreHitPause=1

[State 3065, ChangeAnim]
type=ChangeAnim
trigger1=!time && !prevstateno
value=3065
[State 3065, ChangeAnim]
type=ChangeAnim
trigger1=!time && prevstateno
value=3065
elem=4

[State 3065, Strength]
type=varset
trigger1=!time 
var(10)=root, var(10)

[State 3065, AFX]
Type=AfterImage
trigger1=time=1
Time=-1
PalBright=0,0,0
palContrast=32,32,160
PalAdd=0,0,0
palMul=0.75,0.75,0.75
Length=21
FrameGap=1
TimeGap=1
Trans=Add

[State 3065, BindToRoot]
type=BindToRoot
trigger1=!time 
pos=ceil(10*root,const(size.xscale)),ceil(25*root,const(size.yscale))
ignorehitpause=1

[State 3065, NotHitBy]
type=NotHitBy
trigger1=animelemtime(6)<0
time=1
value=SCA
[State 3065, HitOverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA, AA, AP, AT
stateno=1007
ignorehitpause=1
[State 3065, HB]
type=hitby
trigger1=animelemtime(6)>=0
time=-1
value=SCA, AP, AA
ignorehitpause=1

[State 3065, Voice]
type=PlaySnd
trigger1=animelem=5
value=s0,10003
channel=8

[State 3065, Snd]
type=PlaySnd
trigger1=animelem=4
value=s3000,1
channel=1
[State 3025, Snd]
type=PlaySnd
trigger1=animelem=5
value=s3000,2
channel=1

[State 3065, width]
type=width
trigger1=animelem=5
player=42, 0
edge=55,0

[State 3065, Knife 1]
type=helper
trigger1=animelem=5
helpertype=normal
stateno=3005
ID=3006+var(10)
name="Knife"
postype=p1
pos=ceil(-16 *const(size.xscale)), ceil(-3 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3065, Knife 2]
type=helper
trigger1=animelem=5
helpertype=normal
stateno=3005
ID=3006+var(10)
name="Knife"
postype=p1
pos=ceil(-42 *const(size.xscale)), ceil(-18 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3065, Knife 3]
type=helper
trigger1=animelem=5
helpertype=normal
stateno=3005
ID=3006+var(10)
name="Knife"
postype=p1
pos=ceil(-52 *const(size.xscale)), ceil(-18 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3065, Knife 4]
type=helper
trigger1=animelem=5
helpertype=normal
stateno=3005
ID=3006+var(10)
name="Knife"
postype=p1
pos=ceil(64 *const(size.xscale)), ceil(-29 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3065, Knife 5]
type=helper
trigger1=animelem=5
helpertype=normal
stateno=3005
ID=3006+var(10)
name="Knife"
postype=p1
pos=ceil(37 *const(size.xscale)), ceil(-40 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3065, Knife 6]
type=helper
trigger1=animelem=5
helpertype=normal
stateno=3005
ID=3006+var(10)
name="Knife"
postype=p1
pos=ceil(61 *const(size.xscale)), ceil(-45 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3065, Knife 7]
type=helper
trigger1=animelem=5
helpertype=normal
stateno=3005
ID=3006+var(10)
name="Knife"
postype=p1
pos=ceil(81 *const(size.xscale)), ceil(-47 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3065, Knife 8]
type=helper
trigger1=animelem=5
helpertype=normal
stateno=3005
ID=3006+var(10)
name="Knife"
postype=p1
pos=ceil(-4 *const(size.xscale)), ceil(-49 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3065, Knife 9]
type=helper
trigger1=animelem=5
helpertype=normal
stateno=3005
ID=3006+var(10)
name="Knife"
postype=p1
pos=ceil(6 *const(size.xscale)), ceil(-51 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3065, Knife 10]
type=helper
trigger1=animelem=5
helpertype=normal
stateno=3005
ID=3006+var(10)
name="Knife"
postype=p1
pos=ceil(90 *const(size.xscale)), ceil(-70 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3065, Knife 11]
type=helper
trigger1=animelem=5
helpertype=normal
stateno=3005
ID=3006+var(10)
name="Knife"
postype=p1
pos=ceil(32 *const(size.xscale)), ceil(-74 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0
[State 3065, Knife 12]
type=helper
trigger1=animelem=5
helpertype=normal
stateno=3005
ID=3006+var(10)
name="Knife"
postype=p1
pos=ceil(109 *const(size.xscale)), ceil(-90 *const(size.yscale))
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ownpal=0

[State 3065, StateTypeSet]
type=StateTypeSet
trigger1=animelemtime(7)>=0
movetype=I

[State 3065, Reset]
type=VarSet
trigger1=animelemtime(3)>=0 
var(1)=0
[State 3065, FadeIn]
type=VarAdd
trigger1=animelemtime(3)<0 
var(1)=1

[State 3065, FadeIn]
type=Trans
trigger1=var(1) 
trans=addalpha
alpha=0+(32*var(1)),256-(32*var(1))
ignorehitpause=1

[State 3065, Change]
type=changestate
trigger1=!animtime
trigger2=roundstate>3
value=1015
ignorehitpause=1
[State 3065, Change]
type=changestate
trigger1=root,Movetype=H && root,var(45)>=1
value=1007
ignorehitpause=1
[State 3065, Blank]
type=changestate
trigger1=root,Numhelper(1005)>1 && time>1
trigger2=(root,stateno=[1400,1450])
value=1016
ignorehitpause=1
[State 3065, End]
type=destroyself
trigger1=root,var(1)
ignorehitpause=1
;-------------------------------------------------------------------
;Roller
[StateDef 3105]
physics=N
anim=3105
velset=0,0
sprPriority=1
ctrl=0

[State 3105, SprPriority]
type=SprPriority
trigger1=root,stateno=3101
value=-2

[State 3105, Reset]
type=VarSet
trigger1=!time 
var(1)=0
[State 3105, Fadeout]
type=VarAdd
trigger1=root,stateno=3101 && root,animelemtime(3)>0
var(1)=1

[State 3105, FadeOut]
type=Trans
trigger1=var(1) 
trans=addalpha
alpha=256-(8*var(1)),0+(8*var(1))
ignorehitpause=1

[State 3105, Frame]
type=ChangeAnim
trigger1=anim=3105 && root,stateno=3101
trigger2=anim=3105 && root,stateno=3110
value=3106
ignorehitpause=1
[State 3105, Frame]
type=ChangeAnim
trigger1=anim=3106 && root,stateno=3110 && root,animelemtime(14)>0
value=3107
ignorehitpause=1
[State 3105, Frame]
type=ChangeAnim
trigger1= root,stateno=3102
value=3106
ignorehitpause=1

[State 3105, AngleDraw]
type=AngleDraw
trigger1=root,stateno=3100||root,stateno=3150
value=-20
ignorehitpause=1
[State 3105, AngleDraw]
type=AngleDraw
trigger1=root,stateno=3101||root,stateno=3110
value=0
ignorehitpause=1

[State 3105, BindToRoot]
type=BindToRoot
trigger1=root,stateno=3100||root,stateno=3150
pos=ceil(-70*root,const(size.xscale)),ceil(60*root,const(size.yscale))
ignorehitpause=1

[State 3105, PosSet]
type=PosSet
trigger1=root,stateno=3101||root,stateno=3110 
y=5

[State 3105, Change]
type=changestate
trigger1=root,stateno=3101 && root,animelemtime(2)>=0
trigger2=root,stateno=3110 && root,animelemtime(66)>=2
trigger3=root,prevstateno=3202
trigger4=root,stateno=3203 
value=3106
[State 3105, End]
type=DestroySelf
trigger1=root,movetype=H
ignorehitpause=1
;-------------------------------------------------------------------
;Roller Remove Base/Remove
[StateDef 3106]
physics=N
anim=3107
velset=0,0
sprPriority=-2
ctrl=0

[State 3106, Frame]
type=ChangeAnim
triggerall=anim=3107 && animelemtime(6)<0
trigger1=root,prevstateno=3202 
trigger2=root,stateno=3203 
trigger3=root,ctrl
trigger4=root,movetype=H
value=3107
elem=6

[State 3106, PlaySnd]
type=PlaySnd
trigger1=animelemtime(7)=2
value=s3100,4
channel=12
[State 3106, EnvShake]
type=EnvShake
trigger1=animelemtime(7)=2
time=64
ampl=Ifelse(random<500,6,6)

[State 3106, PosSet]
type=PosSet
trigger1=time<4
y=5
[State 3106, Helper]
type=Helper
trigger1=animelem=7 && !Numhelper(3107) 
helpertype=normal ;player
name="Road-Roller1"
ID=3107
stateno=3107
postype=p1
pos=0,0
ownpal=0
size.xscale=1.0
size.yscale=1.0
[State 3106, Helper]
type=Helper
trigger1=animelem=7 && !Numhelper(3108) 
helpertype=normal ;player
name="Road-Roller2"
ID=3108
stateno=3108
postype=p1
pos=0,0
ownpal=0
size.xscale=1.0
size.yscale=1.0
[State 3106, Helper]
type=Helper
trigger1=animelem=7 && !Numhelper(3109) 
helpertype=normal ;player
name="Road-Roller3"
ID=3109
stateno=3109
postype=p1
pos=0,0
ownpal=0
size.xscale=1.0
size.yscale=1.0
[State 3106, Helper]
type=Helper
trigger1=animelem=7 && !Numhelper(3111) 
helpertype=normal ;player
name="Road-Roller5"
ID=3111
stateno=3111
postype=p1
pos=0,0
ownpal=0
size.xscale=1.0
size.yscale=1.0
[State 3106, Helper]
type=Helper
trigger1=animelem=7 && !Numhelper(3112) 
helpertype=normal ;player
name="Road-Roller4"
ID=3112
stateno=3112
postype=p1
pos=0,0
ownpal=0
size.xscale=1.0
size.yscale=1.0
[State 3106, Helper]
type=Helper
trigger1=animelem=7 && !Numhelper(3113) 
helpertype=normal ;player
name="Road-Roller5"
ID=3113
stateno=3113
postype=p1
pos=0,0
ownpal=0
size.xscale=1.0
size.yscale=1.0
[State 3106, Helper]
type=Helper
trigger1=animelem=7 && !Numhelper(3115) 
helpertype=normal ;player
name="Road-Roller4"
ID=3115
stateno=3115
postype=p1
pos=0,0
ownpal=0
size.xscale=1.0
size.yscale=1.0

[State 3106, X-plosion]
type=Explod
trigger1=anim=9999 && time<100
trigger1=timemod=4,0
anim=1420
sprPriority=-10+random%20
posType=Back
pos=Ifelse(random<500,-75*random%10,75*random%10),-20+30*random%5
facing=Ifelse(random<500,-1,1)
vfacing=Ifelse(random<500,-1,1)
random=250,250
vel=0,0
scale=0.25,0.25
ownpal=0
bindtime=1
[State 3106, X-plosion]
type=Explod
trigger1=anim=9999 && time<100
trigger1=timemod=4,0
anim=1420
sprPriority=-10+random%20
posType=Back
facing=Ifelse(random<500,-1,1)
vfacing=Ifelse(random<500,-1,1)
pos=Ifelse(random<500,-75*random%10,75*random%10),-20+30*random%5
random=320,320
vel=0,0
scale=0.35,0.35
ownpal=0
bindtime=1
[State 3106, X-plosion]
type=Explod
trigger1=anim=9999 && time<100
trigger1=timemod=5,0
anim=1420
sprPriority=-10+random%20
facing=Ifelse(random<500,-1,1)
vfacing=Ifelse(random<500,-1,1)
posType=Back
pos=Ifelse(random<500,-75*random%10,75*random%10),-20+30*random%5
random=500,500
vel=0,0
scale=0.5,0.5
ownpal=0
bindtime=1
[State 3106, X-plosion]
type=Explod
trigger1=anim=9999 && time<100
trigger1=timemod=5,0
anim=1420
sprPriority=-10+random%20
posType=Front
pos=Ifelse(random<500,-75*random%10,75*random%10),-20+30*random%5
facing=Ifelse(random<500,-1,1)
vfacing=Ifelse(random<500,-1,1)
random=250,250
vel=0,0
scale=0.25,0.25
ownpal=0
bindtime=1
[State 3106, X-plosion]
type=Explod
trigger1=anim=9999 && time<100
trigger1=timemod=6,0
anim=1420
sprPriority=-10+random%20
posType=Front
facing=Ifelse(random<500,-1,1)
vfacing=Ifelse(random<500,-1,1)
pos=Ifelse(random<500,-75*random%10,75*random%10),-20+30*random%5
random=320,320
vel=0,0
scale=0.35,0.35
ownpal=0
bindtime=1
[State 3106, X-plosion]
type=Explod
trigger1=anim=9999 && time<100
trigger1=timemod=3,0
anim=1420
sprPriority=-10+random%20
facing=Ifelse(random<500,-1,1)
vfacing=Ifelse(random<500,-1,1)
posType=Front
pos=Ifelse(random<500,-75*random%10,75*random%10),-20+30*random%5
random=500,500
vel=0,0
scale=0.5,0.5
ownpal=0
bindtime=1

[State 3106, ScreenBound]
type=ScreenBound
trigger1=1 
value=0

[State 3106, Frame]
type=ChangeAnim
trigger1=anim=3107 && !animtime
value=9999
ignorehitpause=1

[State 3106, End] 
type=Destroyself
trigger1=root,movetype=H
trigger2=anim=9999 && time>120 
;-------------------------------------------------------------------
;Roller Remove 1
[StateDef 3107]
physics=N
anim=3115
velset=0,0
sprPriority=4
ctrl=0

[State 3107, VelSet]
type=VelSet
trigger1=!time
x=8.5
y=-6.5
[State 3107, Gravity] 
type=VelAdd
trigger1=time>1
y=0.325
[State 3107, ScreenBound]
type=ScreenBound
trigger1=1 
value=0

[State 3107, Reset]
type=VarSet
trigger1=!time 
var(1)=0

[State 3107, End] 
type=ChangeState
trigger1=time>5
trigger1=pos y>75
value=3114
;-------------------------------------------------------------------
;Roller Remove 2
[StateDef 3108]
physics=N
anim=3116
velset=0,0
sprPriority=3
ctrl=0

[State 3108, VelSet]
type=VelSet
trigger1=!time
x=6.5
y=-7.5
[State 3108, Gravity] 
type=VelAdd
trigger1=time>1
y=0.55
[State 3108, ScreenBound]
type=ScreenBound
trigger1=1 
value=0

[State 3108, Reset]
type=VarSet
trigger1=!time 
var(1)=0

[State 3108, End] 
type=ChangeState
trigger1=time>5
trigger1=pos y>0
value=3114
;-------------------------------------------------------------------
;Roller Remove 3
[StateDef 3109]
physics=N
anim=3117
velset=0,0
sprPriority=2
ctrl=0

[State 3109, VelSet]
type=VelSet
trigger1=!time
x=2.5
y=-8.5
[State 3109, Gravity] 
type=VelAdd
trigger1=time>1
y=0.325
[State 3109, ScreenBound]
type=ScreenBound
trigger1=1 
value=0

[State 3109, Reset]
type=VarSet
trigger1=!time 
var(1)=0

[State 3109, End] 
type=ChangeState
trigger1=time>5
trigger1=pos y>30
value=3114
;-------------------------------------------------------------------
;Roller Remove 5
[StateDef 3111]
physics=N
anim=3119
velset=0,0
sprPriority=0
ctrl=0

[State 3111, VelSet]
type=VelSet
trigger1=!time
x=-2.5
y=-7
[State 3111, Gravity] 
type=VelAdd
trigger1=time>1
y=0.325
[State 3111, ScreenBound]
type=ScreenBound
trigger1=1 
value=0

[State 3111, Reset]
type=VarSet
trigger1=!time 
var(1)=0

[State 3111, End] 
type=ChangeState
trigger1=time>5
trigger1=pos y>10
value=3114
;-------------------------------------------------------------------
;Roller Remove 6
[StateDef 3112]
physics=N
anim=3120
velset=0,0
sprPriority=-1
ctrl=0

[State 3112, VelSet]
type=VelSet
trigger1=!time
x=-4.5
y=-7
[State 3112, Gravity] 
type=VelAdd
trigger1=time>1
y=0.55
[State 3112, ScreenBound]
type=ScreenBound
trigger1=1 
value=0

[State 3112, Reset]
type=VarSet
trigger1=!time 
var(1)=0

[State 3112, End] 
type=ChangeState
trigger1=time>5
trigger1=pos y > -vel y
value=3114
;-------------------------------------------------------------------
;Roller Remove 7
[StateDef 3113]
physics=N
anim=3121
velset=0,0
sprPriority=-2
ctrl=0

[State 3113, VelSet]
type=VelSet
trigger1=!time
x=-6
y=-7.5
[State 3113, Gravity] 
type=VelAdd
trigger1=time>1
y=0.425
[State 3113, ScreenBound]
type=ScreenBound
trigger1=1 
value=0

[State 3113, Reset]
type=VarSet
trigger1=!time 
var(1)=0

[State 3113, End] 
type=ChangeState
trigger1=time>5
trigger1=pos y>40
value=3114
;---------------------------------------------------------------------------
;Roller Remove
[Statedef 3114]
physics=N
velset=0,0
sprPriority=-3-random%4

[State 3114, Fadeout]
type=VarAdd
trigger1=time>4
var(1)=1
[State 3114, Angle]
type=VarSet
trigger1=!time
var(2)=24*random%15

[State 3114, AngleDraw]
type=AngleDraw
trigger1=1 
value=var(2)

[State 3114, PosAdd]
type=PosAdd
trigger1=!time
y=8*random%10

[State 3114, PlaySnd]
type=PlaySnd
trigger1=!time
value=s920,random%2
channel=25+random%5

[State 3114, PosFreeze]
type=PosFreeze
trigger1=time>1
[State 3114, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1
[State 3114, PlaySnd]
type=PlaySnd
trigger1=time=3
value=s950,0

[State 3114, Trans]
type=Trans
trigger1 =1
trans=addalpha
alpha=256-4*var(1),0+4*var(1)

[State 3114, DestroySelf]
type=DestroySelf
trigger1=time>=64
;-------------------------------------------------------------------
;Roller Remove 4
[StateDef 3115]
physics=N
anim=3118
velset=0,0
sprPriority=1
ctrl=0

[State 3115, VelSet]
type=VelSet
trigger1=!time
x=0.5
y=-6.5
[State 3115, Gravity] 
type=VelAdd
trigger1=time>1
y=0.325
[State 3115, ScreenBound]
type=ScreenBound
trigger1=1 
value=0

[State 3115, Reset]
type=VarSet
trigger1=!time 
var(1)=0

[State 3115, End] 
type=ChangeState
trigger1=time>5
trigger1=pos y>50
value=3114
;---------------------------------------------------------------------
;The World Time Stop(Helper)
[Statedef 3205]
type=U
movetype=I
physics=N
ctrl=0
sprpriority=2

[State 3205, Turn]
type=Turn
trigger1=facing!=root,facing 
ignorehitpause=1

[State 3205, StateTypeSet]
type=StateTypeSet
trigger1=root,statetype=A
statetype=A
ignorehitpause=1
[State 3205, StateTypeSet]
type=StateTypeSet
trigger1=root,statetype=S
statetype=S
ignorehitpause=1
[State 3205, StateTypeSet]
type=StateTypeSet
trigger1=root,statetype=C
statetype=C
ignorehitpause=1

[State 3205, World SFX]
type=PlaySnd
trigger1=!time && !prevstateno
value=s1,6
channel=5
[State 3205, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA
[State 1305, Assert]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 3205, ChangeAnim]
type=ChangeAnim
trigger1=!time && !prevstateno
value=abs(Ifelse(root,statetype=A,3206,3205))
[State 3205, ChangeAnim]
type=ChangeAnim
trigger1=!time && prevstateno
value=abs(Ifelse(root,statetype=A,3206,3205))
elem=4

[State 3201, Voice]
type=PlaySnd
trigger1=animelem=10
value=s3200,1
channel=7

[State 3205, Reset]
type=VarSet
trigger1=animelemtime(3)>=0 
var(11)=0
[State 3205, FadeIn]
type=VarAdd
trigger1=animelemtime(3)<0 
var(11)=1

[State 3205, Position]
type=Posfreeze
trigger1=1
value=1
ignorehitpause=1

[State 3205, PlayerPush]
type=PlayerPush
trigger1=1 
value=0
[State 3205, ScreenBound]
type=ScreenBound
trigger1=1
value=1

[State 3205, Width]
type=Width
trigger1=1
edge=10,0

[State 201, FadeIn]
type=Trans
trigger1=var(11) 
trans=addalpha
alpha=0+(32*var(11)),256
ignorehitpause=1

[State 3205, The World Special Cancel]
type=changestate
trigger1=root,stateno=1000||root,stateno=1050 
value=1005
ignorehitpause=1
[State 3205, The World Special Cancel]
type=changestate
trigger1=root,stateno=1100||root,stateno=1150 
value=1105
ignorehitpause=1
[State 3205, The World Special Cancel]
type=changestate
trigger1=root,stateno=1250 
value=1255
ignorehitpause=1

[State 3205, Change]
type=changestate
trigger1=!animtime
trigger2=roundstate>3
value=1010
ignorehitpause=1
[State 3205, Change]
type=changestate
trigger1=root,Movetype=H && root,var(45)>=1
value=1007
ignorehitpause=1
[State 3205, Blank]
type=changestate
trigger1=root,Numhelper(1005)>1 && time>1
trigger2=(root,stateno=[1400,1450])
value=1016
ignorehitpause=1
[State 3205, End]
type=destroyself
trigger1=root,var(1)
ignorehitpause=1
;------------------------------------------------------------------------------- 
;Time Stop FX
[Statedef 3210]
physics=N
anim=1332
sprpriority=-999

[State 3210, Snd]
type=PlaySnd
trigger1=!time && !prevstateno
value=s3200,4
channel=0

[State 3210, ScrenBound]
type=ScreenBound
trigger1=1
value=0

[State 3210, EnvColor]
type=Bgpalfx
trigger1=1
time=1
invertall=1
color=0
ignorehitpause=1

[State 3210, Assert]
type=AssertSpecial
trigger1=time<49 && !prevstateno
flag=invisible
ignorehitpause=1
[State 3210, Assert]
type=AssertSpecial
trigger1=1
flag=noshadow
flag2=nomusic
ignorehitpause=1

[State 3210, NotHitBy]
type=NotHitBy
trigger1=1 
value=SCA
[State 3210, EnvColor]
type=Bgpalfx
trigger1=Time <= 9 && !prevstateno
time=1
invertall=1
color=0
ignorehitpause=1

[State 3210, Explod]
type=Explod
trigger1=!time && !prevstateno
anim=1334
id=1334
pos=200,110
postype=Left
sprpriority=-999
ownpal=1
bindtime=-1
removetime=9
scale=5,5
pausemovetime=99999999999999
supermovetime=99999999999999
persistent=0

[State 3210, Var]
type=varSet
trigger1=!time && !prevstateno
var(1)=100
[State 3210, VarAdd]
type=varadd
trigger1=time>=9
var(1)=-4

[State 3210, Scale]
type=angledraw
trigger1=1
scale=var(1)*0.01,var(1)*0.01

[State 3210, Var]
type=varset
trigger1=!time && !prevstateno
var(2)=256
[State 3210, VarAdd]
type=varadd
trigger1=time>=9
var(2)=-11
[State 3210, Trans]
type=Trans
trigger1=1
trans=addalpha
alpha=var(2), 256

[State 3210, change]
type=changestate
trigger1=root,Numhelper(8500)
value=3212
[State 3210, change]
type=changestate
trigger1=time>200 && !(root,var(0))
trigger2=root,stateno=3202 && root,time>100
value=3211
[State 3210, end]
type=destroyself
trigger1=roundstate>3
trigger2=root,movetype=H && !(root,var(0))
;------------------------------------------------------------------------------- 
;Time Stop FX Over
[Statedef 3211]
physics=N
anim=1332
sprpriority=2

[State 3211, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(0 * const(size.xScale)), ceil(-80 * const(size.yScale))
ignorehitpause=1
[State 3211, Snd]
type=PlaySnd
trigger1=!time
value=s3200,2
channel=7

[State 3211, ScrenBound]
type=ScreenBound
trigger1=1
value=0
[State 3211, Assert]
type=AssertSpecial
trigger1=1
flag=noshadow
flag2=nomusic
ignorehitpause=1

[State 3211, Reset]
type=VarSet
trigger1=!time 
fvar(10)=0
[State 3211, Fadeout]
type=VarAdd
trigger1=1
fvar(10)=2.67
[State 3211, Reset]
type=VarSet
trigger1=!time 
fvar(11)=0
[State 3211, Fadeout]
type=VarAdd
trigger1=time>=48
fvar(11)=-5.3

[State 3211, FadeOut]
type=Trans
trigger1=1
trans=addalpha
alpha=ceil(256-(fvar(11))),ceil(0+(fvar(10)))
ignorehitpause=1

[State 3211, VarSet]
type=VarSet
trigger1=!time 
var(3)=0
[State 3211, VarSet]
type=Varadd
trigger1=1
var(3)=1

[State 3211, Scale]
type=angledraw
trigger1=1
scale=2.5-0.025*var(3),2.5-0.025*var(3)

[State 3211, Var]
type=varset
trigger1=!time
fvar(2)=256
[State 3211, VarAdd]
type=varadd
trigger1=1
fvar(2)=-2.67
[State 3211, Trans]
type=Trans
trigger1=1
trans=addalpha
alpha=ceil(fvar(2)), 128

[State 3211, end]
type=destroyself
trigger1=var(3)>96
trigger2=root,movetype=H
;------------------------------------------------------------------------------- 
;Time Stop FX-Wait
[Statedef 3212]
physics=N
anim=9999
sprpriority=-9999

[State 3212, ScrenBound]
type=ScreenBound
trigger1=1
value=0
[State 3212, Assert]
type=AssertSpecial
trigger1=1
flag=noshadow
flag2=nomusic
ignorehitpause=1

[State 3212, change]
type=changestate
trigger1=root,Numhelper(8500)=0
value=3210
;-------------------------------------------------------------------
;URRRRRY! FX
[StateDef 3305]
physics=N
anim=3305
sprPriority=3

[State 3305, Reset]
type=VarSet
trigger1=!time 
var(10)=0
[State 3305, Fadeout]
type=VarAdd
trigger1=root,animelemtime(6)>=0 
var(10)=1

[State 3305, FadeIn]
type=Trans
trigger1=!var(10)
trans=addalpha
alpha=64+(96*time),256
ignorehitpause=1
[State 3305, FadeOut]
type=Trans
trigger1=var(10) 
trans=addalpha
alpha=256-(64*var(10)),256
ignorehitpause=1

[State 3305, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(0+(15*var(10))*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1

[State 3305, AngleDraw]
type=AngleDraw
trigger1=1
value=0-8*var(10)
scale=1.0-0.025*var(10),1.0-0.05*var(10)
ignorehitpause=1

[State 3305, End]
type=DestroySelf
trigger1=root,stateno!=3300 && root,stateno!=3350
trigger2=root,time<=1
trigger3=root,movetype=H
trigger4=root,animelemtime(10)>=0
ignorehitpause=1
;-------------------------------------------------------------------
;Follow Up FX
[StateDef 3306]
physics=N
anim=3305
sprPriority=3

[State 3306, Reset]
type=VarSet
trigger1=!time 
var(1)=0
[State 3306, Fadeout]
type=VarAdd
trigger1=root,animelemtime(11)>=0 
var(1)=1

[State 3306, FadeIn]
type=Trans
trigger1=!var(1) && (root,stateno=3301)
trans=addalpha
alpha=256,256
ignorehitpause=1
[State 3306, FadeOut]
type=Trans
trigger1=var(1) && (root,stateno=3301)
trans=addalpha
alpha=256-(32*var(1)),256
ignorehitpause=1
[State 3306, FadeIn]
type=Trans
trigger1=!var(1) && (root,stateno=3351)
trans=addalpha
alpha=192-(16*var(1)),0+(32*var(1))
ignorehitpause=1
[State 3306, FadeOut]
type=Trans
trigger1=var(1) && (root,stateno=3351)
trans=addalpha
alpha=128-(32*var(1)),128+(32*var(1))
ignorehitpause=1

[State 3306, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(-38+4*var(10)*root,const(size.xscale)),ceil(-4*root,const(size.yscale))
ignorehitpause=1

[State 3306, AngleDraw]
type=AngleDraw
trigger1=1
value=0-5*var(10)
scale=1.0-0.025*var(10),1.0-0.0125*var(10)
ignorehitpause=1

[State 3306, End]
type=DestroySelf
trigger1=root,stateno!=3301 && root,stateno!=3351
trigger2=root,time<=1
trigger3=root,movetype=H
trigger4=root,animelemtime(16)>=0
trigger5=!animtime
ignorehitpause=1
;------------------------------------------------------------------------------- 
;The World Time Stop FX
[Statedef 3355]
physics=N
anim=1332
sprpriority=-999

[State 3355, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(0 * const(size.xScale)), ceil(-80 * const(size.yScale))
ignorehitpause=1
[State 3355, Assert]
type=AssertSpecial
trigger1=time=[9,190]
flag=invisible
ignorehitpause=1

[State 3355, StopSnd]
type=StopSnd
trigger1=1
channel=3
ignorehitpause=1

[State 3355, Snd]
type=PlaySnd
trigger1=time=180
value=s3200,2
channel=6
[State 3355, Snd]
type=PlaySnd
trigger1=!time
value=s3200,4
channel=6

[State 3355, ScrenBound]
type=ScreenBound
trigger1=1
value=0

[State 3355, EnvColor]
type=Bgpalfx
trigger1=time<191
time=2
invertall=1
color=0
ignorehitpause=1

[State 3355, Assert]
type=AssertSpecial
trigger1=1
flag=noshadow
flag2=nomusic
flag3=timerfreeze
ignorehitpause=1
[State 3555, Assert]
type=AssertSpecial
trigger1=1
flag=nobardisplay
Flag2=NoFG 
ignorehitpause=1

[State 3355, Var]
type=varSet
trigger1=!time
var(1)=250
[State 3355, VarAdd]
type=varadd
trigger1=time>=140
var(1)=-4
[State 3355, Var]
type=varSet
trigger1=!time
var(2)=0
[State 3355, VarAdd]
type=varadd
trigger1=time>180
var(2)=2

[State 3355, Scale]
type=angledraw
trigger1=1
scale=var(1)*0.01,var(1)*0.01

[State 3355, Trans]
type=Trans
trigger1=!var(2)
trans=addalpha
alpha=0+8*time, 256
[State 3355, Trans]
type=Trans
trigger1=var(2)
trans=addalpha
alpha=256-4*var(2), 256
[State 3355, end]
type=destroyself
trigger1=var(1)<=0
;-------------------------------------------------------------------------
;The World Checkmate Crush Remove 
[Statedef 3402]
physics=N
movetype=I
anim=3402
velset=0,0
ctrl=0
sprpriority=2

[State 3402, PosSet]
type=PosSet
trigger1=1
y=0
[state 3402, Varadd]
type=varadd
trigger1=!Time
var(4)=0
[state 3402, Varadd]
type=varadd
trigger1=1
var(4)=1

[state 3402, PlaySnd]
type=PlaySnd
trigger1=!time
value=s1,7
persistent=0
channel=12
[state 3402, PosFreeze]
type=PosFreeze
trigger1=time>=1 
value=1
ignorehitpause=1
[state 3402, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA
ignorehitpause=1
[state 3402, AngleDraw]
type=AngleDraw
trigger1=1
scale=(1.0 * const(size.xscale))-0.025*var(4),(1.0 * const(size.yscale))+0.05*var(4)
ignorehitpause=1
[State 3402, Trans]
type=Trans
trigger1=1 
trans=addalpha
alpha=256-16*var(4),0+16*var(4)
ignorehitpause=1

[State 3402, Change]
type=destroyself
trigger1=time>32
;---------------------------------------------------------------------------
;The World-Checkmate Crush
[Statedef 3405]
type=S
physics=N
movetype=A
ctrl=0
velset=0, 0
sprpriority=2
facep2=1

[State 3405, AttackDist]
type=AttackDist
trigger1=1 
value=120
ignorehitpause=1

[State 3405, Counter Flag]
type=VarSet
trigger1=NumEnemy && animelemtime(3)<0
var(9)=Ifelse(EnemyNear, MoveType=A,1,0)
ignoreHitPause=1

[State 3405, Lv]
type=varset
trigger1=!time
var(24)=root, var(24)
ignorehitpause=1
[State 3405, Time Stop]
type=varset
trigger1=!time
var(0)=root, var(0)
ignorehitpause=1

[State 3405, ChangeAnim]
type=ChangeAnim
trigger1 =!time && !prevstateno
value=3405+(10*root,var(24))
[State 3405, ChangeAnim]
type=ChangeAnim
trigger1 =!time && prevstateno
value=3405+(10*root,var(24))
elem=2

[State 3405, Hit Frame]
type=ChangeAnim
trigger1=animelemtime(2)>2 && animelemtime(3)<0
trigger1=p2bodydist x<100
value=3405+(10*root,var(24))
elem=3
ignorehitpause=1

[State 3405, Quake]
type=PlaySnd
trigger1=AnimElemTime(4)=1
value=s2,7
channel=7
[State 3405, EnvShake]
type=EnvShake
trigger1=AnimElemTime(4)=1
time=22
ampl=Ifelse(random<500,-6,6)

[State 3405, Shadow]
type=AfterImage
trigger1=animelem=2 && !var(24)
time=14
timeGap=1
frameGap=10
length=20
palBright=0,0,0
palContrast=128,128,128
palPostBright=0,0,0
palAdd=0,0,0
palMul=0.75,0.75,0.75
trans=add1
[State 3405, Shadow]
type=AfterImage
trigger1=animelem=2 && var(24)
time=14
timeGap=1
frameGap=10
length=20
palBright=0,0,0
palContrast=32,32,160
palPostBright=0,0,0
palAdd=0,0,0
palMul=0.75,0.75,0.75
trans=add1

[State 3405, Damp]
type=VarSet
trigger1=!time
fvar(10)=ifelse(root,var(22), 0.65, ifelse(root,var(21), 0.8, Ifelse((root,prevstateno=[200,999]),0.925,Ifelse(root,var(13)>2,0.65,1.0))))+0.2*(root,var(9))
ignorehitpause=1

[State 3405, Woosh]
type=playsnd
trigger1=animelem=4
value=s1,2
channel=2

[State 3405, NHB]
type=NotHitBy
trigger1=animelemtime(3)<=0
time=1
value=SCA
ignorehitpause=1

[State 3405, reset]
type=varset
trigger1=!time
var(3)=0
ignorehitpause=1

[State 3405, movecontact]
type=varset
trigger1=movecontact && numtarget 
trigger1=!(target, time) && (target, movetype=H)
var(7)=1
ignorehitpause=1
[State 3405, movehitvar]
type=varset
trigger1=movehit && numtarget 
trigger1=!(target, time) && (target, movetype=H)
trigger1=target,alive
var(3)=1
ignorehitpause=1

[State 3405, HitOverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA, AA, AP, AT
stateno=1007
ignorehitpause=1
[State 3405, HB]
type=hitby
trigger1=1
time=-1
value=SCA, AP, AA
ignorehitpause=1

[State 3405, Vel]
type=VelSet
trigger1=AnimElem=2 
x=-4
[State 3405, Vel]
type=VelSet
trigger1=AnimElem=3 
x=Ifelse(p2bodydist x>140,12+(4*var(24)),4+(2*var(24)))
[State 3405, Vel]
type=VelMul
trigger1=AnimElemtime(4)<0
trigger2=AnimElemtime(5)>=4
x=0.9275
[State 3405, Vel]
type=VelSet
trigger1=AnimElem=6 
x=0
[State 3405, Width]
type=Width
trigger1=1 
value=60,0
ignorehitpause=1

[State 3405, Position]
type=Posfreeze
trigger1=var(7)
value=1
ignorehitpause=1

[State 3405, Dust Helper]
type=Helper
trigger1=AnimElem=3
helperType=Normal
stateNo=8103
ID=8100
name="Dash Dust"
posType=P1
ownpal=0
persistent=0

[State 3405, hit]
type=hitdef
trigger1=animelem=5 && !root,var(0)
id=3405
priority=4, Hit
attr=S, HP
damage=ceil(35*fvar(10)),Ifelse(var(24)=1,42,28)
animtype=Light
hitflag=MAF
guardflag=MA
pausetime=1,92
guard.pausetime=1,12+(8*var(24))
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1
hitsound=s2,2
guardsound=s130,0
ground.type=Low
ground.slidetime=12
ground.hittime=64
guard.hittime=16
air.hittime=120
ground.velocity=-2
ground.cornerpush.veloff=0
air.velocity=-2,-3
air.fall=1
fall=0
fall.recover=0
fall.recovertime=120
getpower=0,0
givepower=36, 36
sprpriority=2
yaccel=0.52
forcestand=1
p2facing=1
envshake.time=32
envshake.ampl=5
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
kill=Ifelse(moveguarded,1,0)

[State 3405, hit]
type=hitdef
trigger1=animelem=5 && root,var(0)
id=3405
priority=4, Hit
attr=S, HP
damage=0,0
animtype=Light
hitflag=MAFD
guardflag=MA
pausetime=1,92
guard.pausetime=1,12+(8*var(24))
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1
hitsound=s2,2
guardsound=s130,0
ground.type=Low
ground.slidetime=12
ground.hittime=64
guard.hittime=16
air.hittime=120
ground.velocity=-2
ground.cornerpush.veloff=0
air.velocity=-2,-3
air.fall=1
fall=0
fall.recover=0
fall.recovertime=120
getpower=0,0
givepower=36, 36
sprpriority=2
yaccel=0.52
forcestand=1
p2facing=1
envshake.time=32
envshake.ampl=5
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
kill=Ifelse(moveguarded,1,0)

[State 3405, Target]
type=TargetState
trigger1=animelemtime(3)>0
trigger1=MoveHit && var(3)
value=3420
ID=3405

[State 3405, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8014)
ID=8000
name="Spark"
postype=p2
pos=(target, const(size.ground.front) -10), (target,const(size.mid.pos.y))+25
ownPal=0
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 3405, Counter FX]
type=Helper
trigger1=Movehit=1 && var(9)
trigger1=!Numhelper(8290)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P2
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 20, ceil(P2Dist x), 20)), -40
ownpal=0
pauseMoveTime=65535
superMoveTime=65535
persistent=0
ignoreHitPause=1

[State 3405, Log the current target's PlayerID]
type=ParentVarSet
trigger1=Root,var(0) && Movehit=1 && NumTarget
trigger1=target,IsHelper=0 
var(12)=target,ID
ignorehitpause=1

[State 3405, HitCount]
type=ParentVarAdd
trigger1=MoveContact=1 && NumTarget
var(13)=1
ignoreHitPause=1
[State 3405, Juggle Points]
type=ParentVarAdd
trigger1=MoveContact=1 && NumTarget
var(15)=1
ignoreHitPause=1
[State 3405, ProjContact]
type=VarSet
trigger1=MoveContact=1 && NumTarget
var(18)=1
ignoreHitPause=1
[State 3405, ProjContact]
type=ParentVarSet
trigger1=MoveContact=1 && NumTarget
trigger1=Root, StateNo=3400||Root, StateNo=3450
var(18)=1
ignoreHitPause=1

[State 3405, StateTypeSet]
type=StateTypeSet
trigger1=animelemtime(6)>=0
movetype=I

[State 3405, End]
type=changestate
trigger1=anim=3405||anim=3415
trigger1=var(3)=1 && animelem=6
value=3406
ignorehitpause=1
[State 3405, End]
type=changestate
triggerall=anim=3405||anim=3415
trigger1=moveguarded
trigger2=var(3)=0 && animelem=6
value=3402
ignorehitpause=1
[State 3405, Blank]
type=changestate
trigger1=anim=3405||anim=3415
trigger1=root,stateno!=3400 && root,stateno!=3450
value=1016
ignorehitpause=1
[State 3405, End]
type=destroyself
trigger1=anim=3405||anim=3415
trigger1=root,var(1)
ignorehitpause=1
;------------------------------------------------------------------
;Checkmate Crush Connect
[Statedef 3406]
type=S
physics=N
movetype=A
anim=Ifelse(ishelper(3405)||ishelper(1005),3406,3407)
velset=0, 0
ctrl=0
sprpriority=Ifelse(ishelper(3405)||ishelper(1005),3,2)

[State 3406, VarSet]
type=VarSet
trigger1=Numtarget && !time
var(5)=target,facing

[State 3406, Hit Frame]
type=ChangeAnim
trigger1=root,anim=3401
trigger1=root,animelemtime(7)=[0,1]
trigger2=root,anim=3501
trigger2=root,animelemtime(47)=[0,1]
value=anim
elem=2
ignorehitpause=1

[State 3406, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=3

[State 3406, Max Checkmate Crush]
type=helper
trigger1=!time && var(24)=1 && !Numhelper(3406)
helpertype=normal
stateno=3406
ID=3406
name="MaxCrush"
postype=p1
pos=ceil(0*const(size.xscale)), ceil(0*const(size.yscale))
size.xscale=(1.0 * root,const(size.xscale))
size.yscale=(1.0 * root,const(size.yscale))
ownpal=0
pausemovetime=255
[State 3406, World Leave]
type=helper
triggerall=!time && !Numhelper(3402) 
triggerall=prevstateno!=3506
trigger1=ishelper(3405)
trigger2=ishelper(1005)
helpertype=normal
stateno=3402
ID=3402
name="TheWorldExit"
postype=p1
pos=ceil(0*const(size.xscale)), ceil(0*const(size.yscale))
size.xscale=(1.0 * root,const(size.xscale))
size.yscale=(1.0 * root,const(size.yscale))
ownpal=0
pausemovetime=255
ignorehitpause=1

[State 3406, HitSound]
type=playsnd
triggerall=Numtarget && time%3
trigger1=animelemtime(10)>0 && animelemtime(13)<0
trigger2=animelemtime(15)>0 && animelemtime(17)<0
value=s2,11
channel=10+random%7

[State 3406, Woosh]
type=playsnd
trigger1=animelem=7
value=s3000,2
channel=3+random%4

[State 3406, TargetState]
type=TargetState
trigger1=!time && Numtarget
trigger1=prevstateno!=3506
trigger1=target,stateno!=3420
value=3420
[State 3406, TargetState]
type=TargetState
trigger1=!time && Numtarget
trigger1=prevstateno=3506
value=3524

[State 3406, Pos]
type=PosSet
trigger1=NumTarget
x=Target,Pos X
y=Target,Pos Y + Target,Const(size.mid.pos.y)-20
ignorehitpause=1

[State 3406, Pos]
type=PosSet
trigger1=ishelper(3406) && parent,ishelper(3405)
trigger1=animelemtime(9)<0
x=Helper(3405),Pos X
y=Helper(3405),Pos Y +20
ignorehitpause=1
[State 3406, Pos]
type=PosSet
trigger1=ishelper(3406) && parent,ishelper(1005)
trigger1=animelemtime(9)<0
x=Helper(1005),Pos X
y=Helper(1005),Pos Y +20
ignorehitpause=1

[State 3406, AssertSpecial]
type=AssertSpecial
trigger1=animelemtime(5)<0
flag=noshadow
ignorehitpause=1
[State 3406, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA
ignorehitpause=1

[State 3406, HitSpark]
type=Helper
trigger1=Numtarget 
trigger1=animelemtime(10)>=0 && animelemtime(11)<0
trigger1=Numhelper(8000)<6
helperType=Normal
stateNo=8017
ID=8000
name="Spark"
postype=p2
pos=(target, const(size.ground.front) -20+5*random%20),(target,const(size.mid.pos.y))+Ifelse(ishelper(3405),-40,40)
ownPal=0
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 3406, HitSpark]
type=Helper
trigger1=Numtarget
trigger1=animelemtime(11)>=0 && animelemtime(13)<0
trigger1=Numhelper(8000)<6
helperType=Normal
stateNo=8017
ID=8000
name="Spark"
postype=p2
pos=(target, const(size.ground.front) -20+5*random%20),(target,const(size.mid.pos.y))+Ifelse(ishelper(3405),-20,20)
ownPal=0
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 3406, HitSpark]
type=Helper
trigger1=Numtarget
trigger1=animelemtime(15)>=0 && animelemtime(17)<0
trigger1=Numhelper(8000)<6
helperType=Normal
stateNo=8017
ID=8000
name="Spark"
postype=p2
pos=(target, const(size.ground.front) -20+5*random%20),(target,const(size.mid.pos.y))
ownPal=0
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 3406, Blood (Additive)]
type=Explod
trigger1=animelemtime(10)>=0 && animelemtime(11)<0
trigger1=Numtarget && !numexplod(8051)
anim=8051
id=8051
sprPriority=5
postype=p2
pos=(target, const(size.ground.front) -20),(target,const(size.mid.pos.y)-20)
facing=-1
scale=0.5,0.5
pauseMoveTime=65535
superMoveTime=65535
ignorehitpause=1
persistent=0
ownPal=0
[State 3406, Blood (Subtractive)]
type=Explod
trigger1=Numtarget && !numexplod(8061)
trigger1=animelemtime(10)>=0 && animelemtime(11)<0
anim=8061
id=8061
sprPriority=3
postype=p2
pos=(target, const(size.ground.front) -20),(target,const(size.mid.pos.y)-20)
facing=-1
scale=0.5,0.5
pauseMoveTime=65535
superMoveTime=65535
ignorehitpause=1
persistent=0
ownPal=0
[State 3406, Blood (Additive)]
type=Explod
trigger1=Numtarget && !numexplod(8052)
trigger1=animelemtime(10)>=0 && animelemtime(11)<0
anim=8051
id=8052
sprPriority=5
postype=p2
pos=(target, const(size.ground.front) +20),(target,const(size.mid.pos.y)-20)
scale=0.5,0.5
ignorehitpause=1
pauseMoveTime=65535
superMoveTime=65535
ownPal=0
[State 3406, Blood (Subtractive)]
type=Explod
trigger1=Numtarget && !numexplod(8053)
trigger1=animelemtime(10)>=0 && animelemtime(11)<0
anim=8061
id=8053
sprPriority=3
postype=p2
pos=(target, const(size.ground.front) +20),(target,const(size.mid.pos.y)-20)
scale=0.5,0.5
ignorehitpause=1
pauseMoveTime=65535
superMoveTime=65535
ownPal=0

[State 3406, Blood (Additive)]
type=Explod
trigger1=Numtarget && !numexplod(8051)
trigger1=animelemtime(11)>=0 && animelemtime(13)<0
anim=8051
id=8051
sprPriority=5
postype=p2
pos=(target, const(size.ground.front) -30),(target,const(size.mid.pos.y))
facing=-1
scale=0.5,0.5
ignorehitpause=1
persistent=0
ownPal=0
[State 3406, Blood (Subtractive)]
type=Explod
trigger1=Numtarget && !numexplod(8061)
trigger1=animelemtime(11)>=0 && animelemtime(13)<0
anim=8061
id=8061
sprPriority=3
postype=p2
pos=(target, const(size.ground.front) -30),(target,const(size.mid.pos.y))
facing=-1
scale=0.5,0.5
ignorehitpause=1
persistent=0
ownPal=0
[State 3406, Blood (Additive)]
type=Explod
trigger1=Numtarget && !numexplod(8052)
trigger1=animelemtime(11)>=0 && animelemtime(13)<0
anim=8051
id=8052
sprPriority=5
postype=p2
pos=(target, const(size.ground.front) +30),(target,const(size.mid.pos.y))
scale=0.5,0.5
ignorehitpause=1
ownPal=0
[State 3406, Blood (Subtractive)]
type=Explod
trigger1=Numtarget && !numexplod(8053)
trigger1=animelemtime(11)>=0 && animelemtime(13)<0
anim=8061
id=8053
sprPriority=3
postype=p2
pos=(target, const(size.ground.front) +30),(target,const(size.mid.pos.y))
scale=0.5,0.5
ignorehitpause=1
ownPal=0

[State 3406, Blood (Additive)]
type=Explod
trigger1=Numtarget && !numexplod(8051)
trigger1=animelemtime(15)>=0 && animelemtime(17)<0
anim=8051
id=8051
sprPriority=5
postype=p2
pos=(target, const(size.ground.front) -40),(target,const(size.mid.pos.y)+20)
facing=-1
scale=0.5,0.5
ignorehitpause=1
persistent=0
ownPal=0
[State 3406, Blood (Subtractive)]
type=Explod
trigger1=Numtarget && !numexplod(8061)
trigger1=animelemtime(15)>=0 && animelemtime(17)<0
anim=8061
id=8061
sprPriority=3
postype=p2
pos=(target, const(size.ground.front) -40),(target,const(size.mid.pos.y)+20)
facing=-1
scale=0.5,0.5
ignorehitpause=1
persistent=0
ownPal=0
[State 3406, Blood (Additive)]
type=Explod
trigger1=Numtarget && !numexplod(8052)
trigger1=animelemtime(15)>=0 && animelemtime(17)<0
anim=8051
id=8052
sprPriority=5
postype=p2
pos=(target, const(size.ground.front) +40),(target,const(size.mid.pos.y)+20)
scale=0.5,0.5
ignorehitpause=1
ownPal=0
[State 3406, Blood (Subtractive)]
type=Explod
trigger1=Numtarget && !numexplod(8053)
trigger1=animelemtime(15)>=0 && animelemtime(17)<0
anim=8061
id=8053
sprPriority=3
postype=p2
pos=(target, const(size.ground.front)+40),(target,const(size.mid.pos.y)+20)
scale=0.5,0.5
ignorehitpause=1
ownPal=0

[State 3406, Blood (Additive)]
type=Explod
trigger1=animelemtime(10)>=0 && animelemtime(11)<0
trigger1=Numenemy && !numexplod(8055)
trigger1=ishelper(3406)
anim=8051
id=8055
sprPriority=5
postype=p2
pos=(enemynear, const(size.ground.front) -20),(enemynear,const(size.mid.pos.y)-10)
facing=-1
vfacing=-1
scale=0.5,0.5
pauseMoveTime=65535
superMoveTime=65535
ignorehitpause=1
persistent=0
ownPal=0
[State 3406, Blood (Subtractive)]
type=Explod
trigger1=Numenemy && !numexplod(8065)
trigger1=animelemtime(10)>=0 && animelemtime(11)<0
trigger1=ishelper(3406)
anim=8061
id=8065
sprPriority=3
postype=p2
pos=(enemynear, const(size.ground.front) -20),(enemynear,const(size.mid.pos.y)-10)
facing=-1
vfacing=-1
scale=0.5,0.5
pauseMoveTime=65535
superMoveTime=65535
ignorehitpause=1
persistent=0
ownPal=0
[State 3406, Blood (Additive)]
type=Explod
trigger1=Numenemy && !numexplod(8057)
trigger1=animelemtime(10)>=0 && animelemtime(11)<0
trigger1=ishelper(3406)
anim=8051
id=8057
sprPriority=5
postype=p2
pos=(enemynear, const(size.ground.front) -20),(enemynear,const(size.mid.pos.y)-10)
vfacing=-1
scale=0.5,0.5
ignorehitpause=1
pauseMoveTime=65535
superMoveTime=65535
ownPal=0
[State 3406, Blood (Subtractive)]
type=Explod
trigger1=Numenemy && !numexplod(8058)
trigger1=animelemtime(10)>=0 && animelemtime(11)<0
trigger1=ishelper(3406)
anim=8061
id=8058
sprPriority=3
postype=p2
pos=(enemynear, const(size.ground.front) -20),(enemynear,const(size.mid.pos.y)-10)
vfacing=-1
scale=0.5,0.5
ignorehitpause=1
pauseMoveTime=65535
superMoveTime=65535
ownPal=0

[State 3406, Blood (Additive)]
type=Explod
trigger1=Numenemy && !numexplod(8056)
trigger1=animelemtime(11)>=0 && animelemtime(13)<0
trigger1=ishelper(3406)
anim=8051
id=8056
sprPriority=5
postype=p2
pos=(enemynear, const(size.ground.front) -30),(enemynear,const(size.mid.pos.y)+10)
facing=-1
vfacing=-1
scale=0.5,0.5
ignorehitpause=1
persistent=0
ownPal=0
[State 3406, Blood (Subtractive)]
type=Explod
trigger1=Numenemy && !numexplod(8066)
trigger1=animelemtime(11)>=0 && animelemtime(13)<0
trigger1=ishelper(3406)
anim=8061
id=8066
sprPriority=3
postype=p2
pos=(enemynear, const(size.ground.front) -30),(enemynear,const(size.mid.pos.y)+10)
facing=-1
vfacing=-1
scale=0.5,0.5
ignorehitpause=1
persistent=0
ownPal=0
[State 3406, Blood (Additive)]
type=Explod
trigger1=Numenemy && !numexplod(8057)
trigger1=animelemtime(11)>=0 && animelemtime(13)<0
trigger1=ishelper(3406)
anim=8051
id=8057
sprPriority=5
postype=p2
pos=(enemynear, const(size.ground.front) +30),(enemynear,const(size.mid.pos.y)+10)
vfacing=-1
scale=0.5,0.5
ignorehitpause=1
ownPal=0
[State 3406, Blood (Subtractive)]
type=Explod
trigger1=Numenemy && !numexplod(8058)
trigger1=animelemtime(11)>=0 && animelemtime(13)<0
trigger1=ishelper(3406)
anim=8061
id=8058
sprPriority=3
postype=p2
pos=(enemynear, const(size.ground.front) +30),(enemynear,const(size.mid.pos.y)+10)
vfacing=-1
scale=0.5,0.5
ignorehitpause=1
ownPal=0

[State 3406, Blood (Additive)]
type=Explod
trigger1=Numenemy && !numexplod(8056)
trigger1=animelemtime(15)>=0 && animelemtime(17)<0
trigger1=ishelper(3406)
anim=8051
id=8056
sprPriority=5
postype=p2
pos=(enemynear, const(size.ground.front) -40),(enemynear,const(size.mid.pos.y)+20)
facing=-1
vfacing=-1
scale=0.5,0.5
ignorehitpause=1
persistent=0
ownPal=0
[State 3406, Blood (Subtractive)]
type=Explod
trigger1=Numenemy && !numexplod(8066)
trigger1=animelemtime(15)>=0 && animelemtime(17)<0
trigger1=ishelper(3406)
anim=8061
id=8066
sprPriority=3
postype=p2
pos=(enemynear, const(size.ground.front) -40),(enemynear,const(size.mid.pos.y)+20)
facing=-1
vfacing=-1
scale=0.5,0.5
ignorehitpause=1
persistent=0
ownPal=0
[State 3406, Blood (Additive)]
type=Explod
trigger1=Numenemy && !numexplod(8057)
trigger1=animelemtime(15)>=0 && animelemtime(17)<0
trigger1=ishelper(3406)
anim=8051
id=8057
sprPriority=5
postype=p2
pos=(enemynear, const(size.ground.front) -40),(enemynear,const(size.mid.pos.y)+20)
vfacing=-1
scale=0.5,0.5
ignorehitpause=1
ownPal=0
[State 3406, Blood (Subtractive)]
type=Explod
trigger1=Numenemy && !numexplod(8058)
trigger1=animelemtime(15)>=0 && animelemtime(17)<0
trigger1=ishelper(3406)
anim=8061
id=8058
sprPriority=3
postype=p2
pos=(enemynear, const(size.ground.front) -40),(enemynear,const(size.mid.pos.y)+20)
vfacing=-1
scale=0.5,0.5
ignorehitpause=1
ownPal=0

[State 3406, TargetState]
type=TargetState
trigger1=Numtarget && animelem=20
value=3421

[State 3406, TargetPowerAdd]
type=TargetPowerAdd
trigger1=Numtarget
trigger1=animelem=10||animelem=11||animelem=12
value=36
[State 3406, TargetPowerAdd]
type=TargetPowerAdd
trigger1=Numtarget && animelem=15
value=Ifelse(var(24),144,72)

[State 3406, EnvShake]
type=EnvShake
trigger1=Numtarget
trigger1=animelem=10||animelem=11||animelem=12
time=12
ampl=Ifelse(random<500,5,-5)
[State 3406, EnvShake]
type=EnvShake
trigger1=animelem=15
time=32
ampl=Ifelse(random<500,7,-7)

[State 3406, Damage]
type=TargetLifeAdd
triggerall=NumTarget 
trigger1=animelem=10||animelem=11||animelem=12
value=ceil(Ifelse(root,var(0),0,Ifelse(var(24),-56,-35)*fvar(10)))
kill=0
[State 3406, Damage]
type=TargetLifeAdd
triggerall=NumTarget 
trigger1=animelem=15
value=ceil(Ifelse(root,var(0),0,Ifelse(var(24),-77,-49)*fvar(10)))

[State 3301, 1st Knives]
type=HitAdd
trigger1=Numtarget && animelem=10
value=Ifelse(var(24),12,6)
[State 3301, 2nd Knives]
type=HitAdd
trigger1=Numtarget && animelem=11
value=Ifelse(var(24),24,12)
[State 3301, 2nd Knives]
type=HitAdd
trigger1=Numtarget && animelem=12
value=Ifelse(var(24),4,2)
[State 3302, 2nd Knives]
type=HitAdd
trigger1=Numtarget && animelem=15
value=Ifelse(var(24),24,12)

[State 3406, HitCount]
type=ParentVarAdd
trigger1=Numtarget && (parent,stateno=3400||parent,stateno=3450)
trigger1=animelem=15
var(13)=Ifelse(var(24),64,32)
[State 3406, Juggle]
type=ParentVarSet
trigger1=Numtarget && (parent,stateno=3400||parent,stateno=3450)
trigger1=animelem=15
var(16)=1
[State 3406, ProjContact]
type=ParentVarSet
trigger1=Numtarget && (parent,stateno=3400||parent,stateno=3450)
trigger1=animelem=15
var(18)=1

[State 3406, Log the current target's PlayerID]
type=ParentVarSet
trigger1=root, StateNo=3400||root, StateNo=3450||root, StateNo=3500
trigger1=(parent,stateno=root,stateno)
trigger1=Root,var(0) && NumTarget
trigger1=target,IsHelper=0 
var(12)=target,ID
ignorehitpause=1

[State 3406, P2 Dead]
type=TargetState
trigger1=NumTarget && WInKO
trigger1=!(Target, NumPartner)
trigger1=Target, StateNo=5110
trigger1=Target, Time=1
trigger1=!(Target, Alive)
value=6008
ignoreHitPause=1

[State 3406, End]
type=changestate
trigger1=!animtime
value=3407
;-------------------------------------------------------------------------
;Destroy
[Statedef 3407]
physics=N
movetype=I
anim=9999
velset=0,0
ctrl=0
sprpriority=-10

[state 3407, NHB]
type=nothitby
trigger1=1
value=SCA
ignorehitpause=1

[State 3407, Max Cancel]
type=changestate
trigger1=root,stateno=3050 && root,animelemtime(14)<0
value=3055
ignorehitpause=1
[State 3407, Max Cancel]
type=changestate
trigger1=root,stateno=3075 && root,animelemtime(10)<0
value=3065
ignorehitpause=1
[State 3407, Super Cancel]
type=changestate
trigger1=root,stateno=3200  
value=3205
ignorehitpause=1

[State 3407, End]
type=destroyself
trigger1=time >= 60
;------------------------------------------------------------------------------- 
;The World
[Statedef 3410]
physics=N
velset=0,0
anim=3410
sprPriority=0

[State 3410, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 3401, FadeIn]
type=Trans
trigger1=1
trans=addalpha
alpha=0+(32*time),256-(16*time)
ignorehitpause=1

[State 3410, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1

[State 3410, end]
type=destroyself
trigger1=root,stateno!=3450
trigger2=root,time<=1
trigger3=!animtime
;-------------------------------------------------------------------------
;The World Checkmate Crush Remove 
[Statedef 3502]
physics=N
movetype=I
anim=3502
velset=0,0
ctrl=0
sprpriority=-2

[State 3502, PosSet]
type=PosSet
trigger1=1
y=0
[state 3502, Varadd]
type=varadd
trigger1=!Time
var(4)=0
[state 3502, Varadd]
type=varadd
trigger1=1
var(4)=1

[state 3502, PlaySnd]
type=PlaySnd
trigger1=!time
value=s1,7
persistent=0
channel=12
[state 3502, PosFreeze]
type=PosFreeze
trigger1=time>=1 
value=1
ignorehitpause=1
[state 3502, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA
ignorehitpause=1
[state 3502, AngleDraw]
type=AngleDraw
trigger1=1
scale=(1.0 * const(size.xscale))-0.025*var(4),(1.0 * const(size.yscale))+0.05*var(4)
ignorehitpause=1
[State 3502, Trans]
type=Trans
trigger1=1 
trans=addalpha
alpha=256-16*var(4),0+16*var(4)
ignorehitpause=1

[State 3502, Change]
type=destroyself
trigger1=time>32
;---------------------------------------------------------------------------
;The World Judgment
[Statedef 3505]
type=S
movetype=A
physics=N
ctrl=0
velset=0, 0
sprpriority=1
facep2=1

[State 3505, Damp]
type=VarSet
trigger1=!time
fvar(10)=ifelse(root,var(22), 0.65, ifelse(root,var(21), 0.8, Ifelse((root,prevstateno=[200,999]),0.925,Ifelse(root,var(13)>2,0.5,1.0))))+0.2*(root,var(9))
ignorehitpause=1
[State 3505, Counter Flag]
type=VarSet
trigger1=NumEnemy && animelemtime(3)<0
var(9)=Ifelse(EnemyNear, MoveType=A,1,0)
ignoreHitPause=1

[State 3505, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 3505, Reset]
type=varset
trigger1=!time
var(1)=0
ignorehitpause=1
[State 3505, Add]
type=varadd
trigger1=animelemtime(1)>40
var(1)=1
ignorehitpause=1

[State 3505, FadeIn]
type=Trans
trigger1=!var(1)
trans=addalpha
alpha=0+32*time,256-(8*time)
ignorehitpause=1

[State 3505, Lv]
type=varset
trigger1=!time
var(24)=root, var(24)
ignorehitpause=1

[State 3505, ChangeAnim]
type=ChangeAnim
trigger1 =!time && !prevstateno
value=3505
[State 3505, ChangeAnim]
type=ChangeAnim
trigger1 =!time && prevstateno
value=3505
elem=2

[State 3505, Shadow]
type=AfterImage
trigger1=!time
time=32
timeGap=1
frameGap=10
length=20
palBright=0,0,0
palContrast=160,32,32
palPostBright=0,0,0
palAdd=0,0,0
palMul= 0.75,0.75,0.75
trans=Add

[State 3505, Woosh]
type=playsnd
trigger1=animelem=2
value=s1,2
channel=10

[State 3505, NHB]
type=NotHitBy
trigger1=animelemtime(4)<=0
time=1
value=SCA
ignorehitpause=1

[State 3505, movecontact]
type=varset
trigger1=movecontact && numtarget 
trigger1=!(target, time) && (target, movetype=H)
var(7)=1
ignorehitpause=1
[State 3505, movehitvar]
type=varset
trigger1=movehit && numtarget 
trigger1=!(target, time) && (target, movetype=H)
trigger1=target,alive
var(3)=1
ignorehitpause=1

[State 3505, HitOverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA, AA, AP, AT
stateno=1007
ignorehitpause=1
[State 3505, HB]
type=hitby
trigger1=1
time=-1
value=SCA, AP, AA
ignorehitpause=1

[State 3505, Width]
type=Width
trigger1=1 
edge=60,0
ignorehitpause=1

[State 3505, hit]
type=hitdef
trigger1=animelem=3 && numenemy
trigger1=(enemynear,stateno!=[150,155])
id=3505
priority=1,Hit
attr=S,HT
hitflag=MAF
pausetime=0,0
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1
hitsound=s800,0
guardsound=s130,0
fall=0
getpower=0,0
givepower=36,36
sprpriority=2
forcestand=1
p2facing=1
numhits=0
p1stateno=3506
p2stateno=3520
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48

[State 3505, HitSpark]
type=Helper
trigger1=moveguarded=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=8001
ID=8000
name="Spark"
postype=p2
pos=(target, const(size.ground.front) -10), (target,const(size.mid.pos.y))+20
ownPal=0
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 3505, StateTypeSet]
type=StateTypeSet
trigger1=animelemtime(4)>=0
movetype=I

[State 3505, Blank]
type=changestate
trigger1=!animtime
value=1015
ignorehitpause=1
[State 3505, End]
type=destroyself
trigger1=root,var(1)
trigger2=root,stateno!=3500
ignorehitpause=1
;------------------------------------------------------------------
;World Judgment Connect
[Statedef 3506]
type=S
movetype=A
physics=N
anim=3506
velset=0, 0
ctrl=0
sprpriority=2

[State 3506, Counter FX]
type=Helper
trigger1=!time && var(9)
trigger1=!Numhelper(8290)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P2
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 20, ceil(P2Dist x), 20)), -50
ownpal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 3506, Shadow]
type=AfterImage
trigger1=!time && Numtarget
time=120
timeGap=1
frameGap=10
length=20
palBright=0,0,0
palContrast=160,32,32
palPostBright=0,0,0
palAdd=0,0,0
palMul= 0.75,0.75,0.75
trans=Add1

[State 3506, VarSet]
type=VarSet
trigger1=Numtarget && time<5
var(5)=target,facing

[State 3506, World Leave]
type=helper
trigger1=Numtarget && root,stateno=3500
trigger1=anim=3506 && !animtime
helpertype=normal
stateno=3502
ID=3502
name="TheWorldExit"
postype=p1
pos=ceil(0*const(size.xscale)), ceil(0*const(size.yscale))
size.xscale=(1.0 * root,const(size.xscale))
size.yscale=(1.0 * root,const(size.yscale))
ownpal=0
pausemovetime=255
ignorehitpause=1

[State 3506, ChangeAnim]
type=ChangeAnim
trigger1=Numtarget && root,stateno=3500
trigger1=anim=3506 && !animtime
value=9999

[State 3506, TargetBind]
type=TargetBind
trigger1=Numtarget && animelemtime(2)<0 
pos=ceil(68*root,const(size.xscale)),ceil(-134*root,const(size.yscale))
[State 3506, TargetBind]
type=TargetBind
trigger1=Numtarget && animelem=2
pos=ceil(70*root,const(size.xscale)),ceil(0*root,const(size.yscale))
[State 3506, TargetBind]
type=Bindtotarget
trigger1=Numtarget && animelem=4
pos=ceil(90*root,const(size.xscale)),ceil(0*root,const(size.yscale)),foot
[State 3506, TargetBind]
type=Bindtotarget
trigger1=Numtarget && animelem=10
pos=ceil(60*root,const(size.xscale)),ceil(0*root,const(size.yscale)),foot
[State 3506, TargetBind]
type=Bindtotarget
trigger1=Numtarget && animelem=18
pos=ceil(75*root,const(size.xscale)),ceil(0*root,const(size.yscale)),foot
[State 3506, TargetBind]
type=Bindtotarget
trigger1=Numtarget && animelem=26
pos=ceil(82*root,const(size.xscale)),ceil(0*root,const(size.yscale)),foot
[State 3506, TargetBind]
type=Bindtotarget
trigger1=Numtarget 
trigger1=root,anim=3501 && root,animelem=4
pos=ceil(110*root,const(size.xscale)),ceil(0*root,const(size.yscale)),foot
[State 3506, TargetBind]
type=Bindtotarget
trigger1=Numtarget 
trigger1=root,anim=3501 && root,animelem=16
pos=ceil(50*root,const(size.xscale)),ceil(0*root,const(size.yscale)),foot
[State 3506, TargetBind]
type=Bindtotarget
trigger1=Numtarget 
trigger1=root,anim=3501 && root,animelem=18
pos=ceil(60*root,const(size.xscale)),ceil(0*root,const(size.yscale)),foot
[State 3506, TargetBind]
type=Bindtotarget
trigger1=Numtarget 
trigger1=root,anim=3501 && root,animelem=26
pos=ceil(80*root,const(size.xscale)),ceil(0*root,const(size.yscale)),foot

[State 3506, Quake]
type=PlaySnd
trigger1=AnimElemTime(25)=1
value=s2,7
channel=13
[State 3506, EnvShake]
type=EnvShake
trigger1=AnimElemTime(25)=1
time=22
ampl=Ifelse(random<500,-6,6)

[State 3506, width]
type=width
trigger1=1
edge=60,0

[State 3506, Dust Helper]
type=Helper
triggerall=anim=3506
trigger1=animelem=3||animelem=9||animelem=16||animelem=24
helperType=Normal
stateNo=8103
ID=8100
name="Dash Dust"
posType=P1
pos=ceil(-35*const(size.xscale)),ceil(0*const(size.yscale))
ownpal=0

[State 3506, Vel]
type=VelSet
trigger1=anim=3506 && animelem=3
x=10
[State 3506, Vel]
type=VelSet
trigger1=anim=3506 && animelem=9
x=6
[State 3506, Vel]
type=VelSet
trigger1=anim=3506 && animelem=16||animelem=24
x=4

[State 3506, Vel]
type=VelMul
triggerall=anim=3506
trigger1=animelemtime(3)>1 && animelemtime(7)<0
trigger2=animelemtime(9)>1 && animelemtime(13)<0
trigger3=animelemtime(16)>1 && animelemtime(20)<0
trigger4=animelemtime(24)>1 && animelemtime(27)<0
x=0.9275
[State 3506, Vel]
type=VelSet
triggerall=anim=3506
trigger1=animelem=7||animelem=13||animelem=20||animelem=27
x=0

[State 3506, Target Facing]
type=TargetFacing
trigger1=Time <=1
value=-1

[State 3506, Voice]
type=playsnd
trigger1=Numtarget && Animelem=3
value=s0,10001
volumescale=255
channel=2
[State 3506, Voice]
type=playsnd
trigger1=Numtarget && Animelem=9
value=s0,10000
volumescale=255
channel=2
[State 3506, Voice]
type=playsnd
trigger1=Numtarget && Animelem=16
value=s0,10003
volumescale=255
channel=2

[State 3506, HitSound]
type=playsnd
triggerall=Numtarget
trigger1=Animelem=4||Animelem=18||Animelem=26
trigger2=root,stateno=3500 && root,anim=3501
trigger2=root,animelem=4||root,animelem=15||root,animelem=20
value=s2,2
channel=5+random%3
[State 3506, HitSound]
type=playsnd
triggerall=Numtarget 
trigger1=Animelem=11
trigger2=root,stateno=3500 && root,anim=3501
trigger2=root,animelem=26||root,animelem=31
value=s2,5
channel=8

[State 3506, Woosh]
type=playsnd
triggerall=Numtarget
trigger1=Animelem=3||Animelem=17||Animelem=25
trigger2=root,stateno=3500 && root,anim=3501
trigger2=root,animelem=3||root,animelem=14||root,animelem=19
value=s1,2
channel=3
[State 3506, Woosh]
type=playsnd
triggerall=Numtarget 
trigger1=Animelem=10
trigger2=root,stateno=3500 && root,anim=3501
trigger2=root,animelem=25||root,animelem=30
value=s1,5
channel=4

[State 3506, Grabbed]
type=TargetState
trigger1=!time && Numtarget
trigger1=target,stateno!=3520
value=3520
[State 3506, Up]
type=TargetState
triggerall=Numtarget 
trigger1=animelem=2
value=3521
[State 3506, High]
type=TargetState
triggerall=Numtarget 
trigger1=animelem=4||animelem=18
trigger2=root,stateno=3500 && root,anim=3501
trigger2=root,animelem=15||root,animelem=20||root,animelem=27||root,animelem=32
value=3522
[State 3506, Low]
type=TargetState
triggerall=Numtarget 
trigger1=animelem=11||animelem=26
trigger2=root,stateno=3500 && root,anim=3501
trigger2=root,animelem=4
value=3523
[State 3506, P2 Dead]
type=TargetState
trigger1=NumTarget && WInKO
trigger1=!(Target, NumPartner)
trigger1=Target, StateNo=5110
trigger1=Target, Time=1
trigger1=!(Target, Alive)
value=6008
ignoreHitPause=1

[State 3506, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA
ignorehitpause=1

[State 3506, HitSpark]
type=Helper
trigger1=root,stateno=3500 && root,anim=3501
trigger1=root,animelem=4
helperType=Normal
stateNo=8014
ID=8000
name="Spark"
postype=p1
pos=ceil(110*root,const(size.xscale)),ceil(-60*root,const(size.yscale))
facing=-1
ownPal=0
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 3506, HitSpark]
type=Helper
trigger1=root,stateno=3500 && root,anim=3501
trigger1=root,animelem=15
helperType=Normal
stateNo=8014
ID=8000
name="Spark"
postype=p1
pos=ceil(120*root,const(size.xscale)),ceil(-75*root,const(size.yscale))
facing=-1
ownPal=0
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 3506, HitSpark]
type=Helper
trigger1=root,stateno=3500 && root,anim=3501
trigger1=root,animelem=20
helperType=Normal
stateNo=8014
ID=8000
name="Spark"
postype=p1
pos=ceil(50*root,const(size.xscale)),ceil(-95*root,const(size.yscale))
facing=-1
ownPal=0
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 3506, HitSpark]
type=Helper
trigger1=root,stateno=3500 && root,anim=3501
trigger1=root,animelem=26||root,animelem=31
helperType=Normal
stateNo=8014
ID=8000
name="Spark"
postype=p1
pos=ceil(90*root,const(size.xscale)),ceil(-90*root,const(size.yscale))
facing=-1
ownPal=0
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 3506, HitSpark]
type=Helper
trigger1=Numtarget && animelem=4
helperType=Normal
stateNo=8014
ID=8000
name="Spark"
postype=p1
pos=ceil(90*root,const(size.xscale)),ceil(-90*root,const(size.yscale))
facing=-1
ownPal=0
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 3506, HitSpark]
type=Helper
trigger1=Numtarget && animelem=11
helperType=Normal
stateNo=8014
ID=8000
name="Spark"
postype=p1
pos=ceil(60*root,const(size.xscale)),ceil(-40*root,const(size.yscale))
facing=-1
ownPal=0
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 3506, HitSpark]
type=Helper
trigger1=Numtarget && animelem=18
helperType=Normal
stateNo=8014
ID=8000
name="Spark"
postype=p1
pos=ceil(70*root,const(size.xscale)),ceil(-80*root,const(size.yscale))
facing=-1
ownPal=0
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 3506, HitSpark]
type=Helper
trigger1=Numtarget && animelem=26
helperType=Normal
stateNo=8014
ID=8000
name="Spark"
postype=p1
pos=ceil(80*root,const(size.xscale)),ceil(-70*root,const(size.yscale))
facing=-1
ownPal=0
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 3506, TargetPowerAdd]
type=TargetPowerAdd
triggerall=Numtarget
trigger1=animelem=4||animelem=11||animelem=18||animelem=26
trigger2=root,stateno=3500 && root,anim=3501
trigger2=root,animelem=4||root,animelem=15||root,animelem=20||root,animelem=26||root,animelem=31
value=36

[State 3506, EnvShake]
type=EnvShake
triggerall=Numtarget
trigger1=animelem=4||animelem=11||animelem=18||animelem=26
trigger2=root,stateno=3500 && root,anim=3501
trigger2=root,animelem=4||root,animelem=15||root,animelem=20||root,animelem=26||root,animelem=31
time=14
ampl=Ifelse(random<500,6,-6)

[State 3506, Damage]
type=TargetLifeAdd
triggerall=NumTarget 
trigger1=animelem=4||animelem=11||animelem=18||animelem=26
trigger2=root,stateno=3500 && root,anim=3501
trigger2=root,animelem=4||root,animelem=15||root,animelem=20||root,animelem=26||root,animelem=31
value=ceil(-21*fvar(10))
kill=0

[State 3506, Hitadd]
type=HitAdd
triggerall=NumTarget 
trigger1=animelem=4||animelem=11||animelem=18||animelem=26
trigger2=root,stateno=3500 && root,anim=3501
trigger2=root,animelem=4||root,animelem=15||root,animelem=20||root,animelem=26||root,animelem=31
value=1

[State 3506, HitCount]
type=ParentVarAdd
triggerall=Numtarget && root, StateNo=3500
trigger1=animelem=4||animelem=11||animelem=18||animelem=26
trigger2=root,anim=3501
trigger2=root,animelem=4||root,animelem=15||root,animelem=20||root,animelem=26||root,animelem=31
var(13)=1

[State 3506, End]
type=changestate
trigger1=root,stateno=3500 && root,anim=3501 
trigger1=anim=9999 && root,animelemtime(42)=19
value=3406
[State 3506, End]
type=destroyself
trigger1=root,stateno!=3500
trigger2=root,time<1
trigger3=!time && !numtarget
ignorehitpause=1
;------------------------------------------------------------------------------- 
;The World
[Statedef 3510]
physics=N
velset=0,0
anim=3510
sprPriority=0

[State 3510, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=4
[State 3510, Voice]
type=PlaySnd
trigger1=animelem=1
value=s186,0
channel=2

[State 3510, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(0*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1

[State 3510, end]
type=destroyself
trigger1=root,stateno!=3500
trigger2=root,time<=1
trigger3=!animtime
;------------------------------------------------------------------------------- 
;Black Fade In FG
[Statedef 3550]
physics=N
anim=3550
Sprpriority=77777

[State 3550, Assert]
type=AssertSpecial
trigger1=1
flag=nobardisplay
Flag2=NoFG 
ignorehitpause=1

[State 3550, Assert]
type=trans
trigger1=1
trans=addalpha
alpha=0+16*time, 256-16*time
ignorehitpause=1

[State 3550, ScreenBound]
type=ScreenBound
trigger1=1
value=1
[State 3550, PosSet]
type=PosSet
trigger1=1
x=ceil(pos x-GameHeight / GameWidth)
y=ceil(pos y-GameHeight / GameWidth)
ignorehitpause=1
[State 3550, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 3550, end]
type=destroyself
trigger1=root,MoveType=H
[State 3550, ChangeState]
type=ChangeState
trigger1=time>100
value=3551
[State 3550, ChangeState]
type=ChangeState
trigger1=root,anim=3601
value=3553
;-------------------------------------------------------------------------------
;Black Fade Out
[Statedef 3551]
physics=N

[State 3551, Assert]
type=AssertSpecial
trigger1=1
flag=NoFG 
ignorehitpause=1
[State 3551, Assert]
type=trans
trigger1=1
trans=addalpha
alpha=256-8*time, 0+8*time
ignorehitpause=1
[State 3551, ScreenBound]
type=ScreenBound
trigger1=1
value=1
[State 0, PosSet]
type=PosSet
trigger1=1
x=ceil(pos x-GameHeight / GameWidth)
y=ceil(pos y-GameHeight / GameWidth)
ignorehitpause=1
[State 3551, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1
[State 3551, end]
type=destroyself
trigger1=time>=32
;------------------------------------------------------------------------------- 
;Black Fade Out
[Statedef 3552]
physics=N
anim=3550
Sprpriority=-9999

[State 3552, Assert]
type=AssertSpecial
trigger1=1
flag=nobardisplay
Flag2=NoFG 
ignorehitpause=1

[State 3552, Assert]
type=trans
trigger1=1
trans=addalpha
alpha=0+32*time, 256-32*time
ignorehitpause=1

[State 3552, ScreenBound]
type=ScreenBound
trigger1=1
value=1
[State 3552, PosSet]
type=PosSet
trigger1=1
x=ceil(pos x-GameHeight / GameWidth)
y=ceil(pos y-GameHeight / GameWidth)
ignorehitpause=1
[State 3552, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 3552, end]
type=destroyself
trigger1=root,MoveType=H
[State 3552, ChangeState]
type=ChangeState
trigger1=root,stateno!=[3600,3601] 
trigger2=root,anim=3601
value=3551
;-------------------------------------------------------------------------------
;Black Fade Out
[Statedef 3553]
physics=N

[State 3553, Assert]
type=AssertSpecial
trigger1=1
flag=NoFG 
ignorehitpause=1
[State 3553, Assert]
type=trans
trigger1=1
trans=addalpha
alpha=256-4*time, 0+4*time
ignorehitpause=1
[State 3553, ScreenBound]
type=ScreenBound
trigger1=1
value=1
[State 3553, PosSet]
type=PosSet
trigger1=1
x=ceil(pos x-GameHeight / GameWidth)
y=ceil(pos y-GameHeight / GameWidth)
ignorehitpause=1
[State 3553, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1
[State 3553, end]
type=destroyself
trigger1=time>=64
;---------------------------------------------------------------------
;The World Killer (Helper)
[Statedef 3560]
type=S
movetype=A
physics=N
anim=3560
ctrl=0
velset=0,0
sprpriority=0

[State 3560, NHB]
type=NotHitBy
trigger1=1
value=SCA
ignorehitpause=1

[State 3560, PosSet]
type=PosSet
trigger1=1
x=ceil(pos x-GameHeight / GameWidth)
y=ceil(pos y-GameHeight / GameWidth)
ignorehitpause=1

[State 3560, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
flag2=Invisible
ignorehitpause=1

[State 3560, ScreenBound]
type=ScreenBound
trigger1=1
value=1

[State 3560, Low]
type=hitdef
trigger1=!time
id=3560
priority=7, Hit
attr=S, HA
damage=0,0
animtype=Hard
hitflag=MAFDP
guardflag=
pausetime=0,0
sparkNo=-1
guard.sparkNo=-1
sparkXY=-1,-1
guardsound=s-1,0
ground.type=Low
ground.slidetime=16
ground.hittime=32
forcestand=1

[State 3560, Log the current target's PlayerID]
type=ParentVarSet
trigger1=Root,var(0) && Movehit=1 && NumTarget
trigger1=target,IsHelper=0 
var(12)=target,ID
ignorehitpause=1

[State 3560, p2state]
type=targetstate
trigger1= movehit && numtarget(3560)
trigger1= target(3560),Movetype=H
ID=3560
value=3421
ignorehitpause=1
persistent=0

[State 3560, Log the current target's PlayerID]
type=ParentVarSet
trigger1=Root,var(0) && Movehit=1 && NumTarget
trigger1=target,IsHelper=0 
var(12)=target,ID
ignorehitpause=1

[State 3560, End]
type=destroyself
trigger1= time>180
ignorehitpause=1
;------------------------------------------------------------------
;World Summon
[Statedef 3605]
physics=N
anim=3605
ctrl=0
velset=0,0
Sprpriority=88888

[State 3605, AS]
type=AssertSpecial
trigger1=1
flag=noshadow
[State 3605, PosSet]
type=PosSet
trigger1=1
x=ceil(pos x-GameHeight / GameWidth)/2
y=ceil((pos y-GameHeight / GameWidth)/2)-100
ignorehitpause=1

[State 3605, Voice]
type=PlaySnd
trigger1=time=20
value=s3600,0
channel=2

[State 3605, Reset]
type=varset
trigger1=!Time
var(1)=0
[State 3605, Reset]
type=varset
trigger1=!Time
var(4)=0
[State 3605, Varadd]
type=varadd
trigger1=time>=8
var(4)=1
[State 3605, Varadd]
type=varadd
trigger1=time>=72
var(1)=1

[State 3605, PosFreeze]
type=PosFreeze
trigger1=1 
value=1
ignorehitpause=1
[State 3605, AngleDraw]
type=AngleDraw
trigger1=var(4)<=44
scale=(0.02 * root,const(size.xscale))+0.045*time,(0.02 * root,const(size.yscale))+0.045*time
ignorehitpause=1
[State 3605, AngleDraw]
type=AngleDraw
trigger1=var(4)>=45
scale=(1.666* root,const(size.xscale)),(1.666 * root,const(size.yscale))
ignorehitpause=1

[State 3605, Trans]
type=Trans
trigger1=!var(1)
trans=addalpha
alpha=0+4*time,256-8*time
ignorehitpause=1
[State 3605, Trans]
type=Trans
trigger1=var(1)
trans=addalpha
alpha=256-24*var(1),0+24*var(1)
ignorehitpause=1

[State 3605, End]
type=destroyself
trigger1=var(4)>120
trigger2=root,stateno!=3601
ignorehitpause=1
;-------------------------------------------------------------------
;DIO Start-Bloody Summoning 
[StateDef 3610]
physics=N
anim=3610
velset=0,0
sprPriority=0
ctrl=0

[State 3610, Shadow]
type=AfterImage
trigger1=!time
time=32
timeGap=1
frameGap=10
length=20
palBright=0,0,0
palContrast=160,32,32
palPostBright=0,0,0
palAdd=0,0,0
palMul= 0.75,0.75,0.75
trans=Add

[State 3610, World SFX]
type=PlaySnd
trigger1=!time
value=s1,6
channel=5

[State 3610, Start Frame]
type=ChangeAnim
trigger1=root,stateno=3600
trigger1=root,animelemtime(5)=[0,1]
value=3610
elem=10
ignorehitpause=1
[State 3610, Frame]
type=ChangeAnim
triggerall=anim=3610 
trigger1=root,stateno!=[3600,3610]
trigger2=!animtime
value=3611
ignorehitpause=1

[State 3610, BindToRoot]
type=BindToRoot
trigger1=1 
pos=ceil(-20*root,const(size.xscale)),ceil(0*root,const(size.yscale))
ignorehitpause=1

[State 3610, Change]
type=changestate
trigger1=anim=3611
value=1010
ignorehitpause=1
[State 3610, Change]
type=changestate
trigger1=root,Movetype=H && root,var(45)>=1
value=1007
ignorehitpause=1
;------------------------------------------------------------------
;Summon Hand
[Statedef 3630]
physics=N
anim=3630
ctrl=0
velset=0,0
Sprpriority=7

[State 3630, Turn]
type=Turn
trigger1=!time && facing=root,facing 
ignorehitpause=1

[State 3630, FX]
type=PlaySnd
trigger1=animelem=3
value=s2,11
channel=4

[State 3630, AS]
type=AssertSpecial
trigger1=1
flag=noshadow
[State 3630, palfx]
type=palfx
trigger1=1
add=-50,-50,-50
sinadd=-155,-155,-155,80
color=0
time=64

[State 3630, hitsound]
type=PlaySnd
trigger1=animelem=3
value=s192,0
channel=3

[State 3630, Blood]
type=helper
trigger1=animelemtime(3)=1
helpertype=normal
stateno=8041
ID=8041
name="Blood"
postype=p1
pos=ceil(40*const(size.xscale)),ceil(-5*const(size.yscale))
size.xscale=1.0
size.yscale=1.0
ownpal=1
ignorehitpause=1
pauseMoveTime=65535
superMoveTime=65535

[State 3630, PosAdd]
type=PosAdd
trigger1=animelemtime(2)>=0 && animelemtime(3)<0
x=-2.5
[State 3630, PosFreeze]
type=PosFreeze
trigger1=animelemtime(3)>=0 
value=1

[State 3630, Reset]
type=varset
trigger1=!Time
var(1)=0
[State 3630, Reset]
type=varset
trigger1=!Time
var(4)=0
[State 3630,Varadd]
type=varadd
trigger1=time>=1
var(4)=1
[State 3630, Varadd]
type=varadd
trigger1=time>=72
var(1)=1

[State 3630, End]
type=destroyself
trigger1=var(1)>128
trigger2=root,stateno!=3601
trigger3=root,anim=3601
ignorehitpause=1
;---------------------------------------------------------------------------
;CAMERA FOCUS
[Statedef 6001]
type=S
physics=S
anim=0
ctrl=0

[state 6001,TURN]
type=turn
trigger1=ishelper(6001)
trigger1=facing!=root,facing
ignorehitpause=1

[State 6001,vel]
type=VelSet
trigger1=parent,pos X > 0
x=Ifelse(facing=1,4,-4)
[State 6001,vel]
type=VelSet
trigger1=parent,pos X < 0
x=Ifelse(facing=1,-4,4)
[State 6001,vel]
type=VelSet
trigger1=parent,pos X=[-5,5]
x=0

[State 6001, WIDTH]
type=Width
trigger1=1
value=1,1

[State 6001, NHB]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State 6001,AS]
type=AssertSpecial
trigger1=1
flag=invisible
flag2=noshadow

[State 6001,Bound]
type=ScreenBound
trigger1=1
value=1
movecamera=320,0
[State 6001,push]
type=PlayerPush
trigger1=1
value=0

[State 6001, Destroyself]
type=destroyself
trigger1=Time=50
trigger1=enemy, Life >= 1
trigger2=numhelper(6001)>=2
;========================<FIRE>=============================
;Fire Burn FX
[Statedef 7180]
physics=N
velset=0,0
anim=9999
sprpriority=-3

[State 7180, VarRandom]
type=VarRandom
trigger1=time%2
v=1
range=0,2
[State 7180, VarSet]
type=VarSet
trigger1=time>40 
var(2)=1

[State 7180, Assert]
type=assertspecial
trigger1= 1
flag=noshadow
ignorehitpause=1
[State 7180, flames]
type=explod
triggerall=numenemy
trigger1=time 
anim=7180
ID=7180
sprpriority=Ifelse(var(2)=1,-4,-4+random%10)
vel=-.2,-.75
postype=p1
pos= (enemynear,const(size.mid.pos.x)), Ifelse((enemynear,statetype=L), -30, (enemynear,const(size.mid.pos.y) + 10))
random=60,60
scale=Ifelse(var(1)=2,0.5,Ifelse(var(1)=1,0.25,0.15)),Ifelse(var(1)=2,0.5,Ifelse(var(1)=1,0.25,0.15))
ownpal=1
[State 7180, Pos]
type=posadd
trigger1= 1
x=ceil(p2dist x)
y=ceil(p2dist y)
[State End]
type=destroyself
triggerall= numenemy
trigger1= enemynear,ctrl
trigger2= enemynear,movetype!=H || enemynear,stateno=5300
trigger3= enemynear,statetype=L && (enemynear,stateno!=[5080,5081])
[State End]
type=destroyself
trigger1= !numenemy || time>=200
;========================<SPARKS>=============================
;Guard Spark (Normal)
[StateDef 8000]
type=A
physics=N
moveType=I
anim=8000
velset=0,0
sprPriority=5

[State 8000, Assert: No Shadow]
type=AssertSpecial
trigger1= 1
flag=NoShadow

[State 8000, Scale]
type=AngleDraw
trigger1=1
scale=0.125 + (0.046875 * Time), 0.125 + (0.046875 * Time)

[State 8000, Transparency]
type=Trans
trigger1=Time < 4
trans=AddAlpha
alpha=256, 256

[State 8000, Transparency]
type=Trans
trigger1=Time >= 4
trans=AddAlpha
alpha=256 - 64 * (Time - 4), 256

[State 8000, End]
type=DestroySelf
trigger1=Time >= 8


;Guard Spark (Special)
[StateDef 8001]
type=A
physics=N
moveType=I
anim=8001
velSet=0,0
sprPriority=5

[State 8001, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow

[State 8001, Scale]
type=AngleDraw
trigger1=1
scale=0.25 + (0.03125 * Time), 0.25 + (0.03125 * Time)

[State 8001, Transparency]
type=Trans
trigger1=time < 4
trans=AddAlpha
alpha=256, 256

[State 8001, Transparency]
type=Trans
trigger1=Time >= 4
trans=AddAlpha
alpha=256 - 64 * (Time - 4), 256

[State 8001, End]
type=DestroySelf
trigger1=Time >= 8

;Normal Throw Hitspark
[StateDef 8005]
type=A
physics=N
moveType=I
anim=8010
velSet=0,0
sprPriority=5

[State 8005, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignoreHitPause=1

[State 8005, RemapPal]
type=RemapPal
trigger1=!time
source=8010,1
dest=8010,1

[State 8005, AngleSet]
type=AngleSet
trigger1=!Time
value=30 * (Random % 12)

[State 8005, AngleAdd]
type=AngleAdd
trigger1=1
value=30

[State 8005, Scale]
type=AngleDraw
trigger1=Time < 10
scale=0.4 - (Time * 0.04), 0.4 - (Time * 0.04)
ignoreHitPause=1

[State 8005, Scale]
type=AngleDraw
trigger1=Time >= 10
scale=0,0
ignoreHitPause=1

[State 8005, Transparency]
type=Trans
trigger1=1
trans=AddAlpha
alpha=256,256
ignoreHitPause=1

[State 8005, Center Explod]
type=Explod
trigger1=!Time
anim=8011
ID=1
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=5
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8005, Scale Center Explod]
type=ModifyExplod
trigger1=NumExplod(1)
ID=1
scale=0.2 + (0.0125 * Time), 0.2 + (0.0125 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8005, Streaks Explod]
type=Explod
trigger1=!time
anim=8012
ID=2
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=5
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8005, Scale Streaks Explod]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=0.2 + (0.0125 * Time), 0.2 + (0.0125 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8005, Impact Explod]
type=Explod
trigger1=!Time
anim=8014
ID=4
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=3
removeTime=8
pausemovetime=-1
supermovetime=-1

[State 8005, Scale Impact Explod]
type=ModifyExplod
trigger1=NumExplod(4)
ID=4
scale=0.4 - (0.05 * Time), 0.4 - (0.05 * Time)
trans=AddAlpha
alpha=128 - (16 * Time), 256

[State 8005, Remove Explods]
type=RemoveExplod
trigger1=Time >= 16

[State 8005, End]
type=DestroySelf
trigger1=Time >= 16

;Slash Throw Hitspark
[StateDef 8006]
type=A
physics=N
moveType=I
anim=8015
velSet=0,0
sprPriority=5

[State 8006, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignoreHitPause=1

[State 8006, RemapPal]
type=RemapPal
trigger1=!time
source=8010,1
dest=8010,1

[State 8006, AngleSet]
type=AngleSet
trigger1=!Time
value=15 * (Random % 24)

[State 8006, Scale]
type=VarSet
trigger1=!Time
fvar(1)=0.875
ignoreHitPause=1

[State 8006, Scale]
type=AngleDraw
trigger1=Time < 10
scale=((0.5 + (Time * 0.15)) / 2) * fvar(1), ((1 - (Time * 0.1)) / 2) * fvar(1)
ignoreHitPause=1

[State 8006, Scale]
type=AngleDraw
trigger1=Time >= 10
scale=0,0
ignoreHitPause=1

[State 8006, Transparency]
type=Trans
trigger1=1
trans=AddAlpha
alpha=256,256
ignoreHitPause=1

[State 8006, Streaks Explod]
type=Explod
trigger1=!time
anim=8012
ID=2
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=5
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8006, Scale Streaks]
type=VarSet
trigger1=!Time
fvar(2)=0.875
ignoreHitPause=1

[State 8006, Scale Streaks Explod]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=(0.2 + (0.0125 * Time)) * fvar(2), (0.2 + (0.0125 * Time)) * fvar(2)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8006, Particles]
type=Explod
trigger1=time<8
anim=8017
ID=17
postype=p1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=-4+random%10
removeTime=16
pausemovetime=-1
supermovetime=-1
scale=0.15,0.15
vel=Ifelse(random<500,2+random%2,-4+random%2), -5 + (random / 90.0)
accel=-1||1,-1||1
ignorehitpause=1

[State 8006, Scale Particles]
type=ModifyExplod
trigger1=NumExplod(17)
ID=17
scale=0.2 - (0.005 * Time), 0.2 - (0.005 * Time)
trans=AddAlpha
alpha=256 , 256
ignorehitpause=1

[State 8006, Remove Explods]
type=RemoveExplod
trigger1=Time >= 16

[State 8006, End]
type=DestroySelf
trigger1=Time >= 16

;Weak Hit Spark
[StateDef 8010]
type=A
physics=N
moveType=I
anim=8010
velSet=0,0
sprPriority=5

[State 8010, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignoreHitPause=1

[State 8010, RemapPal]
type=RemapPal
trigger1=!time
source=8010,1
dest=8010,1

[State 8010, AngleSet]
type=AngleSet
trigger1=!Time
value=30 * (Random % 12)

[State 8010, AngleAdd]
type=AngleAdd
trigger1=1
value=30

[State 8010, Scale]
type=AngleDraw
trigger1=Time < 10
scale=0.3 - (Time * 0.03), 0.3 - (Time * 0.03)
ignoreHitPause=1

[State 8010, Scale]
type=AngleDraw
trigger1=Time >= 10
scale=0,0
ignoreHitPause=1

[State 8010, Transparency]
type=Trans
trigger1=1
trans=AddAlpha
alpha=256,256
ignoreHitPause=1

[State 8010, Center Explod]
type=Explod
trigger1=!Time
anim=8011
ID=1
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=5
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8010, Scale Center Explod]
type=ModifyExplod
trigger1=NumExplod(1)
ID=1
scale=0.15 + (0.009375 * Time), 0.15 + (0.009375 * Time)
trans=AddAlpha
alpha=256 - (16 * Time),256

[State 8010, Streaks Explod]
type=Explod
trigger1=!Time
anim=8012
ID=2
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=5
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8010, Scale Streaks Explod]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=0.15 + (0.009375 * Time), 0.15 + (0.009375 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8010, Impact Explod]
type=Explod
trigger1=!Time
anim=8014
ID=4
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=3
removeTime=8
pausemovetime=-1
supermovetime=-1

[State 8010, Scale Impact Explod]
type=ModifyExplod
trigger1=NumExplod(4)
ID=4
scale=0.3 - (0.0375 * Time), 0.3 - (0.0375 * Time)
trans=AddAlpha
alpha=128 - (16 * Time), 256

[State 8010, Remove Explods]
type=RemoveExplod
trigger1=Time >= 16

[State 8010, End]
type=DestroySelf
trigger1=Time >= 16


;Medium Hit Spark
[StateDef 8011]
type=A
physics=N
moveType=I
anim=8010
velSet=0,0
sprPriority=5

[State 8011, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignoreHitPause=1

[State 8011, RemapPal]
type=RemapPal
trigger1=!time
source=8010,1
dest=8010,1

[State 8011, AngleSet]
type=AngleSet
trigger1=!Time
value=30 * (Random % 12)

[State 8011, AngleAdd]
type=AngleAdd
trigger1=1
value=30

[State 8011, Scale]
type=AngleDraw
trigger1=Time < 10
scale=0.35 - (Time * 0.035), 0.35 - (Time * 0.035)
ignoreHitPause=1

[State 8011, Scale]
type=AngleDraw
trigger1=Time >= 10
scale=0,0
ignoreHitPause=1

[State 8011, Transparency]
type=Trans
trigger1=1
trans=AddAlpha
alpha=256,256
ignoreHitPause=1

[State 8011, Center]
type=Explod
trigger1=!Time
anim=8011
ID=1
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=5
removetime=16
pausemovetime=-1
supermovetime=-1

[State 8011, Scale Center Explod]
type=ModifyExplod
trigger1=NumExplod(1)
ID=1
scale=0.175 + (0.0109375 * Time), 0.175 + (0.0109375 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8011, Streaks Explod]
type=Explod
trigger1=!Time
anim=8012
ID=2
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=5
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8011, Scale Streaks Explod]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=0.175 + (0.0109375 * Time), 0.175 + (0.0109375 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8011, Impact Explod]
type=Explod
trigger1=!Time
anim=8014
ID=4
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=3
removeTime=8
pausemovetime=-1
supermovetime=-1

[State 8011, Scale Impact Explod]
type=ModifyExplod
trigger1=NumExplod(4)
ID=4
scale=0.35 - (0.04375 * Time), 0.35 - (0.04375 * Time)
trans=AddAlpha
alpha=128 - (16 * Time), 256

[State 8011, Remove Explods]
type=RemoveExplod
trigger1=Time >= 16

[State 8011, End]
type=DestroySelf
trigger1=Time >= 16


;Strong Hit Spark
[StateDef 8012]
type=A
physics=N
moveType=I
anim=8010
velSet=0,0
sprPriority=5

[State 8012, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignoreHitPause=1

[State 8012, RemapPal]
type=RemapPal
trigger1=!time
source=8010,1
dest=8010,1

[State 8012, AngleSet]
type=AngleSet
trigger1=!Time
value=30 * (Random % 12)

[State 8012, AngleAdd]
type=AngleAdd
trigger1=1
value=30

[State 8012, Scale]
type=AngleDraw
trigger1=Time < 10
scale=0.4 - (Time * 0.04), 0.4 - (Time * 0.04)
ignoreHitPause=1

[State 8012, Scale]
type=AngleDraw
trigger1=Time >= 10
scale=0,0
ignoreHitPause=1

[State 8012, Transparency]
type=Trans
trigger1=1
trans=AddAlpha
alpha=256,256
ignoreHitPause=1

[State 8012, Center Explod]
type=Explod
trigger1=!Time
anim=8011
ID=1
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=5
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8012, Scale Center Explod]
type=ModifyExplod
trigger1=NumExplod(1)
ID=1
scale=0.2 + (0.0125 * Time), 0.2 + (0.0125 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8012, Streaks Explod]
type=Explod
trigger1=!time
anim=8012
ID=2
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=5
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8012, Scale Streaks Explod]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=0.2 + (0.0125 * Time), 0.2 + (0.0125 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8012, Impact Explod]
type=Explod
trigger1=!Time
anim=8014
ID=4
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=3
removeTime=8
pausemovetime=-1
supermovetime=-1

[State 8012, Scale Impact Explod]
type=ModifyExplod
trigger1=NumExplod(4)
ID=4
scale=0.4 - (0.05 * Time), 0.4 - (0.05 * Time)
trans=AddAlpha
alpha=128 - (16 * Time), 256

[State 8012, Remove Explods]
type=RemoveExplod
trigger1=Time >= 16

[State 8012, End]
type=DestroySelf
trigger1=Time >= 16


;Special Move Hit Spark
[StateDef 8013]
type=A
physics=N
moveType=I
anim=8010
velSet=0,0
sprPriority=5

[State 8013, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignoreHitPause=1

[State 8013, RemapPal]
type=RemapPal
trigger1=!time
source=8010,1
dest=8010,Ifelse(root,var(43),2,1)
ignorehitpause=1

[State 8013, AngleSet]
type=AngleSet
trigger1=!Time
value=30 * (Random % 12)

[State 8013, AngleAdd]
type=AngleAdd
trigger1=1
value=30

[State 8013, Scale]
type=AngleDraw
trigger1=Time < 10
scale=0.45 - (Time * 0.045), 0.45 - (Time * 0.045)
ignoreHitPause=1

[State 8012, Scale]
type=AngleDraw
trigger1=Time >= 10
scale=0,0
ignoreHitPause=1

[State 8013, Transparency]
type=Trans
trigger1=1
trans=AddAlpha
alpha=256,256
ignoreHitPause=1

[State 8013, Center Explod]
type=Explod
trigger1=!Time
anim=8011
ID=1
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=5
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8013, Scale Center Explod]
type=ModifyExplod
trigger1=NumExplod(1)
ID=1
scale=0.225 + (0.0140625 * Time), 0.225 + (0.0140625 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8013, Streaks Explod]
type=Explod
trigger1=!Time
anim=8012
ID=2
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=5
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8013, Scale Streaks Explod]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=0.225 + (0.0140625 * Time), 0.225 + (0.0140625 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8013, P2 Back Explod]
type=Explod
trigger1=!Time
anim=8013
ID=3
posType=P1
facing=-1
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=-3
removeTime=8
pausemovetime=-1
supermovetime=-1

[State 8013, Scale P2 Back Explod]
type=ModifyExplod
trigger1= NumExplod(3)
ID=3
scale=0.4, 0.4
trans=AddAlpha
alpha=256 - (32 * Time), 256

[State 8013, Impact Explod]
type=Explod
trigger1=!Time
anim=8014
ID=4
posType=P1
facing=ifElse(random < 500, -1, 1)
vFacing=ifElse(random < 500, -1, 1)
sprPriority=3
removeTime=8
pausemovetime=-1
supermovetime=-1

[State 8013, Scale Impact Explod]
type=ModifyExplod
trigger1=NumExplod(4)
ID=4
scale=0.45 - (0.05625 * Time), 0.45 - (0.05625 * Time)
trans=AddAlpha
alpha=192 - (24 * Time), 256

[State 8013, Remove Explods]
type=RemoveExplod
trigger1=Time >= 16

[State 8013, End]
type=DestroySelf
trigger1=Time >= 16


;Super Hit Spark
[StateDef 8014]
type=A
physics=N
moveType=I
anim=8010
velSet=0,0
sprPriority=Ifelse(parent,stateno=3110,9,5)

[State 8014, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignoreHitPause=1

[State 8014, RemapPal]
type=RemapPal
trigger1=!time
source=8010,1
dest=8010,Ifelse(root,var(43),3,1)
ignorehitpause=1

[State 8014, AngleSet]
type=AngleSet
trigger1=!Time
value=30 * (Random % 12)

[State 8014, AngleAdd]
type=AngleAdd
trigger1=1
value=30

[State 8014, Scale]
type=AngleDraw
trigger1=Time < 10
scale=0.5 - (Time * 0.05), 0.5 - (Time * 0.05)
ignoreHitPause=1

[State 8014, Scale]
type=AngleDraw
trigger1=Time >= 10
scale=0,0
ignoreHitPause=1

[State 8014, Transparency]
type=Trans
trigger1=1
trans=AddAlpha
alpha=256,256
ignoreHitPause=1

[State 8014, Center Explod]
type=Explod
trigger1=!Time
anim=8011
ID=1
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=Ifelse(parent,stateno=3110,9,5)
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8014, Scale Center Explod]
type=ModifyExplod
trigger1=NumExplod(1)
ID=1
scale=0.25 + (0.015625 * Time), 0.25 + (0.015625 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8014, Streaks Explod]
type=Explod
trigger1=!Time
anim=8012
ID=2
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=Ifelse(parent,stateno=3110,9,5)
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8014, Scale Streaks Explod]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=0.25 + (0.015625 * Time), 0.25 + (0.015625 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8014, P2 Back Explod]
type=Explod
trigger1=!Time
anim=8013
ID=3
posType=P1
facing=ifElse((Parent, StateNo=[3000,3999]), -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=Ifelse(parent,stateno=3110,5,-3)
removeTime=8
pausemovetime=-1
supermovetime=-1

[State 8014, Scale P2 Back Explod]
type=ModifyExplod
trigger1=NumExplod(3)
ID=3
scale=0.5,0.5
trans=AddAlpha
alpha=256 - (32 * Time), 256

[State 8014, Impact Explod]
type=Explod
trigger1=!Time
anim=8014
ID=4
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=Ifelse(parent,stateno=3110,6,3)
removeTime=8
pausemovetime=-1
supermovetime=-1

[State 8014, Scale Impact Explod]
type=ModifyExplod
trigger1=NumExplod(4)
ID=4
scale=0.5 - (0.0625 * Time), 0.5 - (0.0625 * Time)
trans=AddAlpha
alpha=256 - (32 * Time),256

[State 8014, Remove Explods]
type=RemoveExplod
trigger1=time >= 16

[State 8014, End]
type=DestroySelf
trigger1=Time >= 16


;Normal Slash Spark
[StateDef 8015]
type=A
physics=N
moveType=I
anim=8015
velSet=0,0
sprPriority=5

[State 8015, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignoreHitPause=1

[State 8015, RemapPal]
type=RemapPal
trigger1=!time
source=8010,1
dest=8010,1

[State 8015, AngleSet]
type=AngleSet
trigger1=!Time
value=15 * (Random % 24)

[State 8015, Weak]
type=VarSet
triggerall=!Time
trigger1=((Parent,StateNo=[200,209]) && Parent,MoveType != H) | ((Parent,PrevStateNo=[200,209]) && Parent,MoveType=H)
trigger2=((Parent,StateNo=[400,409]) && Parent,MoveType != H) | ((Parent,PrevStateNo=[400,409]) && Parent,MoveType=H)
trigger3=((Parent,StateNo=[600,609]) && Parent,MoveType != H) | ((Parent,PrevStateNo=[600,609]) && Parent,MoveType=H)
var(1)=2
ignoreHitPause=1

[State 8015, Medium]
type=VarSet
triggerall=!Time
trigger1=((Parent,StateNo=[210,219]) && Parent,MoveType != H) | ((Parent,PrevStateNo=[210,219]) && Parent,MoveType=H)
trigger2=((Parent,StateNo=[410,419]) && Parent,MoveType != H) | ((Parent,PrevStateNo=[410,419]) && Parent,MoveType=H)
trigger3=((Parent,StateNo=[610,619]) && Parent,MoveType != H) | ((Parent,PrevStateNo=[610,619]) && Parent,MoveType=H)
var(1)=1
ignoreHitPause=1

[State 8015, Scale]
type=VarSet
trigger1=!Time
fvar(1)=Ifelse(var(1)=0,0.875,Ifelse(var(1)=1,0.75,0.625))
ignoreHitPause=1

[State 8015, Scale]
type=AngleDraw
trigger1=Time < 10
scale=((0.5 + (Time * 0.15)) / 2) * fvar(1), ((1 - (Time * 0.1)) / 2) * fvar(1)
ignoreHitPause=1

[State 8015, Scale]
type=AngleDraw
trigger1=Time >= 10
scale=0,0
ignoreHitPause=1

[State 8015, Transparency]
type=Trans
trigger1=1
trans=AddAlpha
alpha=256,256
ignoreHitPause=1

[State 8015, Streaks Explod]
type=Explod
trigger1=!time
anim=8012
ID=2
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=5
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8015, Scale Streaks]
type=VarSet
trigger1=!Time
fvar(2)=Ifelse(var(1)=0,0.875,Ifelse(var(1)=1,0.75,0.625))
ignoreHitPause=1

[State 8015, Scale Streaks Explod]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=(0.2 + (0.0125 * Time)) * fvar(2), (0.2 + (0.0125 * Time)) * fvar(2)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8015, Particles]
type=Explod
trigger1=time<8
anim=8017
ID=17
postype=p1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=-4+random%10
removeTime=16
pausemovetime=-1
supermovetime=-1
scale=0.15,0.15
vel=Ifelse(random<500,2+random%2,-4+random%2), -5 + (random / 90.0)
accel=-1||1,-1||1
ignorehitpause=1

[State 8015, Scale Particles]
type=ModifyExplod
trigger1=NumExplod(17)
ID=17
scale=0.2 - (0.005 * Time), 0.2 - (0.005 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256
ignorehitpause=1

[State 8015, Remove Explods]
type=RemoveExplod
trigger1=Time >= 16

[State 8015, End]
type=DestroySelf
trigger1=Time >= 16


;Special Move Slash Spark
[StateDef 8016]
type=A
physics=N
moveType=I
anim=8015
velSet=0,0
sprPriority=5

[State 8016, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignoreHitPause=1

[State 8016, RemapPal]
type=RemapPal
trigger1=!time
source=8010,1
dest=8010,Ifelse(root,var(43),2,1)
ignorehitpause=1

[State 8016, AngleSet]
type=AngleSet
trigger1=!Time
value=15 * (Random % 24)

[State 8016, Scale]
type=AngleDraw
trigger1=Time < 10
scale=(0.5 + (Time * 0.15)) / 2, (1 - (Time * 0.1)) / 2
ignoreHitPause=1

[State 8016, Scale]
type=AngleDraw
trigger1=Time >= 10
scale=0,0
ignoreHitPause=1

[State 8016, Transparency]
type=Trans
trigger1=1
trans=AddAlpha
alpha=256,256
ignoreHitPause=1

[State 8016, Circle]
type=Explod
trigger1=!Time
anim=8016
ID=8016
posType=p1
removeTime=10
sprPriority=5
pausemovetime=-1
supermovetime=-1

[State 8016, Circle Scale]
type=ModifyExplod
trigger1=NumExplod(8016)
ID=8016
scale=0.25 + (0.025 * Time), 0.25 + (0.025 * Time)
trans=AddAlpha
alpha=ceil(256 - 25.6 * Time), 256

[State 8016, Streaks Explod]
type=Explod
trigger1=!Time
anim=8012
ID=2
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=5
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8016, Scale Streaks Explod]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=0.225 + (0.0140625 * Time), 0.225 + (0.0140625 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8016, Particles]
type=Explod
trigger1=time<8
anim=8017
ID=17
postype=p1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=-4+random%10
removeTime=16
pausemovetime=-1
supermovetime=-1
scale=0.15,0.15
vel=Ifelse(random<500,2+random%2,-4+random%2), -5 + (random / 90.0)
accel=-1||1,-1||1
ignorehitpause=1

[State 8016, Scale Particles]
type=ModifyExplod
trigger1=NumExplod(17)
ID=17
scale=0.225 - (0.005 * Time), 0.225 - (0.005 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256
ignorehitpause=1

[State 8016, Remove Explods]
type=RemoveExplod
trigger1=Time >= 16

[State 8016, End]
type=DestroySelf
trigger1=Time >= 16


;Super Move Slash Spark
[StateDef 8017]
type=A
physics=N
moveType=I
anim=8015
velSet=0,0
sprPriority=5

[State 8017, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignoreHitPause=1

[State 8017, RemapPal]
type=RemapPal
trigger1=!time
source=8010,1
dest=8010,Ifelse(root,var(43),3,1)
ignorehitpause=1

[State 8017, AngleSet]
type=AngleSet
trigger1=!Time
value=15 * (Random % 24)

[State 8017, Scale]
type=AngleDraw
trigger1=Time < 10
scale=(0.5 + (Time * 0.15)) / 2, (1 - (Time * 0.1)) / 2
ignoreHitPause=1

[State 8017, Scale]
type=AngleDraw
trigger1=Time >= 10
scale=0,0
ignoreHitPause=1

[State 8017, Transparency]
type=Trans
trigger1=1
trans=AddAlpha
alpha=256,256
ignoreHitPause=1

[State 8017, Circle]
type=Explod
trigger1=!Time
anim=8016
ID=8016
posType=p1
removeTime=10
sprPriority=5
pausemovetime=-1
supermovetime=-1

[State 8017, Circle Scale]
type=ModifyExplod
trigger1=NumExplod(8016)
ID=8016
scale=0.3 + (0.03 * Time), 0.3 + (0.03 * Time)
trans=AddAlpha
alpha=ceil(256 - 25.6 * Time), 256

[State 8017, Streaks Explod]
type=Explod
trigger1=!Time
anim=8012
ID=2
posType=P1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=5
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8017, Scale Streaks Explod]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=0.25 + (0.015625 * Time), 0.25 + (0.015625 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8017, Particles]
type=Explod
trigger1=time<10
anim=8017
ID=17
postype=p1
facing=ifElse(Random < 500, -1, 1)
vFacing=ifElse(Random < 500, -1, 1)
sprPriority=-4+random%10
removeTime=16
pausemovetime=-1
supermovetime=-1
scale=0.15,0.15
vel=Ifelse(random<500,2+random%2,-4+random%2), -5 + (random / 90.0)
accel=-1||1,-1||1
ignorehitpause=1

[State 8017, Scale Particles]
type=ModifyExplod
trigger1=NumExplod(17)
ID=17
scale=0.25 - (0.005 * Time), 0.25 - (0.005 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256
ignorehitpause=1

[State 8017, Remove Explods]
type=RemoveExplod
trigger1=Time >= 16

[State 8017, End]
type=DestroySelf
trigger1=Time >= 16
;------------------------------------------------------------
;Reversal FX
[Statedef 8020]
type=A
physics=N
movetype=I
anim=8020
velset=0, 0
sprpriority=5

[State 8020, Assert]
type=assertspecial
trigger1=1
flag=noshadow

[State 8020, Scale]
type=angledraw
trigger1=1
scale=0.25 + (0.09375 * time), 0.25 + (0.09375 * time)
[State 8020, Trans]
type=trans
trigger1=time < 4
trans=addalpha
alpha=256, 256
[State 8020, Trans]
type=trans
trigger1=time >= 4
trans=addalpha
alpha=256 - 64 * (time -4), 256

[State 8020, End]
type=destroyself
trigger1=time >= 8
;----------------------------------------------------------------------------------
; Blood Spark (Call Helpers)
[Statedef 8040]
physics=N
anim=9999
velSet=0,0

[State 8040, Light Slash Blood]
type=Helper
trigger1=ishelper(8050) && !time
helperType=Normal
stateNo=8050
ID=8050
name="Blood"
posType=P1
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < root,var(35), ceil(P2Dist x), root,var(35))), root,var(36)
size.xScale=0.5
size.yScale=0.5
ownPal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 8040, Light Slash Blood (Subtractive)]
type=Helper
trigger1=ishelper(8050) && !time
helperType=Normal
stateNo=8060
ID=8060
name="Blood"
posType=P1
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < root,var(35), ceil(P2Dist x), root,var(35))), root,var(36)
size.xScale=0.5
size.yScale=0.5
ownPal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 8040, Medium Slash Blood]
type=Helper
trigger1=ishelper(8051) && !time
helperType=Normal
stateNo=8051
ID=8050
name="Blood"
posType=P1
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < root,var(35), ceil(P2Dist x), root,var(35))), root,var(36)
size.xScale=0.5
size.yScale=0.5
ownPal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 8040, Medium Slash Blood (Subtractive)]
type=Helper
trigger1=ishelper(8051) && !time
helperType=Normal
stateNo=8061
ID=8060
name="Blood"
posType=P1
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < root,var(35), ceil(P2Dist x), root,var(35))), root,var(36)
size.xScale=0.5
size.yScale=0.5
ownPal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 8040, Light Slash Blood]
type=Helper
trigger1=ishelper(8050) && !time
helperType=Normal
stateNo=8050
ID=8055
name="Blood"
posType=P1
facing=-1
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < root,var(35), ceil(P2Dist x), root,var(35))), root,var(36)
size.xScale=0.5
size.yScale=0.5
ownPal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 8040, Light Slash Blood (Subtractive)]
type=Helper
trigger1=ishelper(8050) && !time
helperType=Normal
stateNo=8060
ID=8055
name="Blood"
posType=P1
facing=-1
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < root,var(35), ceil(P2Dist x), root,var(35))), root,var(36)
size.xScale=0.5
size.yScale=0.5
ownPal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 8040, Medium Slash Blood]
type=Helper
trigger1=ishelper(8051) && !time
helperType=Normal
stateNo=8051
ID=8056
name="Blood"
posType=P1
facing=-1
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < root,var(35), ceil(P2Dist x), root,var(35))), root,var(36)
size.xScale=0.5
size.yScale=0.5
ownPal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 8040, Medium Slash Blood (Subtractive)]
type=Helper
trigger1=ishelper(8051) && !time
helperType=Normal
stateNo=8061
ID=8056
name="Blood"
posType=P1
facing=-1
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < root,var(35), ceil(P2Dist x), root,var(35))), root,var(36)
size.xScale=0.5
size.yScale=0.5
ownPal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 8040, Heavy Slash Blood]
type=Helper
trigger1=ishelper(8052) && !time
helperType=Normal
stateNo=8052
ID=8052
name="Blood"
posType=P1
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < root,var(35), ceil(P2Dist x), root,var(35))), root,var(36)
size.xScale=0.5
size.yScale=0.5
ownPal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 8040, Heavy Slash Blood (Subtractive)]
type=Helper
trigger1=ishelper(8052) && !time
helperType=Normal
stateNo=8062
ID=8052
name="Blood"
posType=P1
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < root,var(35), ceil(P2Dist x), root,var(35))), root,var(36)
size.xScale=0.5
size.yScale=0.5
ownPal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 8040,Exit]
type=DestroySelf
trigger1=time>=1
;----------------------------------------------------------------------------------
;Sub Blood Spark (Call Helpers)
[Statedef 8041]
physics=N
anim=9999
velSet=0,0

[State 8041, Medium Slash Blood]
type=Helper
trigger1=ishelper(8041) && !time
helperType=Normal
stateNo=8072
ID=8060
name="Blood"
posType=P1
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < root,var(35), ceil(P2Dist x), root,var(35))), root,var(36)
size.xScale=1.5
size.yScale=1.5
ownPal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 8041, Medium Slash Blood (Subtractive)]
type=Helper
trigger1=ishelper(8041) && !time
helperType=Normal
stateNo=8071
ID=8060
name="Blood"
posType=P1
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < root,var(35), ceil(P2Dist x), root,var(35))), root,var(36)
size.xScale=1.5
size.yScale=1.5
ownPal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 8041, Medium Slash Blood (Subtractive)]
type=Helper
trigger1=ishelper(8041) && !time
helperType=Normal
stateNo=8072
ID=8056
name="Blood"
posType=P1
facing=-1
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < root,var(35), ceil(P2Dist x), root,var(35))), root,var(36)
size.xScale=1.5
size.yScale=1.5
ownPal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
[State 8041, Medium Slash Blood (Subtractive)]
type=Helper
trigger1=ishelper(8041) && !time
helperType=Normal
stateNo=8071
ID=8056
name="Blood"
posType=P1
facing=-1
pos=ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < root,var(35), ceil(P2Dist x), root,var(35))), root,var(36)
size.xScale=1.5
size.yScale=1.5
ownPal=0
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 8041,Exit]
type=DestroySelf
trigger1=time>=1
;----------------------------------------------------------------------------------
; Light Blood Spark
[Statedef 8050]
type=A
movetype=I
physics=N
velset=0,0
ctrl=0
sprpriority=Ifelse(ishelper(8055),-1,6)

[State 0, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noShadow
[State 0, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA

[State 0, Explod]
type=Explod
trigger1=!Time
anim=8053
ID=8050
pos=0,0
postype=p1
removetime=-2
scale=const(Size.Xscale),const(Size.Xscale)
shadow=0,0,0
ownpal=1
sprpriority=5
removeongethit=0
pausemovetime=-1
supermovetime=-1

[State 0, Anim]
type=ChangeAnim
trigger1=!Time
value=8050

[State 0, VelSet]
type=VelSet
trigger1=!Time
x=-3
y=-2.5
[State 0, VelSet]
type=VelAdd
trigger1=Time > 0
y=.35

[State 0, ChangeState]
type=ChangeState
triggerall=Time
trigger1=Vel Y >= 0 && Pos Y >= 0
value=8059

;----------------------------------------------------------------------------------
; Medium Blood Spark
[Statedef 8051]
type=A
movetype=I
physics=N
velset=0,0
ctrl=0
sprpriority=Ifelse(ishelper(8056),-1,6)

[State 0, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noShadow
[State 0, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA

[State 0, Explod]
type=Explod
trigger1=!Time 
anim=8052
ID=8050
pos=0,0
postype=p1
removetime=-2
scale=const(Size.Xscale),const(Size.Xscale)
shadow=0,0,0
ownpal=1
sprpriority=5
removeongethit=0
pausemovetime=-1
supermovetime=-1

[State 0, Anim]
type=ChangeAnim
trigger1=!Time
value=8051

[State 0, VelSet]
type=VelSet
trigger1=!Time
x=-3
y=-2.5
[State 0, VelSet]
type=VelAdd
trigger1=Time > 0
y=.3

[State 0, Varadd]
type=varadd
trigger1=time>6
var(1)=1
[State 0, AngleDraw]
type=AngleDraw
trigger1=var(1)
value=4*var(1)

[State 0, Trans]
type=Trans
trigger1=1
trans=addalpha
alpha=256,256

[State 0, ChangeState]
type=ChangeState
trigger1=var(1) && pos y>-50
value=8059
;----------------------------------------------------------------------------------
; Angle Blood Spark
[Statedef 8052]
type=A
movetype=I
physics=N
velset=0,0
ctrl=0
sprpriority=6

[State 0, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noShadow
[State 0, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA

[State 0, Explod]
type=Explod
trigger1=!Time
anim=8052
ID=8050
pos=0,0
postype=p1
removetime=-2
scale=const(Size.Xscale),const(Size.Xscale)
shadow=0,0,0
ownpal=1
sprpriority=5
removeongethit=0
pausemovetime=-1
supermovetime=-1

[State 0, Anim]
type=ChangeAnim
trigger1=!Time
value=8057

[State 0, VelSet]
type=VelSet
trigger1=!Time
x=-3
y=-6.5
[State 0, VelSet]
type=VelAdd
trigger1=Time > 0
y=.35

[State 0, ChangeState]
type=destroyself
trigger1=!animtime
;----------------------------------------------------------------------------------
; Ground Slash Blood
[Statedef 8059]
type=A
movetype=I
physics=N
anim=8059
velset=0,0
ctrl=0
sprpriority=0

[State 0, PosSet]
type=PosAdd
trigger1=!Time 
x=-60
[State 0, PosSet]
type=PosSet
trigger1=1
y=0

[State 0, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noShadow
[State 0, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA

[State 0, ChangeState]
type=DestroySelf
trigger1=!AnimTime
;----------------------------------------------------------------------------------
; Light Blood Spark (Subtractive)
[Statedef 8060]
type=A
movetype=I
physics=N
velset=0,0
ctrl=0
sprpriority=Ifelse(ishelper(8055),-3,4)

[State 0, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noShadow
[State 0, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA

[State 0, Explod]
type=Explod
trigger1=!Time
anim=8063
ID=8060
pos=0,0
postype=p1
removetime=-2
scale=const(Size.Xscale),const(Size.Xscale)
shadow=0,0,0
ownpal=1
sprpriority=3
removeongethit=0
pausemovetime=-1
supermovetime=-1

[State 0, Anim]
type=ChangeAnim
trigger1=!Time
value=8060

[State 0, VelSet]
type=VelSet
trigger1=!Time
x=-3
y=-2.5
[State 0, VelSet]
type=VelAdd
trigger1=Time > 0
y=.35

[State 0, ChangeState]
type=ChangeState
triggerall=Time
trigger1=Vel Y >= 0 && Pos Y >= 0
value=8069

;----------------------------------------------------------------------------------
; Medium Blood Spark (Subtractive)
[Statedef 8061]
type=A
movetype=I
physics=N
velset=0,0
ctrl=0
sprpriority=Ifelse(ishelper(8056),-3,4)

[State 0, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noShadow
[State 0, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA

[State 0, Explod]
type=Explod
trigger1=!Time 
anim=8062
ID=8060
pos=0,0
postype=p1
removetime=-2
scale=const(Size.Xscale),const(Size.Xscale)
shadow=0,0,0
ownpal=1
sprpriority=3
removeongethit=0
pausemovetime=-1
supermovetime=-1

[State 0, Anim]
type=ChangeAnim
trigger1=!Time
value=8061

[State 0, VelSet]
type=VelSet
trigger1=!Time
x=-3
y=-2.5
[State 0, VelSet]
type=VelAdd
trigger1=Time > 0
y=.3

[State 0, Varadd]
type=varadd
trigger1=time>6
var(1)=1
[State 0, AngleDraw]
type=AngleDraw
trigger1=var(1)
value=4*var(1)

[State 0, Trans]
type=Trans
trigger1=1
trans=sub

[State 0, ChangeState]
type=ChangeState
trigger1=var(1) && pos y>-50
value=8069
;----------------------------------------------------------------------------------
; Angle Blood Spark (Subtractive)
[Statedef 8062]
type=A
movetype=I
physics=N
velset=0,0
ctrl=0
sprpriority=4

[State 0, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noShadow
[State 0, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA

[State 0, Explod]
type=Explod
trigger1=!Time
anim=8062
ID=8060
pos=0,0
postype=p1
removetime=-2
scale=const(Size.Xscale),const(Size.Xscale)
shadow=0,0,0
ownpal=1
sprpriority=3
removeongethit=0
pausemovetime=-1
supermovetime=-1

[State 0, Anim]
type=ChangeAnim
trigger1=!Time
value=8067

[State 0, VelSet]
type=VelSet
trigger1=!Time
x=-3
y=-6.5
[State 0, VelSet]
type=VelAdd
trigger1=Time > 0
y=.35

[State 0, ChangeState]
type=destroyself
trigger1=!animtime
;----------------------------------------------------------------------------------
; Ground Slash Blood (Subtractive)
[Statedef 8069]
type=A
movetype=I
physics=N
anim=8069
velset=0,0
ctrl=0
sprpriority=-1

[State 0, PosSet]
type=PosAdd
trigger1=!Time 
x=-60
[State 0, PosSet]
type=PosSet
trigger1=1
y=0

[State 0, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noShadow
[State 0, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA

[State 0, ChangeState]
type=DestroySelf
trigger1=!AnimTime
;----------------------------------------------------------------------------------
; Medium Blood Spark (Subtractive)
[Statedef 8071]
type=A
movetype=I
physics=N
velset=0,0
ctrl=0
sprpriority=3

[State 0, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noShadow
[State 0, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA

[State 0, Explod]
type=Explod
trigger1=!Time 
anim=8062
ID=8060
pos=0,0
postype=p1
removetime=-2
scale=const(Size.Xscale),const(Size.Xscale)
shadow=0,0,0
ownpal=1
sprpriority=2
removeongethit=0
pausemovetime=-1
supermovetime=-1

[State 0, Anim]
type=ChangeAnim
trigger1=!Time
value=8061

[State 0, VelSet]
type=VelSet
trigger1=!Time
x=-3
y=-2.5
[State 0, VelSet]
type=VelAdd
trigger1=Time > 0
y=.35

[State 0, Varadd]
type=varadd
trigger1=time>6
var(1)=1
[State 0, AngleDraw]
type=AngleDraw
trigger1=var(1)
value=4*var(1)

[State 0, Trans]
type=Trans
trigger1=1
trans=sub

[State 0, ChangeState]
type=destroyself
trigger1=!animtime
;----------------------------------------------------------------------------------
; Medium Blood Spark
[Statedef 8072]
type=A
movetype=I
physics=N
velset=0,0
ctrl=0
sprpriority=6

[State 0, AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noShadow
[State 0, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA

[State 0, Explod]
type=Explod
trigger1=!Time 
anim=8052
ID=8050
pos=0,0
postype=p1
removetime=-2
scale=const(Size.Xscale),const(Size.Xscale)
shadow=0,0,0
ownpal=1
sprpriority=5
removeongethit=0
pausemovetime=-1
supermovetime=-1

[State 0, Anim]
type=ChangeAnim
trigger1=!Time
value=8051

[State 0, VelSet]
type=VelSet
trigger1=!Time
x=-3
y=-2.5
[State 0, VelSet]
type=VelAdd
trigger1=Time > 0
y=.35

[State 0, Varadd]
type=varadd
trigger1=time>6
var(1)=1
[State 0, AngleDraw]
type=AngleDraw
trigger1=var(1)
value=4*var(1)

[State 0, Trans]
type=Trans
trigger1=1
trans=addalpha
alpha=256,256

[State 0, ChangeState]
type=destroyself
trigger1=!animtime
;======================<JUMP DUST>===========================
;Jump Dust 
[StateDef 8100]
type=S
anim=9999
velSet=0,0

[State 8100, Bind]
type=BindToRoot
trigger1=Time

[State 8100, Floor Dust]
type=Explod
trigger1=!Time
anim=8100
sprPriority=3
posType=P1
pos=0, ceil(pos y)
scale=Ifelse(root,prevstateno=123,0.75,0.5),Ifelse(root,prevstateno=123,0.75,0.5)
pausemovetime=-1
supermovetime=-1
ownpal=1

[State 8100, Player Dust]
type=Explod
trigger1=!Time || Time=2 || Time=6
anim=8101
sprPriority=3
posType=P1
scale=Ifelse(root,prevstateno=123,0.75,0.5),Ifelse(root,prevstateno=123,0.75,0.5)
pausemovetime=-1
supermovetime=-1
ownpal=1

[State 8100, End]
type=DestroySelf
trigger1=Time >= 7

;======================<DASH DUST>===========================
;Dash Dust
[StateDef 8103]
type=A
anim=9999
velSet=0,0
sprPriority=5

[State 8103, posSet]
type=PosSet
trigger1=!Time=0
y=0

[State 8103, Dash Dust]
type=Explod
trigger1=Time=0 || Time=3 || Time=6
anim=8103
ID=Ifelse((Time=6), 3, Ifelse((Time=3), 2, 1))
posType=P1
pos=0,-4
random=8,8
vel=-3 - (Random / 1000.0), -2 - (Random / 2000.0)
facing=Ifelse(Random < 500,-1,1)
vFacing=Ifelse(Random < 500,-1,1)
removeTime=16
sprPriority=3
pausemovetime=-1
supermovetime=-1

[State 8103, Scale Explod 1]
type=ModifyExplod
trigger1=NumExplod(1)
ID=1
scale=0.1 + (0.025 * Time), 0.1 + (0.025 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8103, Scale Explod 2]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=0.1 + (0.025 * (Time - 3)), 0.1 + (0.025 * (Time - 3))
trans=AddAlpha
alpha=256 - (16 * (Time - 3)), 256

[State 8103, Scale Explod 3]
type=ModifyExplod
trigger1=NumExplod(3)
ID=3
scale=0.1 + (0.025 * (Time - 6)), 0.1 + (0.025 * (Time - 6))
trans=AddAlpha
alpha=256 - (16 * (Time - 6)), 256

[State 8103, Remove Explods]
type=RemoveExplod
trigger1=Time >= 22

[State 8103, End]
type=DestroySelf
trigger1=!NumExplod

;======================<IMPACT DUST>===========================
;Impact Dust 
[StateDef 8110]
type=A
anim=9999
velSet=0,0
sprPriority=5

[State 8110, Impact Dust Explod 1]
type=Explod
trigger1=!Time
anim=8110
ID=Ifelse(Time=8, 3, Ifelse(Time=4, 2, 1))
posType=P1
removeTime=8
sprPriority=-4
pausemovetime=-1
supermovetime=-1

[State 8110, Impact Dust Explod 2]
type=Explod
trigger1=!Time
anim=8120
ID=2
posType=P1
removeTime=8
sprPriority=-4
pausemovetime=-1
supermovetime=-1

[State 8110, Scale]
type=ModifyExplod
trigger1=1
scale=0.25 + (0.03125 * Time), 0.25 + (0.03125 * Time)
trans=AddAlpha
alpha=Ifelse(Time < 4, 256, 256 - (64 * (Time - 4))), 256

[State 8110, Remove Explods]
type=RemoveExplod
trigger1=Time >= 8

[State 8110, End]
type=DestroySelf
trigger1=!NumExplod

;======================<WALL IMPACT DUST>===========================
;Wall Impact Dust
[StateDef 8111]
type=A
anim=9999
velSet=0,0
sprPriority=5

[State 8111, Impact Dust Explod 1]
type=Explod
trigger1=!Time
anim=8111
ID=Ifelse(Time=8, 3, Ifelse(Time=4, 2, 1))
posType=P1
removeTime=8
sprPriority=-4
pausemovetime=-1
supermovetime=-1

[State 8111, Impact Dust Explod 2]
type=Explod
trigger1=!Time
anim=8121
ID=2
posType=P1
removeTime=8
sprPriority=-4
pausemovetime=-1
supermovetime=-1

[State 8111, Scale]
type=ModifyExplod
trigger1=1
scale=0.25 + (0.03125 * Time), 0.25 + (0.03125 * Time)
trans=AddAlpha
alpha=Ifelse(Time < 4, 256, 256 - (64 * (Time - 4))), 256

[State 8111, Remove Explods]
type=RemoveExplod
trigger1=Time >= 8

[State 8111, End]
type=DestroySelf
trigger1=!NumExplod

;========================<RECOVER FX>=============================
;Recover FX
[StateDef 8200]
type=A
velSet=0,0
anim=8200
sprPriority=5

[State 8200, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow

[State 8200, Scale]
type=AngleDraw
trigger1=1
scale=0.25 + (0.017 * Time), 0.25 + (0.017 * Time)

[State 8200, Transparency]
type=Trans
trigger1=1
trans=AddAlpha
alpha=ceil(256 - 17.1 * Time), 256

[State 8200, End]
type=DestroySelf
trigger1=Time >= 15

;========================<COUNTER FX>=============================
;Counter FX
[StateDef 8290]
type=A
physics=N
velSet=0,0
anim=9999

[State 8290, "Counter!" Text Explod]
type=Explod
trigger1=!NumExplod(8290)
anim=8290
ID=8290
sprPriority=64
posType=P1
facing=Facing
removeTime=32
pausemovetime=-1
supermovetime=-1
ownPal=1

[State 8290, Scale]
type=ModifyExplod
trigger1=Time < 8
ID=8290
scale=0.5, .5
trans=AddAlpha
alpha=256,0

[State 8290, Scale]
type=ModifyExplod
trigger1=Time >= 8
ID=8290
scale=0.5 + 0.0625 * (Time - 8), 0.5 + 0.0625 * (Time - 8)
trans=AddAlpha
alpha=256 - 32 * (Time - 8), 32 * (Time - 8)

[State 8290, Safety]
type=RemoveExplod
trigger1=Time >= 16

[State 8290, End]
type=DestroySelf
trigger1=Time >= 16

;==================<POWER CHARGE FX>==================
;Aura and Dust
[StateDef 8330]
type=A
physics=N
moveType=I
anim=9999
ctrl=0
velset=0,0

[State 8330, BindToRoot]
type=BindToRoot
trigger1=(Root, StateNo=730)
pos=-8,5

[State 8330, Charging Sound]
type=PlaySnd
trigger1=!Time
value=730,0
channel=28

[State 8330, Power Charge Aura]
type=Explod
trigger1=!NumExplod(8330)
ID=8330
anim=8330
sprPriority=3
posType=P1
bindTime=-1
removeTime=-1
scale=0.5,0.5
pausemovetime=-1
supermovetime=-1
ownPal=1

[State 8330, Power Charge Dust]
type=Explod
trigger1=!(Time % 6)
anim=8105
sprPriority=-3
posType=P1
pos=0, -ceil(pos y-4)
scale=0.5,0.5
pausemovetime=-1
supermovetime=-1
ownPal=1

[State 8330, Modify Aura 1]
type=ModifyExplod
trigger1=Numexplod(8330) && Root, Power < 3000
ID=8330
scale=0.5, 0.1 + 0.4 * (Root, Power / 3000.0)

[State 8330, Modify Aura 2]
type=ModifyExplod
trigger1=NumExplod(8330) && Root, Power >= 3000
ID=8330
scale=0.5, 0.5

[State 8330, StopSnd]
type=StopSnd
trigger1=Root, StateNo != 730
channel=28

[State 8330, RemoveExplod]
type=RemoveExplod
trigger1=Root, StateNo != 730

[State 8330, End]
type=DestroySelf
trigger1=Root, StateNo != 730


;Particles
[StateDef 8331]
type=A
physics=N
moveType=I
anim=9999
ctrl=0
velSet=0,0

[State 8331, BindToRoot]
type=BindToRoot
trigger1=!(Time % 8)
pos=ceil(-151 + (Random / 3.125)), ceil(98 - (Random / 3.125))

[State 8331, Particle]
type=Explod
trigger1=(Time % 8)=1
anim=8331
sprPriority=Ifelse(Random < 750, 5, -1)
posType=P1
vel=((RootDist x - 10) / 32.0), ((RootDist y - 70) / 32.0);values to adjust
scale=Ifelse(Random < 500, 0.5, -0.5), Ifelse(Random < 500, 0.5, -0.5)
pausemovetime=-1
supermovetime=-1
ownpal=1

[State 8331, RemoveExplod]
type=RemoveExplod
trigger1=Root, StateNo != 730

[State 8331, End]
type=DestroySelf
trigger1=Root, StateNo != 730

;==================<ZERO COUNTER FX>==================
;Zero Counter FX
[StateDef 8350]
type=A
physics=N
moveType=I
anim=9999
ctrl=0
velSet=0,0

[State 8350, bgPalFX]
type=bgPalFX
trigger1=1
time=1
color=16 * Time
mul=16 * Time, 16 * Time, 16 * Time

[State 8350, Circle Explod]
type=Explod
trigger1=!Time
anim=8350
ID=1
sprPriority=3
posType=P1
removeTime=16
supermovetime=-1
ownPal=1

[State 8350, Scale]
type=ModifyExplod
trigger1=NumExplod(1)
ID=1
scale=(0.0625 * Time), (0.0625 * Time)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8350, Lightning Explod]
type=Explod
trigger1=!Time
anim=8351
ID=2
sprPriority=-2
posType=P1
pos=0, -ceil(pos y)
supermovetime=-1
ownPal=1

[State 8350, End]
type=DestroySelf
trigger1=Time >= 16

;========================<CUSTOM COMBO>=============================
;Custom Combo 
[StateDef 8400]
type=A
physics=N
moveType=I
anim=8400
ctrl=0
velSet=0,0
sprPriority=5

[State 8400, NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignoreHitPause=1

[State 8400, BGpalFX]
type=BGpalFX
trigger1=Time < 25
time=1
mul=128,128,128

[State 8400, Rotate]
type=AngleSet
trigger1=!Time
value=6 * (Random % 60)

[State 8400, Rotate]
type=AngleAdd
trigger1=1
value=-6

[State 8400, Scale]
type=AngleDraw
trigger1=Time < 8
scale=(0.0625 * Time), (0.0625 * Time)
ignoreHitPause=1

[State 8400, Scale]
type=AngleDraw
trigger1=Time >= 8
scale=0.5, 0.5
ignoreHitPause=1

[State 8400, Transparency]
type=Trans
trigger1=Time < 16
trans=AddAlpha
alpha=256, 256
ignoreHitPause=1

[State 8400, Transparency]
type=Trans
trigger1=Time >= 16
trans=AddAlpha
alpha=ceil(256 - 25.6 * (Time - 16)), 256
ignoreHitPause=1

[State 8400, Lines Explod]
type=Explod
trigger1=!Time
anim=8401
ID=1
sprPriority=5
posType=P1
facing=Ifelse(Random < 500, -1, 1)
vFacing=Ifelse(Random < 500, -1, 1)
removeTime=16
supermovetime=-1

[State 8400, Scale Lines Explod]
type=ModifyExplod
trigger1=NumExplod(1)
ID=1
scale=2 - (0.125 * Time), 2 - (0.125 * Time)
trans=AddAlpha
alpha=Ifelse(Time < 4, 64 * Time, 256), 256

[State 8400, Circle Explod]
type=Explod
trigger1=Time=16
anim=8402
ID=2
sprPriority=5
posType=P1
removeTime=32
supermovetime=-1

[State 8400, Scale Circle Explod]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=(0.1 * (Time - 16)), (0.1 * (Time - 16))
trans=AddAlpha
alpha=ceil(256 - 25.6 * (Time - 16)), 256

[State 8400, Remove Explods]
type=RemoveExplod
trigger1=Time >= 26

[State 8400, End]
type=DestroySelf
trigger1=Time >= 26

;========================<SUPER PAUSE FX>=============================
;Level 1 Super FX
[StateDef 8500]
type=A
velSet=0,0
anim=8500
sprPriority=5

[State 8500, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow

[State 8500, BGpalFX]
type=BGpalFX
trigger1=Time < 39
time=1
color=0
mul=0,0,256

[State 8500, Rotate]
type=AngleSet
trigger1=!Time
value=6 * (Random % 60)

[State 8500, Rotate]
type=AngleAdd
trigger1=1
value=-6

[State 8500, Scale]
type=AngleDraw
trigger1=Time < 16
scale=(0.03125 * Time), (0.03125 * Time)

[State 8500, Scale]
type=AngleDraw
trigger1=Time >= 16
scale=0.5,0.5

[State 8500, Transparency]
type=Trans
trigger1=1
trans=AddAlpha
alpha=256,256

[State 8500, Lines Explod]
type=Explod
trigger1=Time=0 || Time=8 || Time=16 || Time=24
anim=8501
ID=Ifelse(Time=24, 4, Ifelse(Time=16, 3, Ifelse(Time=8, 2, 1)))
sprPriority=5
posType=P1
facing=Ifelse(Random < 500, -1, 1)
vFacing=Ifelse(Random < 500, -1, 1)
removeTime=16
supermovetime=-1

[State 8500, Scale Lines Explod 1]
type=ModifyExplod
trigger1=NumExplod(1)
ID=1
scale=1 - (0.0625 * Time), 1 - (0.0625 * Time)
trans=AddAlpha
alpha=Ifelse(Time < 4, 64 * Time, 256), 256

[State 8500, Scale Lines Explod 2]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=1 - (0.0625 * (Time - 8)), 1 - (0.0625 * (Time - 8))
trans=AddAlpha
alpha=Ifelse((Time - 8) < 4, 64 * (Time - 8), 256), 256

[State 8500, Scale Lines Explod 3]
type=ModifyExplod
trigger1=NumExplod(3)
ID=3
scale=1 - (0.0625 * (Time - 16)), 1 - (0.0625 * (Time - 16))
trans=AddAlpha
alpha=Ifelse((Time - 16) < 4, 64 * (Time - 16), 256), 256

[State 8500, Scale Lines Explod 3]
type=ModifyExplod
trigger1=NumExplod(4)
ID=4
scale=1 - (0.0625 * (Time - 24)), 1 - (0.0625 * (Time - 24))
trans=AddAlpha
alpha=Ifelse((Time - 24) < 4, 64 * (Time - 24), 256), 256

[State 8500, Circle Explod]
type=Explod
trigger1=Time=24
anim=8502
ID=10
sprPriority=5
posType=P1
facing=Ifelse(Random < 500, -1, 1)
vFacing=Ifelse(Random < 500, -1, 1)
removeTime=32
supermovetime=-1

[State 8500, Scale Circle Explod]
type=ModifyExplod
trigger1=NumExplod(10)
ID=10
scale=2 - (0.125 * (Time - 24)), 2 - (0.125 * (Time - 24))
trans=AddAlpha
alpha=Ifelse((Time - 24) < 4, 64 * (Time - 24), 256), 256

[State 8500, Remove Explods]
type=RemoveExplod
trigger1=Time >= 40

[State 8500, End]
type=DestroySelf
trigger1=Time >= 40


;Level 2 Super FX
[StateDef 8510]
type=A
velSet=0,0
anim=8510
sprPriority=5

[State 8510, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow

[State 8510, BGpalFX]
type=BGpalFX
trigger1=Time < 39
time=1
color=0
mul=192,0,256

[State 8510, Rotate]
type=AngleSet
trigger1=!Time
value=6 * (Random % 60)

[State 8510, Rotate]
type=AngleAdd
trigger1=1
value=-6

[State 8510, Scale]
type=AngleDraw
trigger1=Time < 16
scale=(0.03125 * Time), (0.03125 * Time)

[State 8510, Scale]
type=AngleDraw
trigger1=Time >= 16
scale=0.5, 0.5

[State 8510, Transparency]
type=Trans
trigger1=1
trans=AddAlpha
alpha=256,256

[State 8510, Lines Explod]
type=Explod
trigger1=Time=0 || Time=8 || Time=16 || Time=24
anim=8511
ID=Ifelse(Time=24, 4, Ifelse(Time=16, 3, Ifelse(Time=8, 2, 1)))
sprPriority=5
posType=P1
facing=Ifelse(Random < 500, -1, 1)
vFacing=Ifelse(Random < 500, -1, 1)
removeTime=16
supermovetime=-1

[State 8510, Scale Lines Explod 1]
type=ModifyExplod
trigger1=NumExplod(1)
ID=1
scale=1 - (0.0625 * Time), 1 - (0.0625 * Time)
trans=AddAlpha
alpha=Ifelse(Time < 4, 64 * Time, 256), 256

[State 8510, Scale Lines Explod 2]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=1 - (0.0625 * (Time - 8)), 1 - (0.0625 * (Time - 8))
trans=AddAlpha
alpha=Ifelse((Time - 8) < 4, 64 * (Time - 8), 256), 256

[State 8510, Scale Lines Explod 3]
type=ModifyExplod
trigger1=NumExplod(3)
ID=3
scale=1 - (0.0625 * (Time - 16)), 1 - (0.0625 * (Time - 16))
trans=AddAlpha
alpha=Ifelse((Time - 16) < 4, 64 * (Time - 16), 256), 256

[State 8510, Scale Lines Explod 4]
type=ModifyExplod
trigger1=NumExplod(4)
ID=4
scale=1 -(0.0625 * (Time - 24)), 1 - (0.0625 * (Time - 24))
trans=AddAlpha
alpha=Ifelse((Time - 24) < 4, 64 * (Time - 24), 256), 256

[State 8510, Circle Explod]
type=Explod
trigger1=Time=24
anim=8512
ID=10
sprPriority=5
posType=P1
facing=Ifelse(Random < 500,-1,1)
vFacing=Ifelse(Random < 500,-1,1)
removeTime=32
supermovetime=-1

[State 8510, Scale]
type=ModifyExplod
trigger1=NumExplod(10)
ID=10
scale=2 - (0.125 * (Time - 24)), 2 - (0.125 * (Time - 24))
trans=AddAlpha
alpha=Ifelse((Time - 24)<4, 64 * (Time - 24), 256), 256

[State 8510, Remove Explods]
type=RemoveExplod
trigger1=Time >= 40

[State 8510, End]
type=DestroySelf
trigger1=Time >= 40


;Level 3 Super FX
[StateDef 8520]
type=A
velset=0,0
anim=8520
sprPriority=5

[State 8520,BlackBG]
type=helper
trigger1=!time
helpertype=normal
stateno=3552
ID=3552
name="BlackBG"
postype=Back
supermovetime=99999
pausemovetime=99999
ownpal=1
ignorehitpause=1
size.xScale=5
size.yScale=5

[State 8520, Assert: NoShadow]
type=AssertSpecial
trigger1=1
flag=NoShadow
ignoreHitPause=1

[State 8520, Assert: NoBarDisplay, NoBG, NoFG]
type=AssertSpecial
trigger1=Time < 40
flag=NoBarDisplay
flag2=NoBG
flag3=NoFG

[State 8520, Rotate]
type=AngleSet
trigger1=!Time
value=6 * (Random % 60)

[State 8520, Rotate]
type=AngleAdd
trigger1=1
value=-6

[State 8520, Scale]
type=AngleDraw
trigger1=Time < 16
scale=(0.03125 * Time), (0.03125 * Time)
ignoreHitPause=1

[State 8520, Scale]
type=AngleDraw
trigger1=Time >= 16
scale=0.5, 0.5
ignoreHitPause=1

[State 8520, Transparency]
type=Trans
trigger1=1
trans=AddAlpha
alpha=256,256
ignoreHitPause=1

[State 8520, Portrait 1]
type=Explod
trigger1=!Time
anim=8525
ID=20
sprPriority=-16
posType=Back
removeTime=40
supermovetime=-1

[State 8520, Portrait 2]
type=Explod
trigger1=!Time
anim=8525
ID=21
sprPriority=-16
posType=Back
removeTime=40
supermovetime=-1

[State 8520, Scale Portrait 1a]
type=ModifyExplod
trigger1=NumExplod(20) && Time < 16
ID=20
posType=Back
pos=160, floor((1.3333333 * GameHeight / GameWidth) * 120)
scale=1 - (0.03125 * Time), 1 - (0.03125 * Time)
trans=AddAlpha
alpha=(8 * Time), 256

[State 8520, Scale Portrait 2a]
type=ModifyExplod
trigger1=NumExplod(21) && Time < 16
ID=21
posType=Back
pos=160, floor((1.3333333 * GameHeight / GameWidth) * 120)
scale=2 - (0.09375 * Time), 2 - (0.09375 * Time)
trans=AddAlpha
alpha=(8 * Time), 256

[State 8520, Scale Portrait 1b]
type=ModifyExplod
trigger1=NumExplod(20) && (Time=[16,32])
ID=20
posType=Back
pos=160, floor((1.3333333 * GameHeight / GameWidth) * 120)
scale=0.5, 0.5
trans=AddAlpha
alpha=256, 256

[State 8520, Scale Portrait 2b]
type=ModifyExplod
trigger1=NumExplod(21) && (Time=[16,32])
ID=21
scale=0,0

[State 8520, Scale Portrait 1c]
type=ModifyExplod
trigger1=NumExplod(20) && Time >= 32
ID=20
posType=Back
pos=160 + (8 * (Time - 32)), floor((1.3333333 * GameHeight / GameWidth) * 120)
scale=0.5, 0.5
trans=AddAlpha
alpha=128 - 16 * (Time - 32), 256

[State 8520, Scale Portrait 2c]
type=ModifyExplod
trigger1=NumExplod(21) && Time >= 32
ID=21
posType=Back
pos=160 - (8 * (Time - 32)), floor((1.3333333 * GameHeight / GameWidth) * 120)
scale=0.5, 0.5
trans=AddAlpha
alpha=128 - 16 * (Time - 32), 256

[State 8520, Lines Explod]
type=explod
trigger1=Time=0 || Time=8 || Time=16 || Time=24
anim=8521
ID=Ifelse(Time=24, 4, Ifelse(Time=16, 3, Ifelse(Time=8, 2, 1)))
sprPriority=5
posType=P1
facing=Ifelse(Random < 500, -1, 1)
vFacing=Ifelse(Random < 500, -1, 1)
removeTime=16
supermovetime=-1

[State 8520, Scale Lines Explod 1]
type=ModifyExplod
trigger1=NumExplod(1)
ID=1
scale=1 - (0.0625 * Time), 1 - (0.0625 * Time)
trans=AddAlpha
alpha=Ifelse(Time < 4, 64 * Time, 256), 256

[State 8520, Scale Lines Explod 2]
type=ModifyExplod
trigger1=NumExplod(2)
ID=2
scale=1-(0.0625 * (Time - 8)), 1 - (0.0625 * (Time - 8))
trans=AddAlpha
alpha=Ifelse((Time - 8) < 4, 64 * (Time - 8), 256), 256

[State 8520, Scale Lines Explod 3]
type=ModifyExplod
trigger1=NumExplod(3)
ID=3
scale=1 - (0.0625 * (Time - 16)), 1 - (0.0625 * (Time - 16))
trans=AddAlpha
alpha=Ifelse((Time - 16) < 4, 64 * (Time - 16), 256), 256

[State 8520, Scale Lines Explod 4]
type=ModifyExplod
trigger1=NumExplod(4)
ID=4
scale=1 - (0.0625 * (Time - 24)), 1 - (0.0625 * (Time - 24))
trans=AddAlpha
alpha=Ifelse((Time - 24) < 4, 64 * (Time - 24), 256), 256

[State 8520, Circle Explod]
type=Explod
trigger1=Time=24
anim=8522
ID=10
sprPriority=5
posType=P1
facing=Ifelse(Random < 500, -1 ,1)
vFacing=Ifelse(Random < 500, -1, 1)
removeTime=32
supermovetime=-1

[State 8520, Scale Circle Explod]
type=ModifyExplod
trigger1=NumExplod(10)
ID=10
scale=2 - (0.125 * (Time - 24)), 2 - (0.125 * (Time - 24))
trans=AddAlpha
alpha=Ifelse((Time - 24) < 4, 64 * (Time - 24), 256), 256

[State 8520, Remove Explods]
type=RemoveExplod
trigger1=Time >= 42

[State 8520, End]
type=DestroySelf
trigger1=Time >= 42
;=========================< SPECIAL FINISH >=================
;Special Finish FX
[Statedef 8600]
ctrl=0
anim=9999
sprpriority=-10

[State 8600, Assert]
type=AssertSpecial
trigger1=1
flag=NoMusic
flag2=nobardisplay
flag3=nofg
ignorehitpause=1

[State 8600, PlaySnd]
type=PlaySnd
trigger1=!time
value=S8600,0
volume=255
channel=0
persistent=0

[State 8600, Explod]
type=Explod
trigger1=time=0
anim=8550
ID=8600
pos=0,0
postype=back
facing=1
vfacing=1
bindtime=-1
vel=0,0
accel=0,0
random=0,0
removetime=30
supermovetime=9999
pausemovetime=9999
scale=1.2,1.2
sprpriority=-990
ontop=0
shadow=0,0,0
ownpal=0
removeongethit=1
ignorehitpause=1
;persistent=

[State 8600, ModifyExplod]
type=ModifyExplod
trigger1=time>=1
ID=8600
trans=addalpha
alpha=256-((time)*10),256

[State 8600, End]
type=removeexplod
trigger1= time>=120
trigger2= roundstate<3
[State 8600, End]
type=destroyself
trigger1= roundstate!=3
;========================<SUPER FINISH>=============================
;Super Finish FX 
[StateDef 8605]
type=A
velSet=0,0
anim=9999

[State 8605, Super Finish Sound]
type=PlaySnd
trigger1=!Time
value=8600,1
channel=0

[State 8605, BG PalFX]
type=BGpalFX
trigger1=Time < 16
time=1
mul=0, 0, 0

[State 8605, BG PalFX]
type=BGpalFX
trigger1=Time=[16,24)
time=1
mul=32 * (Time - 16), 32 * (Time - 16), 32 * (Time - 16)

[State 8605, Move Name: Custom Combo]
type=VarSet
trigger1= !Time && Root, var(23)=900
var(0)=1

[State 8605, Move Name: Super 1]
type=VarSet
trigger1=!Time && (Root, var(23)=[3000,3099])
var(0)=2

[State 8605, Move Name: Super 2]
type=VarSet
trigger1=!Time && (Root, var(23)=[3100,3199])
var(0)=3

[State 8605, Move Name: Super 3]
type=VarSet
trigger1=!Time && (Root, var(23)=[3200,3299])
var(0)=4

[State 8605, Move Name: Super 4]
type=VarSet
trigger1=!Time && (Root, var(23)=[3300,3399])
var(0)=5

[State 8605, Move Name: Super 5]
type=VarSet
trigger1=!Time && (Root, var(23)=[3400,3499])
var(0)=6

[State 8605, Move Name: Super 6]
type=VarSet
trigger1=!Time && (Root, var(23)=[3500,3599])
var(0)=7

[State 8605, Move Name: Super 7]
type=VarSet
trigger1=!Time && (Root, var(23)=[3600,3699])
var(0)=8

[State 8605, Super Finish Explod]
type=Explod
trigger1=!Time
anim=8600
ID=8600
ontop=1
postype=Left
pos=160, floor((1.3333333 * GameHeight / GameWidth) * 120)
scale=0.5, 0.5 * (1.3333333 * GameHeight / GameWidth)
bindTime=-1
removeTime=32
pausemovetime=-1
supermovetime=-1

[State 8605, Super Finish Explod Fade]
type=ModifyExplod
trigger1=NumExplod(8600)
ID=8600
trans=AddAlpha
alpha=Ifelse(Time < 16, 256, 256 - 32 * (Time - 16)), 256

[State 8605, Text 1]
type=Explod
trigger1=!Time && var(0)
anim=8610 + var(0)
ID=10
onTop=1
posType=Left
pos=160, floor((1.3333333 * GameHeight / GameWidth) * 120)
scale=0.5, 0.5 * (1.3333333 * GameHeight / GameWidth)
bindTime=-1
removeTime=32
pausemovetime=-1
supermovetime=-1

[State 8605, Text 2]
type=Explod
trigger1=!Time && var(0)
anim=8610 + var(0)
ID=11
onTop=1
posType=left
pos=160, floor((1.3333333 * GameHeight / GameWidth) * 120)
scale=0.5, 0.5 * (1.3333333 * GameHeight / GameWidth)
bindTime=-1
removeTime=8
pausemovetime=-1
supermovetime=-1

[State 8605, Text 1 Fade]
type=ModifyExplod
trigger1=NumExplod(10)
ID=10
trans=AddAlpha
alpha=Ifelse(Time < 16, 256, 256 - 32 * (Time - 16)), Ifelse(Time < 16, 0, 32 * (Time - 16))

[State 8605, Text 2 Fade]
type=ModifyExplod
trigger1=NumExplod(11)
ID=11
scale=0.5 + (0.0625 * Time), 0.5 + (0.0625 * Time)
trans=AddAlpha
alpha=256 - (32 * Time), 32 * Time

[State 8605, Circle Explod]
type=Explod
trigger1=!Time
anim=8601
ID=8601
under=1
posType=Left
pos=160, floor((1.3333333 * GameHeight / GameWidth) * 120)
bindTime=-1
removeTime=16
pausemovetime=-1
supermovetime=-1

[State 8605, Circle Fade]
type=ModifyExplod
trigger1=NumExplod(8601)
ID=8601
scale=(0.25 * time) * (1.3333333 * GameHeight / GameWidth), (0.25 * time) * (1.3333333 * GameHeight / GameWidth)
trans=AddAlpha
alpha=256 - (16 * Time), 256

[State 8605, Assert: NoFG]
type=AssertSpecial
trigger1=Time < 16
flag=NoFG

[State 8605, Assert: NoBarDisplay]
type=AssertSpecial
trigger1=Time < 24
flag=NoBarDisplay

[State 8605, End]
type=removeexplod
trigger1= time>=24
trigger2= roundstate<3
[State 8605, End]
type=destroyself
trigger1= roundstate!=3

;========================<CAMERA CONTROL>=============================
;Camera Control
[StateDef 8999]
type=S
velSet=0,0
anim=9999

[State 8999, ScreenBound]
type=ScreenBound
trigger1=1
value=0
moveCamera=1,1

[State 8999, End]
type=DestroySelf
trigger1=RoundState=2

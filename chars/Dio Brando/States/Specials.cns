;------------------------------------------------------------------
;Blazing Fist
[Statedef 1000]
type=S
movetype=I
physics=S
anim=1000
ctrl=0
velset=0,0
poweradd=Ifelse(var(20)||Numhelper(1005)||Numhelper(3005),0,72)
sprpriority=2
facep2=1

[State 1000, VarSet]
type=VarSet
trigger1=!AILevel && !time
var(10)=Ifelse(command="x"||command="rlsx",0,Ifelse(command="y"||command="rlsy",1,2))
ignorehitpause=1
[State 1000, VarSet]
type=VarSet
trigger1=AILevel && !time && Numenemy
var(10)=Ifelse(enemynear,Movetype=H && p2bodydist x<25,0,Ifelse(p2bodydist x>85,2,1))
ignorehitpause=1

[State 1000, PosSet]
type=PosSet
trigger1=!time
y=0

[State 1000, Width]
type=Width
trigger1=animelemtime(3)<0
value=35,0
ignorehitpause=1

[State 1000, anim]
type=ChangeAnim
trigger1=!time
value=Ifelse(var(20),1003,1000+var(10))
ignorehitpause=1

[State 1000, Muda Muda]
type=Helper
trigger1=animelemtime(1)=2
helpertype=normal
name="TheWorldMuda Muda"
stateno=1005
ID=1005
pos=ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=1
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ignorehitpause=1
pausemovetime=65535

[State 1000, Ctrl]
type=CtrlSet
triggerall=animelemtime(4)>=1
triggerall=Numhelper(1005)
triggerall=helper(1005),stateno=1005
triggerall=helper(1005),var(18)
trigger1=!AILevel 
trigger2=AILevel && (p2movetype != H || inguarddist || p2statetype=A)
value=1

[State 1000, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1
;--------------------------------------------------------------------
;EX Blazing Fist
[Statedef 1050]
type=S
movetype=A
physics=S
anim=1003
ctrl=0
velset=0,0
sprpriority=2
facep2=1

[State 1050, VarSet]
type=VarSet
trigger1=!time
var(10)=3
ignorehitpause=1
[State 1050, PosSet]
type=PosSet
trigger1=!time
y=0

[State 1050, Width]
type=Width
trigger1=animelemtime(4)<0
value=35,0
ignorehitpause=1

[State 1050, MAX Timer Drain]
type=VarAdd
trigger1=!Time
trigger1=var(20) > 0
var(20)=-250
[State 1050, Custom Combo Juggle Reset]
type=VarSet
trigger1=!Time && var(20)
var(15)=0
ignoreHitPause=1
[State 1050, EX Flash]
type=VarSet
trigger1=!Time
var(25)=90
[State 1050, EX FX]
type=Explod
trigger1=!Time
anim=8210
sprPriority=3
posType=p1
pos=ceil(-5*const(size.xscale)),ceil(-80*const(size.yscale))
scale=0.5, 0.5
pausemovetime=-1
superMoveTime=-1
ownPal=1
[State 1050, EX-SND]
type=PlaySnd
trigger1=!time
value=0,1000
channel=3

[State 1050, PowerAdd]
type=PowerAdd
trigger1=!time
value=cond(var(0)=1,0,-500)

[State 1050, PosSet]
type=PosSet
trigger1=!time
y=0

[State 1050, TheWorld]
type=Helper
trigger1=animelemtime(1)=2
helpertype=normal
name="World-Muda"
stateno=1005
ID=1005
pos=ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=0
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ignorehitpause=1
pausemovetime=65535

[State 1050, Ctrl]
type=CtrlSet  		
triggerall=animelemtime(4) > 1
triggerall=Numhelper(1005)
triggerall=helper(1005),stateno=1005
triggerall=helper(1005),var(18)
trigger1=!AILevel 
trigger2=AILevel && (p2movetype != H || inguarddist || p2statetype=A)
value=1

[State 1050, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1
;------------------------------------------------------------------
;Blazing Strike
[Statedef 1100]
type=S
movetype=I
physics=S
anim=1000
ctrl=0
velset=0,0
poweradd=Ifelse(var(20)||Numhelper(1005)||Numhelper(3005),0,72)
sprpriority=2
facep2=1

[State 1100, Width]
type=Width
trigger1=animelemtime(3)<0
value=55,0
ignorehitpause=1

[State 1100, PosSet]
type=PosSet
trigger1=!time
y=0

[State 1100, VarSet]
type=VarSet
trigger1=!AILevel && !time
var(10)=Ifelse(command="BlazingStrike1"||command="rlsx"||command="x",0,Ifelse(command="BlazingStrike2"||command="rlsy"||command="y",1,2))
ignorehitpause=1
[State 1100, VarSet]
type=VarSet
trigger1=AILevel && !time && Numenemy
var(10)=Ifelse(enemynear,Movetype=H && p2bodydist x<25,0,Ifelse(p2bodydist x>145,2,1))
ignorehitpause=1

[State 1100, anim]
type=ChangeAnim
trigger1=!time
value=Ifelse(var(20),1003,1000+var(10))
ignorehitpause=1

[State 1100, TheWorld]
type=Helper
trigger1=animelemtime(1)=2 
helpertype=normal
name="TheWorldBlazingStrike"
stateno=1105
ID=1005
pos=ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=1
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ignorehitpause=1
pausemovetime=65535

[State 1100, Ctrl]
type=CtrlSet
triggerall=animelemtime(7) > 1
triggerall=Numhelper(1005)
triggerall=helper(1005),stateno=1105
triggerall=helper(1005),var(18)
trigger1=!AILevel 
trigger2=AILevel && (p2movetype != H || inguarddist || p2statetype=A)
value=1

[State 1100, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1
;---------------------------------------------------------------------
;EX Blazing Strike
[Statedef 1150]
type=S
movetype=A
physics=S
anim=1150
poweradd=cond(var(0)=1,0,-500)
velset=0,0
ctrl=0
sprpriority=2
facep2=1

[State 1150, PosSet]
type=PosSet
trigger1=!time
y=0

[State 1150, reset]
type=varset
trigger1=!time
var(29)=1
ignorehitpause=1
[State 1150, reset]
type=varadd
trigger1=animelemtime(4)<0
var(29)=1
ignorehitpause=1

[State 1150, FadeIn]
type=Trans
trigger1=var(29)
trans=addalpha
alpha=64+(64*var(29)),256-(64*var(29))
ignorehitpause=1

[State 1150, Width]
type=Width
trigger1=animelemtime(4)<0
value=45,0
ignorehitpause=1

[State 1150, reset]
type=varset
trigger1=animelemtime(4)<0
var(3)=0
ignorehitpause=1
[State 1150, VarSet]
type=VarSet
trigger1=!time
var(10)=3
ignorehitpause=1
[State 1150, VarSet]
type=VarSet
trigger1=animelemtime(3)>=0 
var(2)=0
ignorehitpause=1
[State 1150, No Corner Push]
type=VarSet
trigger1=1
fvar(5)=0
[State 1150, MAX Timer Drain]
type=VarAdd
trigger1=!Time
trigger1=var(20) > 0
var(20)=-250
[State 1150, Custom Combo Juggle Reset]
type=VarSet
trigger1=!Time && var(20)
var(15)=0
ignoreHitPause=1
[State 1150, EX Flash]
type=VarSet
trigger1=!Time
var(25)=45
[State 1150, EX FX]
type=Explod
trigger1=!Time
anim=8210
sprPriority=3
posType=p1
pos=ceil(-10*const(size.xscale)),ceil(-80*const(size.yscale))
scale=0.5, 0.5
pausemovetime=-1
superMoveTime=-1
ownPal=1
[State 1150, EX-SND]
type=PlaySnd
trigger1=!time
value=s0,1000
channel=3

[State 1150, FadeIn]
type=VarAdd
trigger1=animelemtime(3)<0 
var(2)=1

[State 1150, End]
type=ChangeAnim
trigger1=animelemtime(4)>=0 && animelemtime(5)<0
trigger1=p2bodydist x<50
value=anim
elem=5

[State 1150, Quake]
type=PlaySnd
trigger1=AnimElem=5||AnimElem=11
value=s2,7
channel=7
[State 1150, EnvShake]
type=EnvShake
trigger1=AnimElem=5||AnimElem=11
time=22
ampl=Ifelse(random<500,-6,6)

[State 1150, Switch]
type=Helper
trigger1=!time
helpertype=normal
name="DIO"
stateno=1151
ID=1005
pos=ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=0
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ignorehitpause=1
pausemovetime=65535

[State 1150,Woosh]
type=PlaySnd
trigger1=animelem=5 
value=s1,2
channel=4

[State 1150, reset]
type=varset
trigger1=animelemtime(2)<0
var(3)=0
ignorehitpause=1

[State 1150, Dust Helper]
type=Helper
trigger1=AnimElem=4
helperType=Normal
stateNo=8103
ID=8100
name="Dash Dust"
posType=P1
ownPal=1

[State 1150, movehitvar]
type=varset
trigger1=movecontact && numtarget
trigger1=!(target, ishelper)
var(3)=1
ignorehitpause=1

[State 1150, Vel]
type=VelSet
trigger1=AnimElem=4 
x=12
[State 1150, Vel]
type=VelSet
trigger1=AnimElem=10 
x=6
[State 1150, Position]
type=Posfreeze
trigger1=animelemtime(12)>2
trigger1=var(3)
value=1
ignorehitpause=1

[State 1150, Voice]
type=PlaySnd
trigger1=AnimElem=5||AnimElem=11
value=s1000,3
channel=1

[State 1150, Vel]
type=VelSet
trigger1=animelem=7||AnimElem=13 
x=0
[State 1150, Vel]
type=VelMul
trigger1=animelemtime(5)>0 && animelemtime(7)<0
trigger2=animelemtime(11)>0 && animelemtime(13)<0
x=0.98275

[State 1150, Width]
type=Width
trigger1=1
edge=10,0

[State 1150, High]
type=hitdef
trigger1=animelem=6
priority=4, Hit
attr=S, SA
damage=63,14
animtype=Hard
hitflag=MAF
guardflag=M
hitsound=S2,2
guardsound=S130,0
pausetime=Ifelse(var(0),0,8),13
guard.pausetime=Ifelse(var(0),0,8),12
sparkNo=-1 + 0 * (var(33) :=8013)
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=90), var(36) :=-70
ground.type=High
ground.slidetime=12
ground.hittime=32
air.hittime=120
ground.velocity=-4
ground.cornerpush.veloff=0
air.velocity=-4,-3
air.fall=1
fall.recover=0
getpower=0,0
givepower=36,36
envshake.time=14
envshake.ampl=4
yaccel=0.3725
p2facing=1
airguard.ctrltime=12
airguard.velocity=-4,-6
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48

[State 1150, Hit]
type=HitDef
triggerall=!Numtarget(1150)
trigger1=animelem=12
attr=S, SA
id=1150
damage=35,7
priority=4, hit
animtype=Hard
getpower=0,0
givepower=36, 36
guardflag=M
hitflag=MAF
hitsound=S2,2
guardsound=S130,0
pauseTime=0,12
guard.pausetime=Ifelse(var(0),0,8),8
sparkNo=-1 + 0 * (var(33) :=8013)
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=100), var(36) :=-50
air.animtype=Back
fall.animtype=Back
ground.type=Low
ground.slidetime=12
ground.hittime=32
guard.hittime=16
air.hittime=120
ground.velocity=-14,-7
air.velocity=-14,-5
guard.velocity=-8
airguard.velocity=-8, -4
airguard.ctrlTime=16
ground.cornerPush.velOff=0
guard.cornerPush.velOff=0
air.cornerPush.velOff=0
yaccel=.35
fall=1
fall.recover=0
forcestand=1
p2facing=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
envshake.time=14
envshake.ampl=4
envShake.freq=120

[State 1190, p2state]
type=targetstate
trigger1= movehit && numtarget(1150)
trigger1= target(1150),Movetype=H
ID=1150
value=1325
ignorehitpause=1
persistent=0

[State 1180, StateTypeSet: Idle]
type=StateTypeSet
trigger1=animelemtime(13)>=0
moveType=I

[State 1150, CtrlSet]
type=CtrlSet
trigger1=animelemtime(13)>1 && !Numhelper(1005)
trigger1=movehit && numtarget(1150)
trigger1=target(1150),Movetype=H
trigger1=target(1150),stateno=1325
value=1

[State 1150, Change]
type=changestate
trigger1=!animtime
value=0
ctrl=1
;----------------------------------------------------------------------
;World Teleport
[Statedef 1200]
type=S
movetype=I
physics=S
anim=1200
ctrl=0
velset=0,0
sprpriority=1
facep2=1

[State 1200, reset]
type=varadd
trigger1=animelemtime(6)>1
var(29)=1
ignorehitpause=1
[State 1200, reset]
type=varadd
trigger1=animelemtime(13)>1
var(11)=1
ignorehitpause=1
[State 1200, reset]
type=varset
trigger1=!time
var(29)=1
ignorehitpause=1
[State 1200, reset]
type=varset
trigger1=!time
var(11)=0
ignorehitpause=1

[State 1200, VarSet]
type=VarSet
trigger1=numenemy && !time
fvar(6)=enemynear,pos x

[State 1200, VarSet]
type=VarSet
trigger1=!AILevel && !time
var(10)=ifelse(command="a"||command="rlsa",0,ifelse(command="b"||command="rlsb",1,2))
ignorehitpause=1
[State 1200, VarSet]
type=VarSet
trigger1=AILevel && time 
var(10)=Ifelse((fvar(6)=[50,320]),2,Ifelse((fvar(6)=[-320,50]),0,1))
ignorehitpause=1

[State 1200, Voice]
type=PlaySnd
trigger1=animelem=3
value=s1200,0
channel=0
[State 1200, Teleport Snd]
type=PlaySnd
trigger1=animelem=13
value=s1205,0
channel=3

[State 1200, PlayerPush]
type=PlayerPush
trigger1=(animelemtime(6)>=0 && animelemtime(13)<0)
value=0
[State 1200, width]
type=width
trigger1=(animelemtime(6)>=0 && animelemtime(13)<0)
edge=-55, -20
[State 1200, NotHitBy]
type=NotHitBy
trigger1=(animelemtime(6)>=0 && animelemtime(14)<0)
value=SCA
time=1

[State 1200, PosSet]
type=PosSet
trigger1=!time
y=0

[State 1200, PosSet]
type=Posset
trigger1=animelem=13
x=Ifelse(!var(10),-180,Ifelse(var(10)=1,0,180))

[State 1200, width]
type=width
trigger1=animelemtime(12)>=5 && animelemtime(15)<0
player=35,-55
[State 1200, Turn]
type=Turn
trigger1=animelemtime(12)>=5 && animelemtime(14)<1 && numenemy
trigger1=enemynear,facing=facing 

[State 1200, ScreenBound]
type=ScreenBound
trigger1=(animelemtime(12)>=0 && animelemtime(14)<1) 
value=0
movecamera=0,1

[State 1200, Trans]
type=Trans
trigger1=(animelemtime(6)>=0 && animelemtime(13)<0)
trans=addalpha
alpha=256-16*var(29),0+16*var(29)
[State 1200, Trans]
type=Trans
trigger1=(animelemtime(13)>1 && animelemtime(16)<0)
trans=addalpha
alpha=0+32*var(11),256-32*var(11)

[State 1200, Teleport]
type=Helper
trigger1=animelemtime(5)=1
helpertype=normal
name="TeleportFX"
stateno=1206
ID=1206
pos=ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=1
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ignorehitpause=1
pausemovetime=65535

[State 1200, Teleport]
type=Helper
trigger1=animelem=14
helpertype=normal
name="TeleportFX"
stateno=1205
ID=1205
pos=ceil(Ifelse(var(10)=1,0,40)*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=1
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ignorehitpause=1
pausemovetime=65535

[State 1200, Exclamation]
type=Helper
trigger1=animelem=14
helpertype=normal
name="Exclamation"
stateno=1210
ID=1210
pos=ceil(Ifelse(var(10)=1,20,40)*const(size.xscale)),ceil(-80*const(size.yscale))
postype=p1
ownpal=1
size.xscale=1.0
size.yscale=1.0
ignorehitpause=1
pausemovetime=65535

[State 1200, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1
;----------------------------------------------------------------------
;DIE!
[Statedef 1250]
type=S
movetype=I
physics=S
anim=1250
ctrl=0
velset=0,0
poweradd=cond(var(0)=1,0,-500)
sprpriority=2
facep2=1

[State 1250, MAX Timer Drain]
type=VarAdd
trigger1=!Time
trigger1=var(20) > 0
var(20)=-250
[State 1250, Custom Combo Juggle Reset]
type=VarSet
trigger1=!Time && (var(20)||var(0))
var(15)=0
ignoreHitPause=1
[State 1250, EX Flash]
type=VarSet
trigger1=!Time
var(25)=60
[State 1250, EX FX]
type=Explod
trigger1=!Time
anim=8210
sprPriority=3
posType=p1
pos=ceil(-10*const(size.xscale)),ceil(-80*const(size.yscale))
scale=0.5, 0.5
pausemovetime=-1
superMoveTime=-1
ownPal=1
[State 1250, EX-SND]
type=PlaySnd
trigger1=!time 
value=s0,1000
channel=3

[State 1250, add]
type=varadd
trigger1=animelemtime(10)>1
var(29)=1
ignorehitpause=1
[State 1250, add]
type=varadd
trigger1=animelemtime(13)>1
var(11)=1
ignorehitpause=1
[State 1250, reset]
type=varset
trigger1=!time
var(29)=1
ignorehitpause=1
[State 1250, reset]
type=varset
trigger1=!time
var(11)=0
ignorehitpause=1

[State 1250, PosSet]
type=PosSet
trigger1=!time
y=0

[State 1250, VarSet]
type=VarSet
trigger1=numenemy && animelem=13
fvar(6)=enemynear,pos x

[State 1250, Voice]
type=PlaySnd
trigger1=animelem=14
value=s190,5
channel=0
[State 1250, Teleport Snd]
type=PlaySnd
trigger1=animelem=13
value=s1205,0
channel=3

[State 1250, ScreenBound]
type=ScreenBound
trigger1=(animelemtime(12)>=0 && animelemtime(15)<1) 
value=0
movecamera=0,1

[State 1250, PlayerPush]
type=PlayerPush
trigger1=(animelemtime(10)>=0 && animelemtime(14)<0)
value=0
[State 1250, width]
type=width
trigger1=(animelemtime(10)>=0 && animelemtime(14)<0)
edge=-55, -60
player=-45,-25
[State 1250, NotHitBy]
type=NotHitBy
trigger1=animelemtime(16)<0
value=SCA
time=1

[State 1250, PosSet]
type=Posset
trigger1=animelem=13
x=fvar(6)+80*facing

[State 1250, width]
type=width
trigger1=animelemtime(14)=1
player=25,-80
[State 1250, Turn]
type=Turn
trigger1=(animelemtime(14)=[0,2]) && p2bodydist x<0

[State 1250, Snd]
type=playsnd
trigger1=(animelem=6||animelem=10) 
value=s196,0
channel=1

[State 1250, Trans]
type=Trans
trigger1=(animelemtime(10)>=0 && animelemtime(13)<0)
trans=addalpha
alpha=256-16*var(29),0+16*var(29)
[State 1250, Trans]
type=Trans
trigger1=(animelemtime(13)>1 && animelemtime(16)<0)
trans=addalpha
alpha=0+32*var(11),256-32*var(11)

[State 1250, Teleport]
type=Helper
trigger1=animelem=10
helpertype=normal
name="TeleportFX"
stateno=1216
ID=1216
pos=ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=1
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ignorehitpause=1
pausemovetime=65535

[State 1250, Teleport]
type=Helper
trigger1=animelem=14
helpertype=normal
name="TeleportFX"
stateno=1215
ID=1215
pos=ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=1
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ignorehitpause=1
pausemovetime=65535

[State 1250, Exclamation]
type=Helper
trigger1=animelem=14
helpertype=normal
name="Exclamation"
stateno=1210
ID=1210
pos=ceil(Ifelse(facing=1,80,40)*const(size.xscale)),ceil(-80*const(size.yscale))
postype=p1
ownpal=1
size.xscale=1.0
size.yscale=1.0
ignorehitpause=1
pausemovetime=65535

[State 1250, World]
type=Helper
trigger1=animelemtime(1)=2 && !Numhelper(1005)
helpertype=normal
name="World"
stateno=1255
ID=1005
pos=ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=0
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ignorehitpause=1
pausemovetime=65535

[State 1250, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1
;------------------------------------------------------------------
;The Scale Of Terror
[Statedef 1300]
type=S
movetype=I
physics=S
anim=1300
ctrl=0
velset=0,0
poweradd=Ifelse(var(20)||Numhelper(1005)||Numhelper(3005),0,72)
sprpriority=2
facep2=1

[State 1300, Width]
type=Width
trigger1=!time
value=45,0
ignorehitpause=1

[State 1300, Voice]
type=PlaySnd
trigger1=!time
value=0,0
channel=0
[State 1300, Snd]
type=playsnd
trigger1=(animelem=6||animelem=10) 
value=s196,0
channel=1

[State 1300, ReSet]
type=VarSet
trigger1=!time
var(3)=0
ignorehitpause=1

[State 1300, VarSet]
type=VarSet
trigger1=!AILevel && !time
var(10)=Ifelse(command="a"||command="rlsa",0,Ifelse(command="b"||command="rlsb",1,2))
ignorehitpause=1
[State 1300, VarSet]
type=VarSet
trigger1=AILevel && !time && Numenemy
var(10)=Ifelse(enemynear,statetype=C,0,Ifelse(enemynear,statetype=A||enemynear,hitdefattr=A,2,1))
ignorehitpause=1

[State 1300, PosSet]
type=PosSet
trigger1=!time
y=0

[State 1300, anim]
type=ChangeAnim
trigger1=!time
value=Ifelse(var(20),1303,1300+var(10))
ignorehitpause=1

[State 1300, HitOverride]
type=hitoverride
trigger1=animelemtime(2)>=0 && animelemtime(12)<0
attr=SCA,NP,SP
slot=0
stateno=1320
ignorehitpause=1
time=1

[State 1300, Reversal]
type=reversaldef
trigger1=!movehit && var(10)=2
trigger1=animelemtime(2)>=0 && animelemtime(12)<0
reversal.attr=AS,NA,SA
pausetime=0,12
sparkNo=-1 + 0 * (var(33) := 0)
sparkxy=0, 0
hitsound=s-1,0
p1stateno=1320
numhits=0
[State 1300, Reversal]
type=reversaldef
trigger1=!movehit && var(10)=1
trigger1=animelemtime(2)>=0 && animelemtime(12)<0
reversal.attr=SC,NA,SA
pausetime=0,12
sparkNo=-1 + 0 * (var(33) := 0)
sparkxy=0, 0
hitsound=s-1,0
p1stateno=1320
numhits=0
[State 1300, Reversal]
type=reversaldef
trigger1=!movehit && !var(10)
trigger1=animelemtime(2)>=0 && animelemtime(12)<0
reversal.attr=SC,NA,SA
pausetime=0,12
sparkNo=-1 + 0 * (var(33) := 0)
sparkxy=0, 0
hitsound=s-1,0
p1stateno=1320
numhits=0

[State 1300, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1
;---------------------------------------------------------------------
;The Scale Of Terror - Attack Counter
[Statedef 1310]
type=S
movetype=A
physics=N
anim=1310
ctrl=0
Velset=0,0
SprPriority=-2

[State 1310, ScreenBound]
type=ScreenBound
trigger1=anim=[1310,1312]
value=1
movecamera=0,1

[State 1310, PosAdd]
type=PosAdd
trigger1=!time && p2bodydist x>60
x=30
[State 1310, PosAdd]
type=PosAdd
trigger1=!time && p2bodydist x<30
x=-30

[State 1310, Width]
type=Width
trigger1=animelemtime(9)<0
player=60,0
edge=50,-20

[State 1310, ChangeAnim]
type=ChangeAnim
trigger1=!time && Numtarget && var(10)=3
value=Ifelse(Target,statetype=A,1311,Ifelse(Target,statetype=C,1312,1310))
[State 1310, ChangeAnim]
type=ChangeAnim
trigger1=!time && Numtarget && var(10)!=3
value=Ifelse(var(10)=2,1311,Ifelse(var(10)=0,1312,1310))

[State 1310, SprPriority]
type=SprPriority
trigger1=anim=[1310,1312]
trigger1=AnimElem=10
value=2
[State 1310, SprPriority]
type=SprPriority
trigger1=anim=[1310,1312]
trigger1=AnimElem=29
value=-2

[State 1310, Safety]
type=ChangeState
trigger1=!Time && !NumTarget
value=0
ctrl=1

[State 1310, Target Facing]
type=TargetFacing
trigger1=Numtarget && Time <=1
value=-1

[State 1310, Time]
type=Helper
trigger1=!time && Numtarget
helpertype=normal
name="TimeStop"
stateno=1305
ID=1305
pos=ceil(0*const(size.xscale)),ceil(-80*const(size.yscale))
postype=p1
ownpal=0
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ignorehitpause=1
pausemovetime=65535

[State 1310, VarAdd]
type=VarAdd
trigger1=time
var(3)=1

[State 1310, Pause]
type=Pause
triggerall=anim=[1310,1312]
trigger1=AnimElemTime(12) < 2
trigger2=AnimElemTime(13) > 1 && AnimElemTime(26) < 15
time=2
movetime=2

[State 1310, Target]
type=targetstate
trigger1=anim=[1310,1312]
trigger1=AnimElem=13
value=1336

[State 1310, Pause]
type=Pause
trigger1=anim=[1310,1312]
trigger1=AnimElem=13
time=100
movetime=100

[State 1310, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA

[State 1310, Voice]
type=PlaySnd
trigger1=anim=[1310,1312]
trigger1=AnimElem=2
value=s1310,0
channel=0
[State 1310, Voice]
type=PlaySnd
trigger1=anim=[1310,1312]
trigger1=AnimElem=16
value=s1310,1
channel=0
[State 1310, Woosh]
type=PlaySnd
trigger1=anim=[1310,1312]
trigger1=AnimElem=12
value=s1,2
channel=1
[State 1310, Hit]
type=PlaySnd
trigger1=anim=[1310,1312]
trigger1=AnimElem=13
value=s2,8
channel=2

[State 1310, EnvShake]
type=EnvShake
trigger1=anim=[1310,1312]
trigger1=AnimElem=1||AnimElem=13
time=Ifelse((Animelem=1),32,64)
ampl=Ifelse(random<500,6,-6)

[State 1310, Time]
type=Helper
trigger1=time<10
helpertype=normal
name="TimeStopBG"
stateno=1333
ID=1333
pos=ceil(0*const(size.xscale)),ceil(-80*const(size.yscale))
postype=p1
ownpal=0
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ignorehitpause=1
pausemovetime=65535

[State 1310, HitSpark]
type=Helper
trigger1=anim=1310 && animelem=13
helperType=Normal
stateNo=8013
ID=8000
name="Spark"
postype=P1
pos=ceil(40*const(size.xscale)),ceil(-100*const(size.yscale))
ownPal=1
facing=-1
size.xScale=1.0
size.yScale=1.0
supermovetime=65535
pausemovetime=65535
ignorehitpause=1

[State 1310, HitSpark]
type=Helper
trigger1=anim=1311 && animelem=13
helperType=Normal
stateNo=8013
ID=8000
name="Spark"
postype=P1
pos=ceil(60*const(size.xscale)),ceil(-95*const(size.yscale))
ownPal=1
facing=-1
size.xScale=1.0
size.yScale=1.0
supermovetime=65535
pausemovetime=65535
ignorehitpause=1

[State 1310, HitSpark]
type=Helper
trigger1=anim=1312 && animelem=13
helperType=Normal
stateNo=8013
ID=8000
name="Spark"
postype=P1
pos=ceil(60*const(size.xscale)),ceil(-30*const(size.yscale))
ownPal=1
facing=-1
size.xScale=1.0
size.yScale=1.0
supermovetime=65535
pausemovetime=65535
ignorehitpause=1

[State 1310, GiangSlowMo]
type=Helper
trigger1=var(3)=218
helperType=Normal
stateNo=1332
ID=1332
name="GiangSlowMo"
postype=P1
pos=ceil(49*const(size.xscale)),ceil(-100*const(size.yscale))
ownPal=1
size.xScale=1.0
size.yScale=1.0
pausemovetime=65535
ignorehitpause=1
persistent=0

[State 1310, Stance]
type=ChangeAnim
trigger1=anim=[1310,1312]
trigger1=!animtime
value=0

[State 1310, Damage]
type=TargetLifeAdd
trigger1=NumTarget && var(3)=280
value=ceil(-140*fvar(10))
absolute=1
[State 1310, TargetPowerAdd]
type=TargetPowerAdd
trigger1=NumTarget && var(3)=280
value=72

[State 1310, Change]
type=changestate
trigger1= var(3)>=300
value=0
ctrl=1
;---------------------------------------------------------------------
;The Scale Of Terror - Projectile Counter
[Statedef 1320]
type=S
movetype=A
physics=N
anim=1320
ctrl=0
Velset=0,0

[State 1320, Time]
type=Helper
trigger1=!time
helpertype=normal
name="TimeStop"
stateno=1305
ID=1305
pos=ceil(0*const(size.xscale)),ceil(-80*const(size.yscale))
postype=p1
ownpal=0
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ignorehitpause=1
pausemovetime=65535

[State 1320, EnvColor]
type=Bgpalfx
trigger1=time<15
time=2
invertall=1
color=0
ignorehitpause=1

[State 1320, Assert]
type=AssertSpecial
trigger1=time<15
flag=noshadow
flag2=nomusic
flag3=timerfreeze
ignorehitpause=1

[State 1320, Pause]
type=Pause
trigger1=!time
time=16
movetime=16
pausebg=1

[State 1320, NotHitBy]
type=NotHitBy
trigger1=1
value=SCA

[State 1320, PosSet]
type=PosSet
trigger1=!time
x=ceil(Pos X+((P2dist X+50)*facing))

[State 1320, Turn]
type=Turn
trigger1=animelem=2 && P2bodydist X < 0

[State 1320, Change]
type=changestate
trigger1=AILevel && animelemtime(2)>=5 
trigger1=!Numhelper(1005) && !Numhelper(3005) && !Numhelper(3105)
value=Ifelse(random<500,1000,1100)
[State 1320, Change]
type=changestate
trigger1=AILevel && animelemtime(2)>=5 
trigger1=Numhelper(1005) || Numhelper(3005) || Numhelper(3105)
value=Ifelse(p2statetype!=A && random<500,450,Ifelse(p2statetype=A,420,Ifelse(random<500,200,240)))

[State 1320, ScreenBound]
type = ScreenBound
trigger1=animelemtime(2)<1
value=0
movecamera=0,1

[State 1320, Width]
type=Width
trigger1=animelemtime(2)<1
edge=-25,-25

[State 1320, Ctrl]
type=ctrlset
trigger1=!AILevel && animelemtime(2)>=5 
value=1

[State 1320, End]
type=changestate
trigger1= !animtime
value=0
ctrl=1
;------------------------------------------------------------------
;The Scale Of Terror
[Statedef 1350]
type=S
movetype=I
physics=S
anim=1350
ctrl=0
velset=0,0
poweradd=cond(var(0)=1,0,-500)
sprpriority=2
facep2=1

[State 1350, Width]
type=Width
trigger1=!time
value=45,0
ignorehitpause=1
[State 1350, VarSet]
type=VarSet
trigger1=!time
var(10)=3
ignorehitpause=1

[State 1350, PosSet]
type=PosSet
trigger1=!time
y=0

[State 1350, MAX Timer Drain]
type=VarAdd
trigger1=!Time
trigger1=var(20) > 0
var(20)=-250
[State 1350, Custom Combo Juggle Reset]
type=VarSet
trigger1=!Time && (var(20)||var(0))
var(15)=0
ignoreHitPause=1
[State 1350, EX Flash]
type=VarSet
trigger1=!Time
var(25)=40
[State 1350, EX FX]
type=Explod
trigger1=!Time
anim=8210
sprPriority=3
posType=p1
pos=ceil(-10*const(size.xscale)),ceil(-80*const(size.yscale))
scale=0.5, 0.5
pausemovetime=-1
superMoveTime=-1
ownPal=1
[State 1350, EX-SND]
type=PlaySnd
trigger1=!time 
value=s0,1000
channel=3

[State 1350, Voice]
type=PlaySnd
trigger1=!time
value=0,0
channel=0
[State 1350, Snd]
type=playsnd
trigger1=(animelem=6||animelem=10) 
value=s196,0
channel=1

[State 1350, ReSet]
type=VarSet
trigger1=!time
var(3)=0
ignorehitpause=1

[State 1350, HitOverride]
type=hitoverride
trigger1=animelemtime(12)<0
attr=SCA,AP
slot=0
stateno=1320
ignorehitpause=1
time=1

[State 1350, Reversal]
type=reversaldef
trigger1=!movehit && animelemtime(12)<0
reversal.attr=SCA,AA
pausetime=0, 60
sparkNo=-1 + 0 * (var(33) := 0)
sparkxy=0, 0
hitsound=s-1,0
p1stateno=1310
p2stateno=1335
numhits=0

[State 1350, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1
;---------------------------------------------------------------------
;Air Muda Muda
[Statedef 1400]
type=A
movetype=A
physics=N
ctrl=0
poweradd=Ifelse(var(20)||Numhelper(1005)||Numhelper(3005),0,72)
sprpriority=0

[State 1400, Width]
type=Width
trigger1=animelemtime(3)<0
value=25,0
ignorehitpause=1

[State 1400, VarSet]
type=VarSet
trigger1=!AILevel && !time
var(10)=Ifelse(command="x"||command="rlsx",0,Ifelse(command="y"||command="rlsy",1,2))
ignorehitpause=1
[State 1400, VarSet]
type=VarSet
trigger1=AILevel && !time && Numenemy
var(10)=Ifelse(enemynear,Movetype=H || p2bodydist x<50,0,2)
ignorehitpause=1

[State 1400, anim]
type=ChangeAnim
trigger1=!time
value=Ifelse(var(20)||var(0),1403,1400+var(10))
ignorehitpause=1

[State 1400, MudaMuda]
type=Helper
trigger1=animelem=2
helpertype=normal
name="MudaMudaSnd"
stateno=1001
ID=1001
pos=0,0
postype=p1
ignorehitpause=1
pausemovetime=65535

[State 1400, FX]
type=Helper
trigger1=animelemtime(1)=0 
helpertype=normal
name="Dio"
stateno=1410
ID=1005
pos=ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=0
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ignorehitpause=1
pausemovetime=65535

[State 1400, Mash]
type=varset
trigger1=!time
var(11)=0
[State 1400, Mash Reset]
type=varset
trigger1=animelemtime(4)<1
var(2)=0
[State 1400, Mash Check]
type=varset
trigger1=animelemtime(4)<1
var(3)=0
[State 1400, Movecontact Reset]
type=varset
trigger1=animelemtime(4)<0
var(14)=0
[State 1400, Vel Reset]
type=varset
trigger1=animelem=3
fvar(14)=vel x

[State 1400, movehitvar]
type=varadd
trigger1=movecontact && numtarget
trigger1=!(target, ishelper)
trigger1=!(target, time)
var(14)=1
ignorehitpause=1

[State 1400, reset]
type=varset
trigger1=animelemtime(2)>3
var(29)=0
ignorehitpause=1
[State 1400, reset]
type=varadd
trigger1=animelemtime(2)<=3
var(29)=1
ignorehitpause=1
[State 1400, FadeIn]
type=Trans
trigger1=var(29)
trans=addalpha
alpha=32+(32*var(29)),256-(32*var(29))
ignorehitpause=1

[State 1400, No Corner Push]
type=VarSet
trigger1=1
fvar(5)=0

[State 1400, Mash Limit]
type=varadd
triggerall=roundstate=2 && numenemy
trigger1=animelemtime(12)=0 
var(11)=1

[State 1400, Mash]
type=varadd
triggerall=animelemtime(5)>1
triggerall=roundstate=2 && numenemy
trigger1=!AILevel && (command="x"||command="y"||command="z")  
trigger2=AILevel && enemynear,movetype=H 
var(2)=1
[State 1400, Loop Reka Style]
type=varadd
triggerall=animelemtime(5)>1
triggerall=roundstate=2 && numenemy
trigger1=!AILevel && (command="BlazingFist")  
var(2)=4

[State 1400, Mash]
type=varset
triggerall=roundstate=2 && numenemy 
trigger1=var(2)>=8+var(11)
var(3)=1

[State 1400, End]
type=ChangeAnim
trigger1=animelem=16 && !var(20) 
value=anim
elem=33

[State 1400, Loop]
type=ChangeAnim
triggerall=var(11)<2 && var(3)
trigger1=animelemtime(15)=1 && var(14)>3
value=anim
elem=3

[State 1400, Pos]
type=PosFreeze
trigger1=animelemtime(4) < 0

[State 1400, Position]
type=PosAdd
trigger1=!time
x=12+2*var(10)
[State 1400, Vel]
type=VelSet
trigger1=AnimElem=4 && var(11)<1
x=0.5*var(10)
[State 1400, Vel]
type=VelSet
trigger1=AnimElem=4 && var(11)>=1
x=0.5
[State 1400, Position]
type=PosAdd
trigger1=movecontact
x=1

[State 1400, Velocity]
type=VelSet
trigger1=!AILevel && animelemtime(4) > 0 &&animelemtime(32) < 0
x=fvar(14)+(1.67*command="holdfwd")-(.83*command="holdback")
y=0.33-(3.21*command="holdup")

[State 1400, Velocity]
type=VelSet
triggerall=AILevel && numenemy
trigger1=animelemtime(4) > 0 && animelemtime(32) < 0 && enemynear,vel y>0
x=fvar(14)+(1.67*enemynear,movetype!=A && p2bodydist x>1)-(.83*enemynear,movetype=A && p2bodydist x>60)
y=Ifelse((p2bodydist y=[-220,-100]),-3.21,Ifelse((p2bodydist y=[-25,60]),0.33,0))

[State 1400, Vel]
type=Veladd
trigger1=animelemtime(34)>0
y=Ifelse(var(20),0.8,0.6)

[State 1400, Vel]
type=VelMul
trigger1=AnimElemtime(5)>0
x=0.92
y=0.92
[State 1400, Vel]
type=VelSet
trigger1=AnimElem=34
x=0

[State 1400, High]
type=HitDef
triggerall=!numtarget(1405)
trigger1=animelemtime(3) >= 1 && animelemtime(8) < 0
trigger2=animelemtime(13) >= 0 && animelemtime(18) < 0
trigger3=animelemtime(23) >= 0 && animelemtime(28) < 0
id=1405
attr=A, SA
damage=Ifelse(var(13)>10,14,21),3
priority=4, hit
animtype=Hard
hitflag=MAF
guardflag=HA
hitsound=S2,2
guardsound=S130,0
pausetime=Ifelse(var(0),0,2),4
sparkNo=-1 + 0 * (var(33) :=8013)
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=90), var(36) :=-90+random%25
ground.type=High
ground.slidetime=12
ground.hittime=24
ground.velocity=-5
ground.cornerpush.veloff=0
air.velocity=-5, -3
air.fall=1
fall.recover=0
getpower=Ifelse(var(20)||var(0),0,9),Ifelse(var(20)||var(0),0,9)
givepower=9, 9
envshake.time=8
envshake.ampl=2
yaccel=0.4
airguard.ctrltime=12
airguard.velocity=-5,-1
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48

[State 1400, Low]
type=HitDef
triggerall=!numtarget(1406)
trigger1=animelemtime(8) >= 0 && animelemtime(13) < 0
trigger2=animelemtime(18) >= 0 && animelemtime(23) < 0
trigger3=animelemtime(29) >= 0 
id=1406
attr=A, SA
damage=Ifelse(var(13)>10,14,21),3
priority=4, hit
animtype=Hard
hitflag=MAF
guardflag=HA
hitsound=S2,2
guardsound=S130,0
pausetime=Ifelse(var(0),0,2),4
sparkNo=-1 + 0 * (var(33) :=8013)
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=90), var(36) :=-45-random%20
ground.type=Low
ground.slidetime=12
ground.hittime=24
ground.velocity=-5
ground.cornerpush.veloff=0
air.velocity=-5, -3
air.fall=1
fall.recover=0
getpower=Ifelse(var(20)||var(0),0,9),Ifelse(var(20)||var(0),0,9)
givepower=9, 9
envshake.time=8
envshake.ampl=2
yaccel=0.4
airguard.ctrltime=12
airguard.velocity=-5,-1
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48

[State 1400, Reset]
type=varset
trigger1= AnimElemTime(34)=0 
var(2)=0

[State 1400, StateTypeSet: Idle]
type=StateTypeSet
trigger1= AnimElemTime(34)>=0 
moveType=I
[State 1400, Change]
type=changestate
trigger1=animelem=35
value=50
[State 1400, Change]
type=changestate
trigger1=pos y > -vel y
value=1405
;----------------------------------------------------------------------
;Air Muda Muda Land
[Statedef 1405]
type=S
movetype=I
physics=S
anim=57
ctrl=0
velset=0,0
sprpriority=2

[State 1405, EX Flash]
type=VarSet
trigger1=!Time
var(25)=0
[State 1405, PosSet]
type=PosSet
trigger1=1
y=0
[State 1405, Landing Sound]
type=PlaySnd
trigger1=!Time
value=52,0
[State 1405, Landing Dust Explod]
type=Explod
trigger1=!Time
anim=8102
sprPriority=-3
posType=P1
pos=0,2
scale=0.5,0.5
ownPal=1

[State 1405, End]
type=ChangeState
trigger1=!animtime
value=0
ctrl=1
;---------------------------------------------------------------------
;EX Air Muda Muda
[Statedef 1450]
type=A
movetype=A
physics=N
ctrl=0
sprpriority=0

[State 1450, Width]
type=Width
trigger1=animelemtime(3)<0
value=25,0
ignorehitpause=1

[State 1450, VarSet]
type=VarSet
trigger1=!time
var(10)=3
ignorehitpause=1

[State 1450, MAX Timer Drain]
type=VarAdd
trigger1=!Time
trigger1=var(20) > 0
var(20)=-250
[State 1450, Combo Juggle Reset]
type=VarSet
trigger1=!Time 
var(15)=0
ignoreHitPause=1
[State 1450, EX Flash]
type=VarSet
trigger1=!Time
var(25)=90
[State 1450, EX FX]
type=Explod
trigger1=!Time
anim=8210
sprPriority=3
posType=p1
pos=ceil(8*const(size.xscale)),ceil(-88*const(size.yscale))
scale=0.5, 0.5
pausemovetime=-1
superMoveTime=-1
ownPal=1
[State 1450, EX-SND]
type=PlaySnd
trigger1=!time
value=s0,1000
channel=3

[State 1450, PowerAdd]
type=PowerAdd
trigger1=!time
value=cond(var(0)=1,0,-500)

[State 1450, anim]
type=ChangeAnim
trigger1=!time
value=1450
ignorehitpause=1

[State 1450, MudaMuda]
type=Helper
trigger1=animelem=2
helpertype=normal
name="MudaMudaSnd"
stateno=1001
ID=1001
pos=0,0
postype=p1
ignorehitpause=1
pausemovetime=65535

[State 1450, FX]
type=Helper
trigger1=animelemtime(1)=0 
helpertype=normal
name="Jotaro"
stateno=1410
ID=1005
pos=ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=0
size.xscale=(1.0 * const(size.xscale))
size.yscale=(1.0 * const(size.yscale))
ignorehitpause=1
pausemovetime=65535

[State 1450, reset]
type=varset
trigger1=animelemtime(2)>3
var(29)=0
ignorehitpause=1
[State 1450, add]
type=varadd
trigger1=animelemtime(2)<=3
var(29)=1
ignorehitpause=1
[State 1450, FadeIn]
type=Trans
trigger1=var(29)
trans=addalpha
alpha=32+(32*var(29)),256-(32*var(29))
ignorehitpause=1

[State 1450, MudaMuda]
type=Helper
trigger1=animelem=3 
helpertype=normal
name="PunchFX1"
stateno=1025
ID=1025
pos=ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=0
size.xscale=(0.75 * const(size.xscale))
size.yscale=(0.75 * const(size.yscale))
persistent=0
pausemovetime=65535
ignorehitpause=1
[State 1450, MudaMuda]
type=Helper
trigger1=animelem=3
helpertype=normal
name="PunchFX1"
stateno=1026
ID=1026
pos=ceil(0*const(size.xscale)),ceil(0*const(size.yscale))
postype=p1
ownpal=0
size.xscale=(0.75 * const(size.xscale))
size.yscale=(0.75 * const(size.yscale))
persistent=0
pausemovetime=65535
ignorehitpause=1

[State 1450, Mash]
type=varset
trigger1=!time
var(11)=0
[State 1450, Mash Reset]
type=varset
trigger1=animelemtime(4)<1
var(2)=0
[State 1450, Mash Check]
type=varset
trigger1=animelemtime(4)<1
var(3)=0
[State 1450, Movecontact Reset]
type=varset
trigger1=animelemtime(4)<0
var(14)=0
[State 1450, Vel Reset]
type=varset
trigger1=animelem=3
fvar(14)=vel x

[State 1450, movehitvar]
type=varadd
trigger1=movecontact && numtarget
trigger1=!(target, ishelper)
trigger1=!(target, time)
var(14)=1
ignorehitpause=1

[State 1450, No Corner Push]
type=VarSet
trigger1=1
fvar(5)=0

[State 1450, Mash Limit]
type=varadd
triggerall=roundstate=2 && numenemy
trigger1=animelemtime(12)=0 
var(11)=1

[State 1450, Mash]
type=varadd
triggerall=animelemtime(5)>1
triggerall=roundstate=2 && numenemy
trigger1=!AILevel && (command="x"||command="y"||command="z")  
trigger2=AILevel && enemynear,movetype=H 
var(2)=1
[State 1450, Loop Reka Style]
type=varadd
triggerall=animelemtime(5)>1
triggerall=roundstate=2 && numenemy
trigger1=!AILevel && (command="BlazingFist")  
var(2)=4

[State 1450, Mash]
type=varset
triggerall=roundstate=2 && numenemy 
trigger1=var(2)>=5+var(11)
var(3)=1

[State 1450, Loop]
type=ChangeAnim
triggerall=var(11)<2 && var(3)
trigger1=animelemtime(27)=1 && var(14)>3
value=anim
elem=3

[State 1450, Pos]
type=PosFreeze
trigger1=animelemtime(4) < 0

[State 1450, Position]
type=PosAdd
trigger1=!time
x=12+2*var(10)
[State 1450, Vel]
type=VelSet
trigger1=AnimElem=4 && var(11)<1
x=0.5*var(10)
[State 1450, Vel]
type=VelSet
trigger1=AnimElem=4 && var(11)>=1
x=0.5
[State 1450, Position]
type=PosAdd
trigger1=movecontact
x=1

[State 1450, Velocity]
type=VelSet
trigger1=!AILevel && animelemtime(4) > 0 &&animelemtime(32) < 0
x=fvar(14)+(1.67*command="holdfwd")-(.83*command="holdback")
y=0.33-(3.21*command="holdup")

[State 1450, Velocity]
type=VelSet
triggerall=AILevel && numenemy
trigger1=animelemtime(4) > 0 && animelemtime(32) < 0 && enemynear,vel y>0
x=fvar(14)+(1.67*enemynear,movetype!=A && p2bodydist x>1)-(.83*enemynear,movetype=A && p2bodydist x>60)
y=Ifelse((p2bodydist y=[-220,-100]),-3.21,Ifelse((p2bodydist y=[-25,60]),0.33,0))

[State 1450, Vel]
type=Veladd
trigger1=animelemtime(34)>0
y=Ifelse(var(20),0.8,0.6)

[State 1450, Vel]
type=VelMul
trigger1=AnimElemtime(5)>0
x=0.92
y=0.92
[State 1450, Vel]
type=VelSet
trigger1=AnimElem=34
x=0

[State 1450, High]
type=HitDef
triggerall=!numtarget(1405)
trigger1=animelemtime(3) >= 1 && animelemtime(8) < 0
trigger2=animelemtime(13) >= 0 && animelemtime(18) < 0
trigger3=animelemtime(23) >= 0 && animelemtime(28) < 0
id=1405
attr=A, SA
damage=Ifelse(var(13)>16,8,18),2
priority=4, hit
animtype=Hard
hitflag=MAF
guardflag=HA
hitsound=S2,2
guardsound=S130,0
pausetime=Ifelse(var(0),0,2),4
sparkNo=-1 + 0 * (var(33) :=8013)
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=90), var(36) :=-90+random%25
ground.type=High
ground.slidetime=12
ground.hittime=24
ground.velocity=-5
ground.cornerpush.veloff=0
air.velocity=-5, -3
air.fall=1
fall.recover=0
getpower=0,0
givepower=18, 9
envshake.time=8
envshake.ampl=2
yaccel=0.4
airguard.ctrltime=12
airguard.velocity=-5,-1
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
sprpriority=0

[State 1450, Low]
type=HitDef
triggerall=!numtarget(1406)
trigger1=animelemtime(8) >= 0 && animelemtime(13) < 0
trigger2=animelemtime(18) >= 0 && animelemtime(23) < 0
trigger3=animelemtime(29) >= 0 
id=1406
attr=A, SA
damage=Ifelse(var(13)>16,8,18),2
priority=4, hit
animtype=Hard
hitflag=MAF
guardflag=HA
hitsound=S2,2
guardsound=S130,0
pausetime=Ifelse(var(0),0,2),4
sparkNo=-1 + 0 * (var(33) :=8013)
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=90), var(36) :=-45-random%20
ground.type=Low
ground.slidetime=12
ground.hittime=24
ground.velocity=-5
ground.cornerpush.veloff=0
air.velocity=-5, -3
air.fall=1
fall.recover=0
getpower=0,0
givepower=18, 9
envshake.time=8
envshake.ampl=2
yaccel=0.4
airguard.ctrltime=12
airguard.velocity=-5,-1
forcestand=1
palFX.time=12 * var(9)
palFX.add=255,255,255
palFX.sinAdd=-255,-255,-255,48
sprpriority=0

[State 1450, Reset]
type=varset
trigger1= AnimElemTime(34)=0 
var(2)=0

[State 1450, StateTypeSet: Idle]
type=StateTypeSet
trigger1= AnimElemTime(34)>=0 
moveType=I
[State 1450, Change]
type=changestate
trigger1=animelem=35
value=50
[State 1450, Change]
type=changestate
trigger1=pos y > -vel y
value=1405
;------------------------------------------------------------------
;Space Ripper Stingy Eyes
[Statedef 1500]
type=S
movetype=A
physics=S
anim=1500
ctrl=0
velset=0,0
poweradd=Ifelse(var(20)||Numhelper(1005)||Numhelper(3005),0,72)
sprpriority=1
facep2=1

[State 1500, StopSnd]
type=StopSnd
trigger1=!Time
channel=0

[State 1500, VarSet]
type=VarSet
trigger1 =!AILevel && !time
var(10)=ifelse(command="a"||command="rlsa",0,ifelse(command="b"||command="rlsb",1,2))
ignorehitpause=1
[State 1500, VarSet]
type=VarSet
trigger1 =AILevel && !time
var(10)=ifelse(enemynear,Movetype=H||P2bodydist x<140,0,ifelse(random<250,1,2))
ignorehitpause=1

[State 1500, PosSet]
type=PosSet
trigger1=!time
y=0
[State 1500, anim]
type=ChangeAnim
trigger1=!time
value=Ifelse(var(20),1503,1500+var(10))
ignorehitpause=1

[State 1500, SND]
type=PlaySnd
trigger1=animelem=15
value=s1500,0
channel=0

[State 1500, Width]
type=Width
trigger1=animelemtime(14)>1 && animelemtime(15)<2
value=30,0

[State 1500, S.R.S.E.]
type=Helper
trigger1=animelem=15
helpertype=normal 
name="SRSE"
stateno=1505
ID=1505
postype=p1
ownpal=1
size.xscale=0.5
size.yscale=0.5

[State 1500, End]
type=ChangeState
trigger1=!animtime
value=0
ctrl=1
;------------------------------------------------------------------
;EX Space Ripper Stingy Eyes
[Statedef 1550]
type=S
movetype=A
physics=S
anim=1550
ctrl=0
velset=0,0
poweradd=cond(var(0)=1,0,-500)
sprpriority=1
facep2=1

[State 1550, StopSnd]
type=StopSnd
trigger1=!Time
channel=0

[State 1550, VarSet]
type=VarSet
trigger1=!time
var(10)=3
ignorehitpause=1

[State 1550, PosSet]
type=PosSet
trigger1=!time
y=0

[State 1550, MAX Timer Drain]
type=VarAdd
trigger1=!Time
trigger1=var(20) > 0
var(20)=-250
[State 1550, Combo Juggle Reset]
type=VarSet
trigger1=!Time 
var(15)=0
ignoreHitPause=1
[State 1550, EX Flash]
type=VarSet
trigger1=!Time
var(25)=60
[State 1550, EX FX]
type=Explod
trigger1=!Time
anim=8210
sprPriority=3
posType=p1
pos=ceil(15*const(size.xscale)),ceil(-90*const(size.yscale))
scale=0.5, 0.5
pausemovetime=-1
superMoveTime=-1
ownPal=1
[State 1550, EX-SND]
type=PlaySnd
trigger1=!time
value=s0,1000
channel=3

[State 1550, SND]
type=PlaySnd
trigger1=animelem=15
value=s1500,0
channel=0

[State 1550, Width]
type=Width
trigger1=animelemtime(14)>1 && animelemtime(15)<2
value=30,0

[State 1550, SRSE]
type=Helper
trigger1=animelem=15
helpertype=normal 
name="SRSE"
stateno=1505
ID=1555
postype=p1
ownpal=1
pausemovetime=65535
size.xscale=0.5
size.yscale=0.5

[State 1550, End]
type=ChangeState
trigger1=!animtime
value=0
ctrl=1
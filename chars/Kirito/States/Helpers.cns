;---------------------------------------------------------------------
;Streak Fx
[Statedef 108]
physics=N
anim=9999
ctrl=0
velset=0, 0
sprpriority=-2+random%6

[State 108, End]
type=null;removeexplod
trigger1=root,Movetype=H
trigger2=root,stateno!=100&&root,stateno!=7828
[State 108, End]
type=destroyself
trigger1=root,Movetype=H
trigger2=root,stateno!=100&&root,stateno!=7828

[State 108, VarRandom: Pos]
type = VarRandom
trigger1 = 1
v =41
range = 0,8
ignorehitpause =1

[State 108, VarRandom: Scale]
type = VarRandom
trigger1 = 1
v =42
range = 0,10
ignorehitpause =1

[State 108, Bind]
type = BindToRoot
trigger1 = 1
pos = ceil(-5-(Random % 10)*(Random % 12) * const(size.xScale)),-10-8*var(41)
ignorehitpause =1

[State 108, Streak]
type = explod
trigger1 = 1
anim = 3491
sprpriority = -2+random%6
postype = p1
pos = 0, 0
vel = -2-random%12, 0
scale = const(size.xScale) * (1 - (0.05 * var(42))), const(size.yScale) * (1 - (0.075 * var(42)))
pausemovetime = -1
supermovetime = -1
ownpal = 1
;---------------------------------------------------------------------
;Streak Fx
[Statedef 109]
physics=N
anim=3490
ctrl=0
velset=-2-random%12, 0
sprpriority=-2+random%6

[State 109, VarRandom]
type = VarRandom
trigger1 =!time
v =41
range = 0,8
ignorehitpause =1

[State 109, Bind]
type = BindToRoot
trigger1 = !time
pos = ceil(25-(Random % 10)*(Random % 12) * const(size.xScale)),-10-8*var(41)
ignorehitpause =1

[State 109, AngleDraw]
type = AngleDraw
trigger1 =var(41)
scale = .5+Ifelse(var(41)>=6,.005,Ifelse((var(41)=[3,5]),.0025,Ifelse((var(41)=[1,2]),.001,.00125)))*(time),.5
ignorehitpause =1

[State 109, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
[State 109, Assert]
type=trans
trigger1=1
trans=addalpha
alpha=256-32*time, 256
ignorehitpause=1

[State 109, End]
type=destroyself
trigger1=root,Movetype=H
trigger2=time>=8
trigger3=root,stateno!=100
;---------------------------------------------------------------------------
;Menu Box FX
[Statedef 199]
physics  = N
anim = 199
ctrl = 0
velset=0,0
sprpriority=-1

[State 199, Remove Flag]
type = VarSet
trigger1 = root,stateno = 181 && root,anim = 182 && root,animelem = 8, > 0
trigger2 = root,stateno = 194 && root,animelem = 8, > 0
trigger3 = time >= 90
var(1) = 1

[State 199, Remove Time Count]
type = VarAdd
trigger1 = var(1)
var(2) = 1

[State 199, Transparency]
type = Trans
trigger1 = AnimElem = 1 || AnimTime = 0
trigger2 = AnimTime = 0
trans = AddAlpha
alpha = ceil(256 - (32.0 * var(2))),256

[State 199, Transparency]
type = Trans
trigger1 = AnimElem = 2 || AnimElem = 4
trans = AddAlpha
alpha = ceil(224 - (28.0 * var(2))),256

[State 199, Transparency]
type = Trans
trigger1 = AnimElem = 3
trans = AddAlpha
alpha = ceil(192 - (24.0 * var(2))),256

[State 199, Scale]
type = AngleDraw
trigger1 = !var(1) && Time < 8
scale = 0.125 * Time, 0.125 * Time

[State 199, Scale]
type = AngleDraw
trigger1 = !var(1) && Time >= 8
scale = 1,1

[State 199, Scale]
type = AngleDraw
trigger1 = var(1)
scale = 1 - (0.125 * var(2)), 1 - (0.125 * var(2))

[State 199, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 102 * root,const(size.xscale), -270 * root,const(size.xscale)
ignorehitpause =1
[State 199, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 199, Destroyself]
type = destroyself
trigger1 =var(2)>=8
;--------------------------------------------------------------------------------------
;Pal Select
[Statedef 256]
physics = N
anim = 9999
velset=0,0
sprpriority=99999
 
[State 256, PosSet]
type = PosSet
trigger1 =!time 
x = root,facing*-90
y = 20
ignorehitpause = 1

[State 256, Image]
type=Explod
trigger1=!NumExplod(256)
anim=256
sprPriority=99999
posType=p1
pos=0,0
scale=0.5, 0.5
pauseMoveTime=-1
superMoveTime=-1
ownPal=1
ontop=1
bindtime=-1
removetime=-1
id=256

[State 256, AS]
type=assertspecial
trigger1=1
flag=intro
flag2=noshadow
[State 256, Reset]
type=varset
trigger1=!time
var(29)=200
[State 256, Pal]
type=varset
trigger1=!time&&(root,var(39)||root,var(40)>=2||root,palno<=6)
var(26)=root,palno
[State 256, Pal]
type=varset
trigger1=!time&&root,var(39)=0&&root,var(40)<2&&root,palno>6
var(26)=root,palno - 6

[State 256, Countdown]
type = VarAdd
trigger1 =1 
var(29)=-1
[State 256, Countdown]
type = VarSet
trigger1=!var(10)&&var(29)>0&&var(29)<100
trigger1=root,command="holdup"||root,command="holddown"||root,command="holdback"||root,command="holdfwd"
var(29)=100

[State 256, Varadd]
type=varadd
trigger1=!var(10)
trigger1=root,command="holdup"||root,command="holddown"||root,command="holdback"||root,command="holdfwd"
var(26)=1-(root,command="holddown"||root,command="holdback"&&facing=1||root,command="holdfwd"&&facing=-1)*2

[State 256, Varset]
type=varset
trigger1=var(26)<1||var(26)>52
var(26)=1+(var(26)<1)*51

[State 256, Varadd]
type=varadd
trigger1=(root,command="holdup"||root,command="holddown"||root,command="holdback"||root,command="holdfwd")&&!var(10)||var(10)
var(10)=1

[State 256, Varset]
type=varset
trigger1=!time||var(10)>=17
var(10)=0

[State 256, PlaySnd]
type = PlaySnd
trigger1 =var(10)=2 
value = S256,0
volumescale = 75
channel = 20

[State 256, PlaySnd]
type = PlaySnd
triggerall=ishelper(256)
trigger1=root,command="a"||root,command="b"||root,command="c"||root,command="x"||root,command="y"||root,command="z"||root,command="s"||roundstate=2
trigger2=var(29)<=0
value = S256,1
volumescale = 75
channel = 20
persistent =0 

[State 256, Remove Explods]
type = RemoveExplod
triggerall=ishelper(256)
trigger1=root,command="a"||root,command="b"||root,command="c"||root,command="x"||root,command="y"||root,command="z"||root,command="s"||roundstate=2
trigger2=var(29)<=0
trigger3=root,AILevel
id = 256

[State 256, End]
type=destroyself
triggerall=ishelper(256)
trigger1=root,command="a"||root,command="b"||root,command="c"||root,command="x"||root,command="y"||root,command="z"||root,command="s"||roundstate=2
trigger2=var(29)<=0
trigger3=root,AILevel
;--------------------------------------------------------------------------------------
;Mode Select
[Statedef 257]
physics = N
anim = 9999
velset=0,0
sprpriority=99999
 
[State 257, PosSet]
type = PosSet
trigger1 =!time 
x = root,facing*-90
y = 3
ignorehitpause = 1

[State 257, Image(Normal)]
type=Explod
trigger1=parent,var(40)<1&&!Time
trigger2=!NumExplod(257)&&Time>0
anim=257
sprPriority=99999
posType=p1
pos=0,0
scale=0.5, 0.5
pauseMoveTime=-1
superMoveTime=-1
ownPal=1
ontop=1
bindtime=-1
removetime=-1
id=257
[State 257, Image(EX)]
type=Explod
trigger1=parent,var(40)>0&&!Time
trigger2=!NumExplod(258)&&Time>0
anim=258
sprPriority=99999
posType=p1
pos=0,0
scale=0.5, 0.5
pauseMoveTime=-1
superMoveTime=-1
ownPal=1
ontop=1
bindtime=-1
removetime=-1
id=258

[State 257, AS]
type=assertspecial
trigger1=1
flag=intro
flag2=noshadow
[State 257, Reset]
type=varset
trigger1=!time
var(29)=200
[State 257, Reset]
type=varset
trigger1=!time
var(11)=parent,var(40)
[State 257, Reset]
type=parentvarset
trigger1=!time
var(54)=var(11)

[State 257, Varset]
type=varset
trigger1 =var(10)=1
var(11)=Ifelse(var(11)=0,1,0)
[State 257, ChangeAnim]
type = null;ChangeAnim
trigger1 =var(10)=1
value = Ifelse(anim=257,258,257)

[State 257, Countdown]
type = VarAdd
trigger1 =1 
var(29)=-1
[State 257, Countdown]
type = VarSet
trigger1=!var(10)&&var(29)>0&&var(29)<100
trigger1=root,command="holdup"||root,command="holddown"||root,command="holdback"||root,command="holdfwd"
var(29)=100

[State 257, Varadd]
type=varadd
trigger1=(root,command="holdup"||root,command="holddown"||root,command="holdback"||root,command="holdfwd")&&!var(10)||var(10)
var(10)=1

[State 257, Varset]
type=varset
trigger1=!time||var(10)>=17
var(10)=0

[State 257, PlaySnd]
type = PlaySnd
trigger1 =var(10)=2 
value = S257,0
volumescale = 62
channel = 25

[State 257, PlaySnd]
type = PlaySnd
trigger1=root,command="a"||root,command="b"||root,command="c"||root,command="x"||root,command="y"||root,command="z"||root,command="s"||roundstate=2
trigger2=var(29)<=0
value = S257,1
volumescale = 100
channel = 25
persistent =0 
[State 257, StopSnd]
type = StopSnd
trigger1=root,command="a"||root,command="b"||root,command="c"||root,command="x"||root,command="y"||root,command="z"||root,command="s"||roundstate=2
trigger2=var(29)<=0
channel = 20
persistent =0 

[State 257, Remove Explods]
type = RemoveExplod
trigger1=root,command="a"||root,command="b"||root,command="c"||root,command="x"||root,command="y"||root,command="z"||root,command="s"||roundstate=2
trigger2=var(29)<=0
trigger3=root,AILevel
trigger4=var(11)>0
id = 257
[State 257, Remove Explods]
type = RemoveExplod
trigger1=root,command="a"||root,command="b"||root,command="c"||root,command="x"||root,command="y"||root,command="z"||root,command="s"||roundstate=2
trigger2=var(29)<=0
trigger3=root,AILevel
trigger4=var(11)<1
id = 258

[State 257, Change]
type=changestate
trigger1=root,command="a"||root,command="b"||root,command="c"||root,command="x"||root,command="y"||root,command="z"||root,command="s"||roundstate=2
trigger2=var(29)<=0
trigger3=root,AILevel
value=258
;---------------------------------------------------------------------------
;Empty
[Statedef 258]
physics = N
velset = 0,0
ctrl = 0
anim = 9999

[State 258, Reset]
type=parentvarset
trigger1=!time
var(39)=2

[State 258, Remove Explods]
type = RemoveExplod
trigger1=1
id = 257
[State 258, Remove Explods]
type = RemoveExplod
trigger1=1
id = 258

[State 258, End]
type=destroyself
trigger1=Time>0
;---------------------------------------------------------------------------
;Slash
[Statedef 300]
physics  = N
anim = 300
ctrl = 0
velset=0,0
sprpriority=4

[State 300, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 300, Scale]
type = AngleDraw
trigger1 = 1
scale = .9,1.2

[State 300, Rotate]
type = AngleSet
trigger1 = !Time
value = 5

[State 300, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -55,-96
ignorehitpause =1
[State 300, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 300, Destroyself]
type = destroyself
trigger1 =root,stateno!=200&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
;---------------------------------------------------------------------------
;Slash - SLP
[Statedef 301]
physics  = N
anim = 301
ctrl = 0
velset=0,0
sprpriority=4

[State 301, HitPause]
type = null;ChangeAnim
trigger1 = Root,StateNo = 200
trigger1 = Root,AnimElem = 3, < 0
value = Anim
elem = 1

[State 301, HitPause]
type = null;ChangeAnim
trigger1 = Root,StateNo = 200
trigger1 = Root,AnimElem = 3, = 0
value = Anim
elem = 2

[State 301, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 301, Scale]
type = AngleDraw
trigger1 = 1
scale = .6,.6
[State 301, Rotate]
type = AngleSet
trigger1 = !Time
value = 50

[State 301, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 60,-8
ignorehitpause =1
[State 301, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1032, Destroyself]
type = destroyself
trigger1 =root,stateno!=200&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=200&&root,animelem=2,<0

;---------------------------------------------------------------------------
;Slash
[Statedef 310]
physics  = N
anim = 310
ctrl = 0
velset=0,0
sprpriority=5

[State 300, HitPause]
type = null;ChangeAnim
trigger1 = Root,StateNo = 210
trigger1 = Root,AnimElem = 3, < 0
value = Anim
elem = 1

[State 300, HitPause]
type = null;ChangeAnim
trigger1 = Root,StateNo = 210
trigger1 = Root,AnimElem = 3, = 0
value = Anim
elem = 2

[State 300, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 300, Scale]
type = AngleDraw
trigger1 = 1
scale = 1.2,1.2

[State 300, Rotate]
type = AngleSet
trigger1 = !Time
value = -10

[State 300, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -73,-96
ignorehitpause =1
[State 300, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 300, Destroyself]
type = destroyself
trigger1 =root,stateno!=210&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=210&&root,animelem=2,<0

;---------------------------------------------------------------------------
;Slash
[Statedef 311]
physics  = N
anim = 311
ctrl = 0
velset=0,0
sprpriority=4

[State 300, HitPause]
type = null;ChangeAnim
trigger1 = Root,StateNo = 210
trigger1 = Root,AnimElem = 3, < 0
value = Anim
elem = 1

[State 300, HitPause]
type = null;ChangeAnim
trigger1 = Root,StateNo = 210
trigger1 = Root,AnimElem = 3, = 0
value = Anim
elem = 2

[State 300, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 300, Scale]
type = AngleDraw
trigger1 = 1
scale = .75,.75

[State 300, Rotate]
type = AngleSet
trigger1 = !Time
value = -45

[State 300, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 18,-106
ignorehitpause =1
[State 300, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 300, Destroyself]
type = destroyself
trigger1 =root,stateno!=210&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=210&&root,animelem=2,<0

;---------------------------------------------------------------------------
;Slash
[Statedef 320]
physics  = N
anim = 320
ctrl = 0
velset=0,0
sprpriority=4

[State 301, HitPause]
type = null;ChangeAnim
trigger1 = Root,StateNo = 220 || Root,StateNo = 221
trigger1 = Root,AnimElem = 4, < 2
value = Anim
elem = 1

[State 301, HitPause]
type = null;ChangeAnim
trigger1 = Root,StateNo = 220 || Root,StateNo = 221
trigger1 = Root,AnimElem = 4, >= 2 && Root,AnimElem = 5, < 0
value = Anim
elem = 2

[State 301, HitPause]
type = null;ChangeAnim
trigger1 = Root,StateNo = 220 || Root,StateNo = 221
trigger1 = Root,AnimElem = 5, = 0
value = Anim
elem = 3

[State 320, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 320, Scale]
type = AngleDraw
trigger1 = 1
scale = .75,.75

[State 320, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 0,0
ignorehitpause =1
[State 320, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 320, Destroyself]
type = destroyself
trigger1 =root,stateno!=220&&root,stateno!=221&&root,stateno!=3260
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =(root,stateno=220||root,stateno=221)&&root,animelem=2,<0

;---------------------------------------------------------------------------
;Slash
[Statedef 330]
physics  = N
anim = 330
ctrl = 0
velset=0,0
sprpriority=4

[State 330, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 330, Scale]
type = AngleDraw
trigger1 = 1
scale = .9,.9

[State 330, Rotate]
type = AngleSet
trigger1 = !Time
value = 40

[State 330, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -25,-16
ignorehitpause =1
[State 330, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 330, Destroyself]
type = destroyself
trigger1 =root,stateno!=230&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=230&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 340]
physics  = N
anim = 340
ctrl = 0
velset=0,0
sprpriority=5

[State 340, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 340, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 340, Rotate]
type = AngleSet
trigger1 = !Time
value = 40

[State 340, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -25,-10
ignorehitpause =1
[State 340, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 340, Destroyself]
type = destroyself
trigger1 =root,stateno!=240&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=240&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 341]
physics  = N
anim = 340
ctrl = 0
velset=0,0
sprpriority=4

[State 340, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 340, Scale]
type = AngleDraw
trigger1 = 1
scale = .9,.9

[State 340, Rotate]
type = AngleSet
trigger1 = !Time
value = 140

[State 340, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 85,-56
ignorehitpause =1
[State 340, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 340, Destroyself]
type = destroyself
trigger1 =root,stateno!=240&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=240&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 350]
physics  = N
anim = 350
ctrl = 0
velset=0,0
sprpriority=4

[State 350, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 350, Scale]
type = AngleDraw
trigger1 = 1
scale = .75,.75

[State 350, Rotate]
type = AngleSet
trigger1 = !Time
value = -10

[State 350, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -10,-10
ignorehitpause =1
[State 350, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 350, Destroyself]
type = destroyself
trigger1 =root,stateno!=250&&root,stateno!=221&&root,stateno!=3260&&root,stateno!=3610&&root,stateno!=3660&&root,stateno!=3810
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=250&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 351]
physics  = N
anim = 350
ctrl = 0
velset=0,0
sprpriority=5

[State 350, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 350, Scale]
type = AngleDraw
trigger1 = 1
scale = .5,1

[State 350, Rotate]
type = AngleSet
trigger1 = !Time
value = 70

[State 350, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 80,-20
ignorehitpause =1
[State 350, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 350, Destroyself]
type = destroyself
trigger1 =root,stateno!=250&&root,stateno!=221&&root,stateno!=3260&&root,stateno!=3610&&root,stateno!=3660&&root,stateno!=3810
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=250&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 500]
physics  = N
anim = 500
ctrl = 0
velset=0,0
sprpriority=4

[State 500, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 500, Scale]
type = AngleDraw
trigger1 = 1
scale = .9,.9

[State 500, Rotate]
type = AngleSet
trigger1 = !Time
value = 30

[State 500, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -37,0
ignorehitpause =1
[State 500, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 500, Destroyself]
type = destroyself
trigger1 =root,stateno!=400&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=400&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 510]
physics  = N
anim = 510
ctrl = 0
velset=0,0
sprpriority=5

[State 500, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 500, Scale]
type = AngleDraw
trigger1 = 1
scale = .9,.9

[State 500, Rotate]
type = AngleSet
trigger1 = !Time
value = 30

[State 500, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -37,0
ignorehitpause =1
[State 500, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 500, Destroyself]
type = destroyself
trigger1 =root,stateno!=410&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=410&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 511]
physics  = N
anim = 511
ctrl = 0
velset=0,0
sprpriority=4

[State 500, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 500, Scale]
type = AngleDraw
trigger1 = 1
scale = .75,.5

[State 500, Rotate]
type = AngleSet
trigger1 = !Time
value = -20

[State 500, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 60,-50
ignorehitpause =1
[State 500, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 500, Destroyself]
type = destroyself
trigger1 =root,stateno!=410&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=410&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 520]
physics  = N
anim = 520
ctrl = 0
velset=0,0
sprpriority=4

[State 520, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 520, Scale]
type = AngleDraw
trigger1 = 1
scale = .6,.7

[State 520, Rotate]
type = AngleSet
trigger1 = !Time
value = -35

[State 520, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -47,-10
ignorehitpause =1
[State 320, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 320, Destroyself]
type = destroyself
trigger1 =root,stateno!=420&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=420&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 530]
physics  = N
anim = 530
ctrl = 0
velset=0,0
sprpriority=4

[State 530, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 530, Scale]
type = AngleDraw
trigger1 = 1
scale = .75,.75
[State 530, Rotate]
type = null;AngleSet
trigger1 = !Time
value = -10

[State 530, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -45,-10
ignorehitpause =1
[State 530, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 530, Destroyself]
type = destroyself
trigger1 =root,stateno!=430&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=430&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 540]
physics  = N
anim = 540
ctrl = 0
velset=0,0
sprpriority=4

[State 540, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 530, Scale]
type = AngleDraw
trigger1 = 1
scale = .9,.9
[State 530, Rotate]
type = AngleSet
trigger1 = !Time
value = 150

[State 530, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -45,-80
ignorehitpause =1
[State 540, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 540, Destroyself]
type = destroyself
trigger1 =root,stateno!=440&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=440&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 541]
physics  = N
anim = 541
ctrl = 0
velset=0,0
sprpriority=5

[State 540, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 540, Scale]
type = AngleDraw
trigger1 = 1
scale = .75,.75
[State 540, Rotate]
type = AngleSet
trigger1 = !Time
value = 10

[State 540, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -45,-90
ignorehitpause =1
[State 540, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 540, Destroyself]
type = destroyself
trigger1 =root,stateno!=440&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=440&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 550]
physics  = N
anim = 550
ctrl = 0
velset=0,0
sprpriority=4

[State 550, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 550, Scale]
type = AngleDraw
trigger1 = 1
scale = .75,.75
[State 812, Rotate]
type = AngleSet
trigger1 = !Time
value = -10

[State 550, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -20,37
ignorehitpause =1
[State 550, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 550, Destroyself]
type = destroyself
trigger1 =root,stateno!=450&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=450&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 660]
physics  = N
anim = 660
ctrl = 0
velset=0,0
sprpriority=4

[State 660, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 660, Scale]
type = AngleDraw
trigger1 = 1
scale = .9,.9
[State 660, Rotate]
type = null;AngleSet
trigger1 = !Time
value = -10

[State 660, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -75,-45
ignorehitpause =1
[State 660, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 660, Destroyself]
type = destroyself
trigger1 =root,stateno!=600
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=600&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 661]
physics  = N
anim = 661
ctrl = 0
velset=0,0
sprpriority=4

[State 660, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 660, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,.9
[State 660, Rotate]
type = AngleSet
trigger1 = !Time
value = 20

[State 660, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -75,-25
ignorehitpause =1
[State 660, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 660, Destroyself]
type = destroyself
trigger1 =root,stateno!=610
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=610&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 662]
physics  = N
anim = 662
ctrl = 0
velset=0,0
sprpriority=5

[State 660, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 660, Scale]
type = AngleDraw
trigger1 = 1
scale = .85,.85
[State 660, Rotate]
type = AngleSet
trigger1 = !Time
value = 100

[State 660, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 30,-120
ignorehitpause =1
[State 660, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 660, Destroyself]
type = destroyself
trigger1 =root,stateno!=610
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=610&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 670]
physics  = N
anim = 670
ctrl = 0
velset=0,0
sprpriority=4

[State 670, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 670, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,.75
[State 670, Rotate]
type = AngleSet
trigger1 = !Time
value = -30

[State 670, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -56,-120
ignorehitpause =1
[State 670, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 670, Destroyself]
type = destroyself
trigger1 =root,stateno!=630
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=630&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 671]
physics  = N
anim = 671
ctrl = 0
velset=0,0
sprpriority=4

[State 670, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 670, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,.75
[State 670, Rotate]
type = AngleSet
trigger1 = !Time
value = -30

[State 670, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -56,-120
ignorehitpause =1
[State 670, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 670, Destroyself]
type = destroyself
trigger1 =root,stateno!=640
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=640&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 672]
physics  = N
anim = 672
ctrl = 0
velset=0,0
sprpriority=5

[State 670, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 670, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,.75
[State 670, Rotate]
type = AngleSet
trigger1 = !Time
value = -80

[State 670, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 16,-140
ignorehitpause =1
[State 670, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 670, Destroyself]
type = destroyself
trigger1 =root,stateno!=640
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=640&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 680]
physics  = N
anim = 680
ctrl = 0
velset=0,0
sprpriority=4

[State 680, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 680, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,.8
[State 680, Rotate]
type = AngleSet
trigger1 = !Time
value = -130

[State 680, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -5,-160
ignorehitpause =1
[State 680, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 680, Destroyself]
type = destroyself
trigger1 =root,stateno!=620
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=620&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 681]
physics  = N
anim = 681
ctrl = 0
velset=0,0
sprpriority=5

[State 680, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 680, Scale]
type = AngleDraw
trigger1 = 1
scale = .6,.6
[State 680, Rotate]
type = AngleSet
trigger1 = !Time
value = 30

[State 680, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 40,-20
ignorehitpause =1
[State 680, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 680, Destroyself]
type = destroyself
trigger1 =root,stateno!=650
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=650&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Slash
[Statedef 682]
physics  = N
anim = 682
ctrl = 0
velset=0,0
sprpriority=4

[State 680, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 680, Scale]
type = AngleDraw
trigger1 = 1
scale = .5,.5
[State 680, Rotate]
type = AngleSet
trigger1 = !Time
value = 23

[State 680, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -10,-100
ignorehitpause =1
[State 680, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 680, Destroyself]
type = destroyself
trigger1 =root,stateno!=650
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =root,stateno=650&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Emblazer FX
[StateDef 812]
type = A
velSet = 0,0
anim = 812
sprPriority = 5

[State 812, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 812, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 812, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElemTime(3) < 0
time = 1
pos = ceil(-63 * const(size.xScale)), ceil(-260 * const(size.yScale))
ignorehitpause =  1

[State 812, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElemTime(3) >= 0 && Root,AnimElemTime(4) < 0
time = 1
pos = ceil(-63 * const(size.xScale)), ceil(-257 * const(size.yScale))
ignorehitpause =  1

[State 812, BindToRoot]
type = BindToRoot
trigger1 = Root,AnimElemTime(4) >= 0
time = 1
pos = ceil(168 * const(size.xScale)), ceil(-230 * const(size.yScale))
ignorehitpause =  1

[State 812, Rotate]
type = AngleSet
trigger1 = !Time
value = 95

[State 812, Rotate]
type = AngleSet
trigger1 = Root,AnimElemTime(3) = 0
value = 100

[State 812, Rotate]
type = AngleSet
trigger1 = Root,AnimElemTime(4) = 0
value = -60

[State 812, Scale]
type = AngleDraw
trigger1 = Root,AnimElemTime(4) < 0
scale = 1,1

[State 812, Scale]
type = AngleDraw
trigger1 = Root,AnimElemTime(4) >= 0
scale = 1 - 0.085 * (Time - 22), 2

[State 812, End]
type = DestroySelf
trigger1 = Root, StateNo != 810
trigger2 = Root,AnimElemTime(9) >= 0
;---------------------------------------------------------------------------
;Meteor Break Afterimage
[Statedef 1012]
physics  = N
anim = 1012+root,var(45)
ctrl = 0
velset=0,0
sprpriority=2

[State 1012, Trans]
type = Trans
trigger1 =1
trans = AddAlpha
alpha = 256-(24*(time)),0+(24*time)
ignorehitpause =1

[State 1012, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1012, Destroyself]
type = destroyself
trigger1 =time>=11
;---------------------------------------------------------------------------
;Horizontal Square - Slash
[Statedef 1030]
physics  = N
anim = 1030
ctrl = 0
velset=0,0
sprpriority=4

[State 1030, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 1030, Scale]
type = AngleDraw
trigger1 = 1
scale = .85,.85
[State 1030, Rotate]
type = AngleSet
trigger1 = !Time
value = -20

[State 1030, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -30,-45
ignorehitpause =1
[State 1030, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1030, Destroyself]
type = destroyself
trigger1 =root,stateno!=1000&&root,stateno!=1050&&root,stateno!=3000&&root,stateno!=3050&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =(root,stateno=1000|root,stateno=1050|root,stateno=3000|root,stateno=3050)&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Horizontal Square - Slash 2
[Statedef 1031]
physics  = N
anim = 1031
ctrl = 0
velset=0,0
sprpriority=4

[State 1031, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 1031, Scale]
type = AngleDraw
trigger1 = 1
scale = .6,.75

[State 1031, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -7,-10
ignorehitpause =1
[State 1031, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1031, Destroyself]
type = destroyself
trigger1 =root,stateno!=1000&&root,stateno!=1050&&root,stateno!=3000&&root,stateno!=3050&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =(root,stateno=1000|root,stateno=1050|root,stateno=3000|root,stateno=3050)&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Horizontal Square - Slash 3
[Statedef 1032]
physics  = N
anim = 1032
ctrl = 0
velset=0,0
sprpriority=4

[State 1032, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 1032, Scale]
type = AngleDraw
trigger1 = 1
scale = .6,.6
[State 1032, Rotate]
type = AngleSet
trigger1 = !Time
value = 30

[State 1032, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 60,-8
ignorehitpause =1
[State 1032, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1032, Destroyself]
type = destroyself
trigger1 =root,stateno!=1000&&root,stateno!=1050&&root,stateno!=3000&&root,stateno!=3050&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =(root,stateno=1000|root,stateno=1050|root,stateno=3000|root,stateno=3050)&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Horizontal Square - Slash 4
[Statedef 1033]
physics  = N
anim = 1033
ctrl = 0
velset=0,0
sprpriority=4

[State 1033, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 1033, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,1
[State 1033, Rotate]
type = AngleSet
trigger1 = !Time
value = -20

[State 1033, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -50,-50
ignorehitpause =1
[State 1033, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1033, Destroyself]
type = destroyself
trigger1 =root,stateno!=1000&&root,stateno!=1050&&root,stateno!=3000&&root,stateno!=3050&&root,stateno!=3160&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =(root,stateno=1000|root,stateno=1050|root,stateno=3000|root,stateno=3050)&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Square
[Statedef 1035]
physics  = N
anim = 1035
ctrl = 0
velset=0,0
sprpriority=6

[State 300, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 300, Rotate]
type = AngleDraw
trigger1 = 1
scale = 1+time*.15,1+time*.15
ignorehitpause =1

[State 300, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 300, Destroyself]
type = destroyself
trigger1 =!animtime
;---------------------------------------------------------------------------
;Meteor Break B FX
[Statedef 1040]
physics  = N
anim = 1122
ctrl = 0
velset=0,0
sprpriority=4

[State 1100, Trans]
type = Trans
trigger1 =time<4
trans = add
ignorehitpause =1

[State 1100, Trans]
type = Trans
trigger1 =time>=4
trans = addalpha
alpha = 256-(24*(time-4)),256
ignorehitpause =1

[State 1120, Scale]
type = AngleDraw
trigger1 = 1
scale = 1.15,.8

[State 1120, BindToRoot]
type = BindToRoot
trigger1 =!Time
pos = 60,3
ignorehitpause =1
[State 1120, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1120, Destroyself]
type = destroyself
trigger1 =root,stateno!=1021
trigger2 =root,Movetype=H
trigger3 =time>=15
;---------------------------------------------------------------------------
;Meteor Break B FX
[Statedef 1041]
physics  = N
anim = 1123
ctrl = 0
velset=0,0
sprpriority=4

[State 1100, Trans]
type = Trans
trigger1 =time<4
trans = add
ignorehitpause =1

[State 1100, Trans]
type = Trans
trigger1 =time>=4
trans = addalpha
alpha = 256-(24*(time-4)),256
ignorehitpause =1

[State 1120, Scale]
type = AngleDraw
trigger1 = 1
scale = 3.5,.35

[State 1120, BindToRoot]
type = BindToRoot
trigger1 =!Time
pos = 60,3
ignorehitpause =1
[State 1120, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1120, Destroyself]
type = destroyself
trigger1 =root,stateno!=1021
trigger2 =root,Movetype=H
trigger3 =time>=15
;---------------------------------------------------------------------------
;Meteor Break C FX
[Statedef 1045]
physics  = N
anim = 1045
ctrl = 0
velset=0,0
sprpriority=4

[State 670, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 670, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,.75
[State 670, Rotate]
type = AngleSet
trigger1 = !Time
value = -30

[State 670, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -56,-120
ignorehitpause =1
[State 670, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 670, Destroyself]
type = destroyself
trigger1 =root,stateno!=1025
trigger2 =root,Movetype=H
trigger3 =!animtime
;---------------------------------------------------------------------------
;Storm Strike FX
[Statedef 1121]
physics  = N
anim = 1121
ctrl = 0
velset=0,0
sprpriority=4

[State 1120, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 1120, Scale]
type = AngleDraw
trigger1 = 1
scale = .7,.7

[State 1120, Rotate]
type = AngleSet
trigger1 = !Time
value = -60

[State 1120, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 55,-110
ignorehitpause =1
[State 1120, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1120, Destroyself]
type = destroyself
trigger1 =root,stateno!=1105&&root,stateno!=1155
trigger2 =root,Movetype=H
trigger3 =!animtime
;---------------------------------------------------------------------------
;Storm Strike FX
[Statedef 1122]
physics  = N
anim = 1122
ctrl = 0
velset=0,0
sprpriority=4

[State 1100, Trans]
type = Trans
trigger1 =time<4
trans = add
ignorehitpause =1

[State 1100, Trans]
type = Trans
trigger1 =time>=4
trans = addalpha
alpha = 256-24*(time-4),256
ignorehitpause =1

[State 1120, Scale]
type = AngleDraw
trigger1 = 1
scale = 1.25,1

[State 1120, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 60,3
ignorehitpause =1
[State 1120, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1120, Destroyself]
type = destroyself
trigger1 =root,stateno!=1105&&root,stateno!=1155
trigger2 =root,Movetype=H
trigger3 =time>=20
;---------------------------------------------------------------------------
;Storm Strike FX
[Statedef 1123]
physics  = N
anim = 1123
ctrl = 0
velset=0,0
sprpriority=4

[State 1100, Trans]
type = Trans
trigger1 =time<4
trans = add
ignorehitpause =1

[State 1100, Trans]
type = Trans
trigger1 =time>=4
trans = addalpha
alpha = 256-24*(time-4),256
ignorehitpause =1

[State 1120, Scale]
type = AngleDraw
trigger1 = 1
scale = 3.5,.35

[State 1120, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 60,3
ignorehitpause =1
[State 1120, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1120, Destroyself]
type = destroyself
trigger1 =root,stateno!=1105&&root,stateno!=1155
trigger2 =root,Movetype=H
trigger3 =time>=20
;---------------------------------------------------------------------------
;Storm Strike FX 2
[Statedef 1124]
physics  = N
anim = 1124
ctrl = 0
velset=0,0
sprpriority=4

[State 1124, FreezeAnim from hit pause]
type = ChangeAnim
triggerall = animelemtime(14)<0
trigger1 = Parent,HitPauseTime
value = anim
elem = animelemno(0)-1
ignorehitpause=1

[State 1033, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 1033, Scale]
type = AngleDraw
trigger1 = 1
scale = .9,.9
[State 1033, Rotate]
type = null;AngleSet
trigger1 = !Time
value = -20

[State 1033, BindToRoot]
type = BindToRoot
trigger1 =root,animelemtime(8)<0
pos = -20,8
ignorehitpause =1
[State 1033, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1033, Destroyself]
type = destroyself
trigger1 =root,stateno!=1100&&root,stateno!=1150
trigger2 =(root,stateno=1100||root,stateno=1150)&&root,animelemtime(2)<0
trigger3 =root,Movetype=H
trigger4 =!animtime
;---------------------------------------------------------------------------
;Vorpal Strike FX
[Statedef 1205]
physics  = N
anim = 1205
ctrl = 0
velset=0,0
sprpriority=4

[State 1205, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 1205, Scale]
type = AngleDraw
trigger1 = 1
scale = 2,2

[State 1205, Rotate]
type = AngleSet
trigger1 = !Time
value = -90

[State 1205, BindToRoot]
type = BindToRoot
trigger1 =(root,stateno=1200||root,stateno=1250)&&root,animelemtime(4)>=0
;trigger2 =(root,stateno=1201||root,stateno=1251)
pos = ceil(427 * const(size.xScale)), ceil(-192 * const(size.yScale))
ignorehitpause =1
[State 1205, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1205, Destroyself]
type = destroyself
trigger1 =(root,stateno!=[1200,1201])&&(root,stateno!=[1250,1251])
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =(root,stateno=1200||root,stateno=1250)&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Spinning Shield FX
[Statedef 1305]
physics  = N
anim = 1320
ctrl = 0
velset=0,0
sprpriority=3

[State 1300, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 1300, Scale]
type = AngleDraw
trigger1 = 1
scale = .75,2

[State 1300, Rotate]
type = AngleSet
trigger1 = !Time
value = 10

[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=5
value=1321
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=6
value=1322
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=7
value=1323
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=8
value=1324
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=9
value=1325
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=10
value=1326
ignorehitpause=1

[State 1300, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(121 * const(size.xScale)), ceil(-286 * const(size.yScale))
ignorehitpause =1
[State 1300, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1300, Destroyself]
type = destroyself
trigger1 =root,stateno!=1300&&root,stateno!=1350
trigger2 =root,Movetype=H
trigger3 =root,animelemtime(11)>=0
trigger4 =root,animelemtime(2)<0
;---------------------------------------------------------------------------
;Spinning Shield FX
[Statedef 1306]
physics  = N
anim = 1306
ctrl = 0
velset=0,0
sprpriority=0

[State 1306, HitOverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA, AA, AP, AT
stateno=1306
ignorehitpause=1
[State 1306, HB]
type=hitby
trigger1=1
time=-1
value=SCA, NP, SP, HP
ignorehitpause=1

[State 1306, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 0,0
ignorehitpause =1
[State 1306, Destroyself]
type = destroyself
trigger1 =root,stateno!=1300&&root,stateno!=1350
trigger2 =root,Movetype=H
trigger3 =root,animelemtime(11)>=0
trigger4 =root,animelemtime(2)<0
;---------------------------------------------------------------------------
;Snake Bite FX
[Statedef 1405]
physics  = N
anim = 1405
ctrl = 0
velset=0,0
sprpriority=3

[State 1400, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 1400, Scale]
type = AngleDraw
trigger1 = 1
scale = 4,2

[State 1400, Rotate]
type = AngleSet
trigger1 = !Time
value = 45

[State 1400, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(90 * const(size.xScale)), ceil(-266 * const(size.yScale))
ignorehitpause =1
[State 1400, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1400, Destroyself]
type = destroyself
trigger1 =(root,stateno!=1400&&root,stateno!=1450&&root,stateno!=3421&&root,stateno!=3610&&root,stateno!=3660)||!AnimTime
trigger2 =root,Movetype=H
trigger3 =(root,stateno=1400||root,stateno=1450)&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Snake Bite FX 2
[Statedef 1406]
physics  = N
anim = 1406
ctrl = 0
velset=0,0
sprpriority=3

[State 1400, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 1400, Scale]
type = AngleDraw
trigger1 = 1
scale = 4,2

[State 1400, Rotate]
type = AngleSet
trigger1 = !Time
value = -140

[State 1400, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(0 * const(size.xScale)), ceil(-400 * const(size.yScale))
ignorehitpause =1
[State 1400, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1400, Destroyself]
type = destroyself
trigger1 =(root,stateno!=1400&&root,stateno!=1450&&root,stateno!=3421&&root,stateno!=3610&&root,stateno!=3660)||!AnimTime
trigger2 =root,Movetype=H
trigger3 =(root,stateno=1400||root,stateno=1450)&&root,animelem=2,<0
;---------------------------------------------------------------------------
;Snake Bite FX 2
[Statedef 1407]
physics  = N
anim = 1406
ctrl = 0
velset=0,0
sprpriority=3

[State 1400, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 1400, Scale]
type = AngleDraw
trigger1 = 1
scale = 3.5,1.75

[State 1400, Rotate]
type = AngleSet
trigger1 = !Time
value = 45

[State 1400, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(90 * const(size.xScale)), ceil(-266 * const(size.yScale))
ignorehitpause =1
[State 1400, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1400, Destroyself]
type = destroyself
trigger1 =(root,stateno!=1400&&root,stateno!=1450&&root,stateno!=3610&&root,stateno!=3660)||!AnimTime
trigger2 =root,Movetype=H
trigger3 =(root,stateno=1400||root,stateno=1450)&&root,animelem=2,<0
;---------------------------------------------------------------------
;Crossing Wave Projectile
[Statedef 1505]
type=S
physics=N
movetype=A
anim=1505
ctrl=0
velset=0,0
sprpriority=4

[State 1505, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1

[State 1505, hitoverride]
type=hitoverride
trigger1= 1
time=-1
attr=SCA,AA,AP,AT
stateno=1506
ignorehitpause=1

[State 1505, scale var]
type = varset
trigger1 = time % 3 = 0
var(30) = ifelse(var(30) = 2 || (!time && !prevstateno), 0, var(30) + 1)
ignorehitpause = 1

[State 1505, Scale]
type = AngleDraw
trigger1 = 1
scale = 1, 1.125 - 0.0625 * var(30)
ignorehitpause = 1

[State 1505, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256 - 32 * (time % 3), 256
ignorehitpause = 1

[State 1505, Angle]
type=AngleSet
trigger1= 1
value = -8
ignorehitpause=1

[State 1505, hitby]
type=hitby
trigger1= 1
time=-1
value=SCA,NP,SP,HP
ignorehitpause=1


[State 1505, timevar]
type = varadd
trigger1 = time && var(1) < 60
var(1) = 1

[State 1505, strengthvar]
type=varset
trigger1= !time
var(10)=root,var(10)


[State 1505, Vel]
type=velset
trigger1=1
x=ifelse(var(10)=0,4,ifelse(var(10)=1,4.5,ifelse(var(10)=2,6,7.5)))
y=0



[State 1505, movehitvar]
type=varset
trigger1= movecontact && numtarget
trigger1= !(target,ishelper)
var(3)=1
ignorehitpause=1

[State 1505, Counter Flag]
type=varset
trigger1= numenemy
trigger1= movecontact!=1
var(9)= (enemynear,movetype=A)


[State 1505, VarAdd]
type=VarAdd
trigger1 =!time
var(11)=1



[State 1505, hitsnd]
type=playsnd
trigger1= movecontact && numtarget
trigger1= !(target,time) && target,movetype=H
value=ifelse(moveguarded,130,2),ifelse(moveguarded,1,15)
persistent=0
ignorehitpause=1


[State 1505, High]
type=hitdef
trigger1=!var(12)
priority=4, Hit
attr=S, SP
damage=floor(Ifelse(root,var(20),35,Ifelse(var(10)=3,100,Ifelse(var(10)=2,92,Ifelse(var(10)=1,86,80))))*root,fvar(10)),ifelse(root,var(20),3,10)
animtype=Hard
hitflag=MAF
guardflag=MA
pausetime=0,12/((root,var(20)>0)+1)
sparkNo=-1
guardsound = -1
guard.sparkNo=-1
sparkXY=-1,0
ground.type=High
ground.slidetime=18
ground.hittime=18
guard.hittime=14
air.hittime = 32
ground.velocity=Ifelse(root,var(20),-5,-10+3*(var(10)=3)), ifelse((root,var(20)),0,0-4*(var(10)=3))
ground.cornerpush.veloff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
airGuard.cornerPush.velOff = 0
air.velocity=Ifelse(root,var(20),-2,-4), -2
fall=1*(var(10)=3)
air.fall=1
fall.recover = 1
fall.recoverTime = 22 + ifElse(root,var(20)>0, 6, 12)
getpower=72* (!root,var(20)&&var(10)<3), 36 * (!root,var(20)&&var(10)<3)
givepower=35, 35
envshake.time=10
envshake.ampl=5
p1sprpriority=5
yaccel=Ifelse(root,var(20),.35,.5)
airguard.ctrltime=12
airguard.velocity=ifelse((root,var(20)),-4,-8),-1.5
forcestand=1
id = 1505


[State 1505, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(target, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8015)
ID=8000
name="Spark"
posType = P1
pos = ifElse(P2Dist x < -50, -50, ifElse(P2Dist x < 2, ceil(P2Dist x), 2)), ifElse(P2Dist y > 0, 0, ifElse(P2Dist y > -30, ceil(P2Dist y), -30))
facing=-1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 1505, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=(target, movetype=H) && !(target, time)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P1
pos=ifElse(P2Dist x < -50, -50, ifElse(P2Dist x < 2, ceil(P2Dist x), 2)), ifElse(P2Dist y > 0, 0, ifElse(P2Dist y > -30, ceil(P2Dist y), -30))
ownPal=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 1505, HitCount]
type=ParentVarAdd
trigger1=Movehit=1 && NumTarget
var(13)=1
ignorehitpause = 1
persistent=0
[State 1505, Juggle]
type=parentvaradd
trigger1= movecontact=1 && numtarget
var(15)=1
ignorehitpause = 1
persistent=0
[State 1505, ProjContact]
type=VarSet
trigger1=MoveContact=1 && NumTarget
var(18)=1
ignorehitpause = 1
persistent=0
[State 1505, ProjContact]
type=ParentVarSet
trigger1=MoveContact=1 && NumTarget
trigger1=(Root,StateNo=[1500,1550])
var(18)=1
ignorehitpause = 1
persistent=0

[State 1505, End]
type = changestate
trigger1 = var(10) < 0
trigger1 = var(1) >= ifelse(var(10) = -2, 34, ifelse(var(10) = -1, 30, 26))
trigger2 = FrontEdgeDist <= -70
value = 1507
ignorehitpause = 1

[State 1505, end]
type=changestate
trigger1= MoveContact = 1 || MoveReversed
value=1506
ignorehitpause=1

[State 1505, end]
type=null;destroyself
trigger1=pos x!=[-200,200]

;-------------------------------------------------------------------------------
;Wave Projectile Finish
[Statedef 1506]
type=A
physics=N
movetype=I
anim=1506
ctrl=0
sprpriority=5

[State 1506, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 1506, vel]
type=velmul
trigger1= 1
x=.85

[State 1506, Assert]
type=trans
trigger1=1
trans=add
ignorehitpause=1

[State 1506, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,1
ignorehitpause=1

[State 1506, Angle]
type=AngleSet
trigger1= 1
value = -8
ignorehitpause=1

[State 1506]
type = AssertSpecial
trigger1=1
flag =noshadow
ignorehitpause=1
persistent=1

  
[State 1506, 2]
type = sprpriority
trigger1 = Time = 0
value = 5


[State 1506,EX SHADOW FX]
type=afterimage
trigger1=time=0
time=0
TimeGap =1
FrameGap=3
length=8
PalBright=1,1,1
PalContrast=150,150,150
PalAdd=0,0,0
PalMul=.5,.5,.5
trans=add

  
[State 1506, End]
type = ChangeState
trigger1=!AnimTime;time>=6
value=1508
;-------------------------------------------------------------------------------------
;Wave Projectile Finish
[Statedef 1507]
type=A
physics=N
movetype=I
anim=1507
ctrl=0
sprpriority=5
movehitpersist = 1

[State 1507, vel]
type=velmul
trigger1= 1
x=.85

[State 1507, Assert]
type=trans
trigger1=1
trans=addalpha
alpha=128-(20*time), 256
ignorehitpause=1

[State 1507, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,1
ignorehitpause=1

[State 1507, Angle]
type=AngleSet
trigger1= 1
value = -8
ignorehitpause=1

[State 1507, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 1507]
type = AssertSpecial
trigger1=1
flag =noshadow
ignorehitpause=1
persistent=1

  
[State 1507, 2]
type = sprpriority
trigger1 = Time = 0
value = 5

[State 1507,EX SHADOW FX]
type=afterimage
trigger1=time=0
time=0
TimeGap =1
FrameGap=3
length=8
PalBright=1,1,1
PalContrast=150,150,150
PalAdd=0,0,0
PalMul=.5,.5,.5
trans=add
  
[State 1507, DestroySelf]
type = DestroySelf
trigger1=time>=6



;Wait
[StateDef 1508]
type = A
physics = N
moveType = I
anim = 9999
ctrl = 0
velSet = 0,0

[State 1508, End]
type = DestroySelf
trigger1 = !NumTarget
trigger2 = NumTarget
trigger2 = Target, Time <= 1 && !(Target,HitShakeOver)
;---------------------------------------------------------------------------
;Vertical - Slash 1
[Statedef 1705]
physics  = N
anim = 1705
ctrl = 0
velset=0,0
sprpriority=4

[State 1032, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 1032, Scale]
type = AngleDraw
trigger1 = 1
scale = .6,.6
[State 1032, Rotate]
type = AngleSet
trigger1 = !Time
value = 30

[State 1032, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 50,-8
ignorehitpause =1
[State 1032, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1032, Destroyself]
type = destroyself
trigger1 =root,stateno!=1700&&root,stateno!=1750
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =(root,stateno=1700|root,stateno=1750)&&root,animelem=1
;---------------------------------------------------------------------------
;Super Horizontal Square - Slash
[Statedef 3005]
physics  = N
anim = 3005
ctrl = 0
velset=0,0
sprpriority=4

[State 3105, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3105, Scale]
type = AngleDraw
trigger1 = 1
scale = 1.35,1.75
[State 3105, Rotate]
type = AngleSet
trigger1 = !Time
value = 125

[State 3105, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(-124 * const(size.xScale)), ceil(-26 * const(size.yScale))
ignorehitpause =1
[State 3105, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3105, Destroyself]
type = destroyself
trigger1 =root,stateno!=1000&&root,stateno!=1050&&root,stateno!=3000&&root,stateno!=3050&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =(root,stateno=1000|root,stateno=1050|root,stateno=3000|root,stateno=3050)&&root,animelem=2<0
;---------------------------------------------------------------------------
;Super Horizontal Square - Slash 2
[Statedef 3006]
physics  = N
anim = 3005
ctrl = 0
velset=0,0
sprpriority=4

[State 3105, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3105, Scale]
type = AngleDraw
trigger1 = 1
scale = 1.25,1.75
[State 3105, Rotate]
type = AngleSet
trigger1 = !Time
value = 40

[State 3105, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(28 * const(size.xScale)), ceil(-463 * const(size.yScale))
ignorehitpause =1
[State 3105, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3105, Destroyself]
type = destroyself
trigger1 =root,stateno!=1000&&root,stateno!=1050&&root,stateno!=3000&&root,stateno!=3050&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =(root,stateno=1000|root,stateno=1050|root,stateno=3000|root,stateno=3050)&&root,animelem=2<0
;---------------------------------------------------------------------------
;Super Horizontal Square - Slash 3
[Statedef 3007]
physics  = N
anim = 3005
ctrl = 0
velset=0,0
sprpriority=4

[State 3105, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3105, Scale]
type = AngleDraw
trigger1 = 1
scale = 1.5,1.85
[State 3105, Rotate]
type = AngleSet
trigger1 = !Time
value = 150

[State 3105, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(144 * const(size.xScale)), ceil(21 * const(size.yScale))
ignorehitpause =1
[State 3105, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3105, Destroyself]
type = destroyself
trigger1 =root,stateno!=1000&&root,stateno!=1050&&root,stateno!=3000&&root,stateno!=3050&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =(root,stateno=1000|root,stateno=1050|root,stateno=3000|root,stateno=3050)&&root,animelem=2<0
;---------------------------------------------------------------------------
;Super Horizontal Square - Slash 4
[Statedef 3008]
physics  = N
anim = 3005
ctrl = 0
velset=0,0
sprpriority=4

[State 3105, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3105, Scale]
type = AngleDraw
trigger1 = 1
scale = 1.75,2
[State 3105, Rotate]
type = AngleSet
trigger1 = !Time
value = 60

[State 3105, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(-132 * const(size.xScale)), ceil(-297 * const(size.yScale))
ignorehitpause =1
[State 3105, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3105, Destroyself]
type = destroyself
trigger1 =root,stateno!=1000&&root,stateno!=1050&&root,stateno!=3000&&root,stateno!=3050&&root,stateno!=3160&&root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =!animtime
trigger4 =(root,stateno=1000|root,stateno=1050|root,stateno=3000|root,stateno=3050)&&root,animelem=2<0
;---------------------------------------------------------------------------
;Slash
[Statedef 3065]
physics  = N
anim = 3065
ctrl = 0
velset=0,0
sprpriority=5

[State 680, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 680, Scale]
type = AngleDraw
trigger1 = 1
scale = .6,.6
[State 680, Rotate]
type = AngleSet
trigger1 = !Time
value = 30

[State 680, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 40,-20
ignorehitpause =1
[State 680, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 680, Destroyself]
type = destroyself
trigger1 =root,stateno!=3060
trigger2 =root,Movetype=H
trigger3 =!animtime
;---------------------------------------------------------------------------
;Slash
[Statedef 3066]
physics  = N
anim = 3066
ctrl = 0
velset=0,0
sprpriority=4

[State 680, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 680, Scale]
type = AngleDraw
trigger1 = 1
scale = .5,.5
[State 680, Rotate]
type = AngleSet
trigger1 = !Time
value = 23

[State 680, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -10,-100
ignorehitpause =1
[State 680, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 680, Destroyself]
type = destroyself
trigger1 =root,stateno!=3060
trigger2 =root,Movetype=H
trigger3 =!animtime
;---------------------------------------------------------------------------
;Max Horizontal Square FX
[Statedef 3067]
physics  = N
anim = 1122
ctrl = 0
velset=0,0
sprpriority=4

[State 1100, Trans]
type = Trans
trigger1 =time<4
trans = add
ignorehitpause =1

[State 1100, Trans]
type = Trans
trigger1 =time>=4
trans = addalpha
alpha = 256-(24*(time-4)),256
ignorehitpause =1

[State 1120, Scale]
type = AngleDraw
trigger1 = 1
scale = 1.15,.8

[State 1120, BindToRoot]
type = BindToRoot
trigger1 =!Time
pos = 60,3
ignorehitpause =1
[State 1120, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1120, Destroyself]
type = destroyself
trigger1 =root,stateno!=3061
trigger2 =root,Movetype=H
trigger3 =time>=15
;---------------------------------------------------------------------------
;Max Horizontal Square FX
[Statedef 3068]
physics  = N
anim = 1123
ctrl = 0
velset=0,0
sprpriority=4

[State 1100, Trans]
type = Trans
trigger1 =time<4
trans = add
ignorehitpause =1

[State 1100, Trans]
type = Trans
trigger1 =time>=4
trans = addalpha
alpha = 256-(24*(time-4)),256
ignorehitpause =1

[State 1120, Scale]
type = AngleDraw
trigger1 = 1
scale = 3.5,.35

[State 1120, BindToRoot]
type = BindToRoot
trigger1 =!Time
pos = 60,3
ignorehitpause =1
[State 1120, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1120, Destroyself]
type = destroyself
trigger1 =root,stateno!=3061
trigger2 =root,Movetype=H
trigger3 =time>=15
;---------------------------------------------------------------------------
;Super Vorpal Strike FX
[Statedef 3105]
physics  = N
anim = 3105
ctrl = 0
velset=0,0
sprpriority=4

[State 3105, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3105, ChangeAnim]
type=changeanim
trigger1 = (root,stateno=3100||root,stateno=3150)&&root,time>=53
value=3106
ignorehitpause=1

[State 3105, Scale]
type = AngleDraw
trigger1 = 1
scale = 2,2

[State 3105, Rotate]
type = AngleSet
trigger1 = !Time
value = -90

[State 3105, BindToRoot]
type = BindToRoot
trigger1 =(root,stateno=3100||root,stateno=3150)&&root,animelemtime(4)>=0
;trigger2 =(root,stateno=3101||root,stateno=3151)
pos = ceil(427 * const(size.xScale)), ceil(-192 * const(size.yScale))
ignorehitpause =1
[State 3105, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3105, Destroyself]
type = destroyself
trigger1 =(root,stateno!=[3100,3101])&&(root,stateno!=[3150,3151])
trigger2 =root,Movetype=H
trigger3 =anim=3106&&!animtime
trigger4 =(root,stateno=3100|root,stateno=3150)&&root,animelem=2<0
;---------------------------------------------------------------------------
;Super Spinning Shield FX
[Statedef 3205]
physics  = N
anim = 1320
ctrl = 0
velset=0,0
sprpriority=3

[State 1300, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 1300, Scale]
type = AngleDraw
trigger1 = 1
scale = .75,2

[State 1300, Rotate]
type = AngleSet
trigger1 = !Time
value = 10

[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=5||root,animelem=12
value=1321
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=6||root,animelem=13
value=1322
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=7||root,animelem=14
value=1323
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=8||root,animelem=15
value=1324
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=9||root,animelem=16
value=1325
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=10||root,animelem=17
value=1326
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=11
value=1320
ignorehitpause=1

[State 1300, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(121 * const(size.xScale)), ceil(-286 * const(size.yScale))
ignorehitpause =1
[State 1300, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1300, Destroyself]
type = destroyself
trigger1 =root,stateno!=3200&&root,stateno!=3250
trigger2 =root,Movetype=H
trigger3 =root,animelemtime(18)>=0
trigger4 =root,animelemtime(2)<0
;---------------------------------------------------------------------------
;Super Spinning Shield FX
[Statedef 3206]
physics  = N
anim = ifelse(root,stateno=3250,3206,1306)
ctrl = 0
velset=0,0
sprpriority=0

[State 1306, HitOverride]
type=hitoverride
trigger1=1
time=-1
attr=SCA, AA, AP, AT
stateno=3206
ignorehitpause=1
[State 1306, HB]
type=hitby
trigger1=1
time=-1
value=SCA, NP, SP, HP
ignorehitpause=1

[State 1600, Reversal]
type = ReversalDef
trigger1 = root,stateno=3250
attr = S, HT
reversal.attr = SCA, NA, SA;, HA
pausetime = 0,0
sparkno = -1 + 0 * (var(33) := 0)
hitsound = -1
p1sprpriority = -1
p1stateno = 3207
p2stateno = 3270
;p2facing = 1
numhits = 0

[State 1306, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 0,0
ignorehitpause =1
[State 1306, Destroyself]
type = destroyself
trigger1 =root,stateno!=3200&&root,stateno!=3250
trigger2 =root,Movetype=H
trigger3 =root,animelemtime(18)>=0
trigger4 =root,animelemtime(2)<0
;---------------------------------------------------------------------------
;Super Spinning Shield FX Next
[Statedef 3207]
physics  = N
anim = 9999
ctrl = 0
velset=0,0
sprpriority=0

[State 1306, Destroyself]
type = destroyself
trigger1 =Time > 1
;---------------------------------------------------------------------------
;Starburst Stream - Slash 1
[Statedef 3330]
physics  = N
anim = ifElse(root,animelemtime(43)>=0,3350,ifElse(root,animelemtime(29)>=0,3340,3330))
ctrl = 0
velset=0,0
sprpriority=10

[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=24,0&&Root,StateNo=3300&&root,animelemtime(29)<0
value = 3330
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=16,0&&Root,StateNo=3300&&root,animelemtime(29)>=0&&root,animelemtime(43)<0
value = 3340
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=8,0&&Root,StateNo=3300&&root,animelemtime(43)>=0
value = 3350

[State 3330, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3330, Scale]
type = AngleDraw
trigger1 = 1
scale = 1.5,2
[State 3330, Rotate]
type = AngleSet
trigger1 = !Time
value = -20

[State 3330, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -25,40
ignorehitpause =1
[State 3330, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3330, Destroyself]
type = destroyself
trigger1 =(root,stateno!=[3300,3310])
trigger2 =root,Movetype=H
trigger3 =root,stateno=3310&&!animtime
;---------------------------------------------------------------------------
;Starburst Stream - Slash 2
[Statedef 3331]
physics  = N
anim = ifElse(root,animelemtime(43)>=0,3351,ifElse(root,animelemtime(29)>=0,3341,3331))
ctrl = 0
velset=0,0
sprpriority=10

[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=24,0&&Root,StateNo=3300&&root,animelemtime(29)<0
value = 3331
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=16,0&&Root,StateNo=3300&&root,animelemtime(29)>=0&&root,animelemtime(43)<0
value = 3341
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=8,0&&Root,StateNo=3300&&root,animelemtime(43)>=0
value = 3351

[State 3330, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3330, Scale]
type = AngleDraw
trigger1 = 1
scale = 1.75,1
[State 3330, Rotate]
type = AngleSet
trigger1 = !Time
value = 20

[State 3330, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 109,-145
ignorehitpause =1
[State 3330, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3330, Destroyself]
type = destroyself
trigger1 =(root,stateno!=[3300,3310])
trigger2 =root,Movetype=H
trigger3 =root,stateno=3310&&!animtime
;---------------------------------------------------------------------------
;Starburst Stream - Slash 3
[Statedef 3332]
physics  = N
anim = ifElse(root,animelemtime(43)>=0,3352,ifElse(root,animelemtime(29)>=0,3342,3332))
ctrl = 0
velset=0,0
sprpriority=10

[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=24,0&&Root,StateNo=3300&&root,animelemtime(29)<0
value = 3332
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=16,0&&Root,StateNo=3300&&root,animelemtime(29)>=0&&root,animelemtime(43)<0
value = 3342
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=8,0&&Root,StateNo=3300&&root,animelemtime(43)>=0
value = 3352

[State 3330, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3330, Scale]
type = AngleDraw
trigger1 = 1
scale = 2.2,1
[State 3330, Rotate]
type = AngleSet
trigger1 = !Time
value = 35

[State 3330, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 190,-180
ignorehitpause =1
[State 3330, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3330, Destroyself]
type = destroyself
trigger1 =(root,stateno!=[3300,3310])
trigger2 =root,Movetype=H
trigger3 =root,stateno=3310&&!animtime
;---------------------------------------------------------------------------
;Starburst Stream - Slash 4
[Statedef 3333]
physics  = N
anim = ifElse(root,animelemtime(43)>=0,3353,ifElse(root,animelemtime(29)>=0,3343,3333))
ctrl = 0
velset=0,0
sprpriority=10

[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=24,0&&Root,StateNo=3300&&root,animelemtime(29)<0
value = 3333
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=16,0&&Root,StateNo=3300&&root,animelemtime(29)>=0&&root,animelemtime(43)<0
value = 3343
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=8,0&&Root,StateNo=3300&&root,animelemtime(43)>=0
value = 3353

[State 3330, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3330, Scale]
type = AngleDraw
trigger1 = 1
scale = 1.25,1.25
[State 3330, Rotate]
type = AngleSet
trigger1 = !Time
value = 10

[State 3330, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 35,30
ignorehitpause =1
[State 3330, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3330, Destroyself]
type = destroyself
trigger1 =(root,stateno!=[3300,3310])
trigger2 =root,Movetype=H
trigger3 =root,stateno=3310&&!animtime
;---------------------------------------------------------------------------
;Starburst Stream - Slash 5
[Statedef 3334]
physics  = N
anim = ifElse(root,animelemtime(43)>=0,3354,ifElse(root,animelemtime(29)>=0,3344,3334))
ctrl = 0
velset=0,0
sprpriority=10

[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=24,0&&Root,StateNo=3300&&root,animelemtime(29)<0
value = 3334
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=16,0&&Root,StateNo=3300&&root,animelemtime(29)>=0&&root,animelemtime(43)<0
value = 3344
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=8,0&&Root,StateNo=3300&&root,animelemtime(43)>=0
value = 3354

[State 3330, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3330, Scale]
type = AngleDraw
trigger1 = 1
scale = .75,1.25
[State 3330, Rotate]
type = AngleSet
trigger1 = !Time
value = 30

[State 3330, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 35,-25
ignorehitpause =1
[State 3330, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3330, Destroyself]
type = destroyself
trigger1 =(root,stateno!=[3300,3310])
trigger2 =root,Movetype=H
trigger3 =root,stateno=3310&&!animtime
;---------------------------------------------------------------------------
;Starburst Stream - Slash 6
[Statedef 3335]
physics  = N
anim = ifElse(root,animelemtime(43)>=0,3355,ifElse(root,animelemtime(29)>=0,3345,3335))
ctrl = 0
velset=0,0
sprpriority=10

[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=24,0&&Root,StateNo=3300&&root,animelemtime(29)<0
value = 3335
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=16,0&&Root,StateNo=3300&&root,animelemtime(29)>=0&&root,animelemtime(43)<0
value = 3345
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=8,0&&Root,StateNo=3300&&root,animelemtime(43)>=0
value = 3355

[State 3330, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3330, Scale]
type = AngleDraw
trigger1 = 1
scale = .75,1.25
[State 3330, Rotate]
type = AngleSet
trigger1 = !Time
value = -70

[State 3330, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 125,-135
ignorehitpause =1
[State 3330, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3330, Destroyself]
type = destroyself
trigger1 =(root,stateno!=[3300,3310])
trigger2 =root,Movetype=H
trigger3 =root,stateno=3310&&!animtime
;---------------------------------------------------------------------------
;Starburst Stream - 2nd Slash 1
[Statedef 3360]
physics  = N
anim = 3360
ctrl = 0
velset=0,0
sprpriority=10

[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=60,0&&Root,StateNo=3300&&root,animelemtime(29)<0
value = 3360
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=40,0&&Root,StateNo=3300&&root,animelemtime(29)>=0&&root,animelemtime(43)<0
value = 3361
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=20,0&&Root,StateNo=3300&&root,animelemtime(43)>=0
value = 3361

[State 3360, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3360, Scale]
type = AngleDraw
trigger1 = 1
scale = 2.7,3.5
[State 3360, Rotate]
type = AngleSet
trigger1 = !Time
value = 125

[State 3360, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(-211 * const(size.xScale)), ceil(28 * const(size.yScale))
ignorehitpause =1
[State 3360, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3360, Destroyself]
type = destroyself
trigger1 =root,stateno!=3300&&root,stateno!=3310
trigger2 =root,Movetype=H
trigger3 =root,stateno=3310&&!animtime
;---------------------------------------------------------------------------
;Starburst Stream - 2nd Slash 2
[Statedef 3361]
physics  = N
anim = 3360
ctrl = 0
velset=0,0
sprpriority=10

[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=60,0&&Root,StateNo=3300&&root,animelemtime(29)<0
value = 3360
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=40,0&&Root,StateNo=3300&&root,animelemtime(29)>=0&&root,animelemtime(43)<0
value = 3361
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=20,0&&Root,StateNo=3300&&root,animelemtime(43)>=0
value = 3361

[State 3360, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3360, Scale]
type = AngleDraw
trigger1 = 1
scale = 2.7,3.5
[State 3360, Rotate]
type = AngleSet
trigger1 = !Time
value = -35

[State 3360, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(597 * const(size.xScale)), ceil(-600 * const(size.yScale))
ignorehitpause =1
[State 3360, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3360, Destroyself]
type = destroyself
trigger1 =root,stateno!=3300&&root,stateno!=3310
trigger2 =root,Movetype=H
trigger3 =root,stateno=3310&&!animtime
;---------------------------------------------------------------------------
;Starburst Stream - 2nd Slash 3
[Statedef 3362]
physics  = N
anim = 3360
ctrl = 0
velset=0,0
sprpriority=10

[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=60,0&&Root,StateNo=3300&&root,animelemtime(29)<0
value = 3360
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=40,0&&Root,StateNo=3300&&root,animelemtime(29)>=0&&root,animelemtime(43)<0
value = 3361
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=20,0&&Root,StateNo=3300&&root,animelemtime(43)>=0
value = 3361

[State 3360, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3360, Scale]
type = AngleDraw
trigger1 = 1
scale = 2.7,3.5
[State 3360, Rotate]
type = AngleSet
trigger1 = !Time
value = -140

[State 3360, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(728 * const(size.xScale)), ceil(-234 * const(size.yScale))
ignorehitpause =1
[State 3360, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3360, Destroyself]
type = destroyself
trigger1 =root,stateno!=3300&&root,stateno!=3310
trigger2 =root,Movetype=H
trigger3 =root,stateno=3310&&!animtime
;---------------------------------------------------------------------------
;Starburst Stream - 2nd Slash 4
[Statedef 3363]
physics  = N
anim = 3360
ctrl = 0
velset=0,0
sprpriority=10

[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=60,0&&Root,StateNo=3300&&root,animelemtime(29)<0
value = 3360
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=40,0&&Root,StateNo=3300&&root,animelemtime(29)>=0&&root,animelemtime(43)<0
value = 3361
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=20,0&&Root,StateNo=3300&&root,animelemtime(43)>=0
value = 3361

[State 3360, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3360, Scale]
type = AngleDraw
trigger1 = 1
scale = 2.7,3.5
[State 3360, Rotate]
type = AngleSet
trigger1 = !Time
value = 60

[State 3360, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(-267 * const(size.xScale)), ceil(-598 * const(size.yScale))
ignorehitpause =1
[State 3360, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3360, Destroyself]
type = destroyself
trigger1 =root,stateno!=3300&&root,stateno!=3310
trigger2 =root,Movetype=H
trigger3 =root,stateno=3310&&!animtime
;---------------------------------------------------------------------------
;Starburst Stream - 2nd Slash 5
[Statedef 3364]
physics  = N
anim = 3360
ctrl = 0
velset=0,0
sprpriority=10

[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=60,0&&Root,StateNo=3300&&root,animelemtime(29)<0
value = 3360
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=40,0&&Root,StateNo=3300&&root,animelemtime(29)>=0&&root,animelemtime(43)<0
value = 3361
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=20,0&&Root,StateNo=3300&&root,animelemtime(43)>=0
value = 3361

[State 3360, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3360, Scale]
type = AngleDraw
trigger1 = 1
scale = 2.7,3.5
[State 3360, Rotate]
type = AngleSet
trigger1 = !Time
value = -130

[State 3360, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(627 * const(size.xScale)), ceil(29 * const(size.yScale))
ignorehitpause =1
[State 3360, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3360, Destroyself]
type = destroyself
trigger1 =root,stateno!=3300&&root,stateno!=3310
trigger2 =root,Movetype=H
trigger3 =root,stateno=3310&&!animtime
;---------------------------------------------------------------------------
;Starburst Stream - 2nd Slash 6
[Statedef 3365]
physics  = N
anim = 3360
ctrl = 0
velset=0,0
sprpriority=10

[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=60,0&&Root,StateNo=3300&&root,animelemtime(29)<0
value = 3360
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=40,0&&Root,StateNo=3300&&root,animelemtime(29)>=0&&root,animelemtime(43)<0
value = 3361
[State 3330, ChangeAnim]
type = ChangeAnim
trigger1 = TimeMod=20,0&&Root,StateNo=3300&&root,animelemtime(43)>=0
value = 3361

[State 3360, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3360, Scale]
type = AngleDraw
trigger1 = 1
scale = 2.7,3.5
[State 3360, Rotate]
type = AngleSet
trigger1 = !Time
value = -70

[State 3360, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(722 * const(size.xScale)), ceil(-269 * const(size.yScale))
ignorehitpause =1
[State 3360, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3360, Destroyself]
type = destroyself
trigger1 =root,stateno!=3300&&root,stateno!=3310
trigger2 =root,Movetype=H
trigger3 =root,stateno=3310&&!animtime
;---------------------------------------------------------------------------
;Starburst Stream - Final Slash 1
[Statedef 3370]
physics  = N
anim = 3370
ctrl = 0
velset=0,0
sprpriority=10

[State 3370, ChangeAnim]
type = ChangeAnim
trigger1 = root,animelemtime(5)=1
value = 3380
persistent=0

[State 3370, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3370, Scale]
type = AngleDraw
trigger1 = 1
scale =2.5,2.25
[State 3370, Rotate]
type = AngleSet
trigger1 = !Time
value = 30

[State 3370, BindToRoot]
type = BindToRoot
trigger1 =!time
pos = 255,-135
ignorehitpause =1
[State 3370, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3330, Destroyself]
type = destroyself
trigger1 =root,stateno!=3310
trigger2 =root,Movetype=H
trigger3 =anim=3380&&!animtime
;---------------------------------------------------------------------------
;Starburst Stream - Final Slash 2
[Statedef 3371]
physics  = N
anim = 3371
ctrl = 0
velset=0,0
sprpriority=10

[State 3370, ChangeAnim]
type = ChangeAnim
trigger1 = root,animelemtime(5)=1
value = 3381
persistent=0

[State 3370, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 3370, Scale]
type = AngleDraw
trigger1 = 1
scale =1,2
[State 3370, Rotate]
type = AngleSet
trigger1 = !Time
value = -99

[State 3370, BindToRoot]
type = BindToRoot
trigger1 =!time
pos = 225,-105
ignorehitpause =1
[State 3370, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3330, Destroyself]
type = destroyself
trigger1 =root,stateno!=3310
trigger2 =root,Movetype=H
trigger3 =anim=3381&&!animtime
;---------------------------------------------------------------------------
;The Eclipse Afterimage
[Statedef 3430]
physics  = N
ctrl = 0
velset=0,0
sprpriority=2

[State 3430, Anim]
type=changeanim
trigger1 = !time&&ishelper(3430)
value=3430
ignorehitpause=1
[State 3430, Anim]
type=changeanim
trigger1 = !time&&ishelper(3431)
value=3431
ignorehitpause=1
[State 3430, Anim]
type=changeanim
trigger1 = !time&&ishelper(3432)
value=3432
ignorehitpause=1
[State 3430, Anim]
type=changeanim
trigger1 = !time&&ishelper(3433)
value=3433
ignorehitpause=1
[State 3430, Anim]
type=changeanim
trigger1 = !time&&ishelper(3434)
value=3434
ignorehitpause=1
[State 3430, Anim]
type=changeanim
trigger1 = !time&&ishelper(3435)
value=3435
ignorehitpause=1
[State 3430, Anim]
type=changeanim
trigger1 = !time&&ishelper(3436)
value=3436
ignorehitpause=1
[State 3430, Anim]
type=changeanim
trigger1 = !time&&ishelper(3437)
value=3437
ignorehitpause=1
[State 3430, Anim]
type=changeanim
trigger1 = !time&&ishelper(3438)
value=3438
ignorehitpause=1
[State 3430, Anim]
type=changeanim
trigger1 = !time&&ishelper(3439)
value=3439
ignorehitpause=1
[State 3430, Anim]
type=changeanim
trigger1 = !time&&ishelper(3440)
value=3440
ignorehitpause=1
[State 3430, Anim]
type=changeanim
trigger1 = !time&&ishelper(3441)
value=3441
ignorehitpause=1

[State 3430, Trans]
type = Trans
trigger1 =1
trans = AddAlpha
alpha = 256-(36*time),0+(36*time)
ignorehitpause =1

[State 3430, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3430, Destroyself]
type = destroyself
trigger1 =time>=8
;---------------------------------------------------------------------------
;The Eclipse Finish FX
[Statedef 3445]
physics  = N
anim = 1122
ctrl = 0
velset=0,0
sprpriority=4

[State 1100, Trans]
type = Trans
trigger1 =time<19
trans = add
ignorehitpause =1

[State 1100, Trans]
type = Trans
trigger1 =time>=19
trans = addalpha
alpha = 256-(24*(time-19)),256
ignorehitpause =1

[State 1120, Scale]
type = AngleDraw
trigger1 = 1
scale = 1.15,.95

[State 1120, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 60,3
ignorehitpause =1
[State 1120, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1120, Destroyself]
type = destroyself
trigger1 =root,stateno!=3422
trigger2 =root,Movetype=H
trigger3 =time>=30
;---------------------------------------------------------------------------
;The Eclipse Finish FX
[Statedef 3446]
physics  = N
anim = 1123
ctrl = 0
velset=0,0
sprpriority=4

[State 1100, Trans]
type = Trans
trigger1 =time<19
trans = add
ignorehitpause =1

[State 1100, Trans]
type = Trans
trigger1 =time>=19
trans = addalpha
alpha = 256-(24*(time-19)),256
ignorehitpause =1

[State 1120, Scale]
type = AngleDraw
trigger1 = 1
scale = 3.5,.35

[State 1120, BindToRoot]
type = BindToRoot
trigger1 =1
pos = 60,3
ignorehitpause =1
[State 1120, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1120, Destroyself]
type = destroyself
trigger1 =root,stateno!=3422
trigger2 =root,Movetype=H
trigger3 =time>=30
;---------------------------------------------------------------------------
;The Eclipse FX
[Statedef 3450]
physics  = N
anim = 3450
ctrl = 0
velset=0,0
sprpriority=10

[State 3450, Trans]
type = Trans
trigger1 =time<2
trans = add
ignorehitpause =1

[State 3450, Trans]
type = Trans
trigger1 =time>=2
trans = addalpha
alpha = 256-(24*(time-2)),256
ignorehitpause =1

[State 3450, Scale]
type = AngleDraw
trigger1 = 1
scale = .55,1.15

[State 3450, Rotate]
type = AngleSet
trigger1 = !Time&&Root,StateNo!=3421
value = random%360

[State 3450, Rotate]
type = AngleSet
trigger1 = !Time&&Root,StateNo=3421
value = -131

[State 3450, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3450, Destroyself]
type = destroyself
trigger1 =(root,stateno!=[3410,3422])
trigger2 =root,Movetype=H
trigger3 =time>=17
;-------------------------------------------------------------------------------
[Statedef 3480]
physics=N
anim=3480
Sprpriority=-99999

[State 3480, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1
[State 3480, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-GameHeight / GameWidth)
y =ceil(pos y-GameHeight / GameWidth)
ignorehitpause=1
[State 3480, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
[State 3480, AssertSpecial]
type = AssertSpecial
trigger1 = 1
Flag = noFG
ignorehitpause =1
[State 3480, AssertSpecial]
type = AssertSpecial
triggerall = root,var(58)=0
trigger1 = 1
Flag = nobardisplay
ignorehitpause =1

[State 3480, end]
type=destroyself
trigger1 = root,MoveType = H
[State 3480, ChangeState]
type = ChangeState
trigger1 =root,stateno=3311
trigger2 =root,stateno=3422&&root,animelemtime(9)>=30
trigger3 =(root,stateno=3800&&root,animelemtime(3)>=0)
trigger4 =(root,stateno=3801&&root,animelemtime(2)>=0)
trigger5 =(root,stateno=3810&&root,animelemtime(47)>=0)
trigger6 = (Root,StateNo !=[3300,3310]) && Root,StateNo != 3400 && (Root,StateNo !=[3410,3422]) && Root,StateNo != 3800 && (Root,StateNo !=[3810,3814])
value =3481
;-------------------------------------------------------------------------------
[Statedef 3481]
physics=N

[State 3481, Assert]
type=trans
trigger1=1
trans=addalpha
alpha=256-8*time, 0+8*time
ignorehitpause=1
[State 3481, ScreenBound]
type = ScreenBound
trigger1 =1
value = 1
[State 0, PosSet]
type = PosSet
trigger1 =1
x =ceil(pos x-GameHeight / GameWidth)
y =ceil(pos y-GameHeight / GameWidth)
ignorehitpause=1
[State 3481, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
[State 3481, end]
type=destroyself
trigger1 =time>=32
;---------------------------------------------------------------------
;Line
[Statedef 3490]
physics=N
anim=3490
ctrl=0
velset=Ifelse(root,facing=1,2+random%8,-2-random%8), 0
sprpriority=-4+random%6

[State 3490, PosSet]
type = PosSet
trigger1 =1
x =floor(pos x-GameWidth)+random/2
y =ceil(pos y-GameHeight)+random/2

[State 3490, VarRandom]
type = VarRandom
trigger1 =!time
v =41
range = 0,8
ignorehitpause =1

[State 3490, AngleDraw]
type = AngleDraw
trigger1 =var(41)
scale = .5+Ifelse(var(41)>=7,.25,Ifelse((var(41)=[3,5]),.125,Ifelse((var(41)=[1,2]),.1,.35))),.75+Ifelse(var(41)>=7,.25,Ifelse((var(41)=[3,5]),.125,Ifelse((var(41)=[1,2]),.1,.35)))
ignorehitpause =1

[State 3490, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
[State 3490, Assert]
type=trans
trigger1=1
trans=addalpha
alpha=256-32*var(41), 256
ignorehitpause=1

[State 3490, End]
type=destroyself
trigger1=root,Movetype=H
trigger2=time>=14
trigger3 =(root,stateno!=[3300,3310])&&(root,stateno!=[3410,3422])
;---------------------------------------------------------------------
;Line - Test Code
[Statedef 3491]
physics=N
anim=9999
ctrl=0
velset=0, 0
sprpriority=-4+random%6

[State 3490, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3490, VarRandom]
type = VarRandom
trigger1 = 1
v =41
range = 0,8
ignorehitpause =1

[State 3490, line]
type = explod
trigger1 =NumHelper(3480)
trigger1 =Helper(3480),StateNo = 3480
id = 3491
vel = 0, 0
accel = 0, 0
anim = 3491
sprpriority = -4
postype = back
pos = 160, 120
random = 320, 240
facing = 1
vfacing = 1
scale = .5+Ifelse(var(41)>=7,.25,Ifelse((var(41)=[3,5]),.125,Ifelse((var(41)=[1,2]),.1,.35))),.75+Ifelse(var(41)>=7,.25,Ifelse((var(41)=[3,5]),.125,Ifelse((var(41)=[1,2]),.1,.35)))
ownpal = 1
removetime = -2
supermovetime = -1
pausemovetime = -1
ignorehitpause = 1

[State 3490, ModifyExplod]
type=modifyexplod
trigger1=numexplod(3491)
id=3491
postype=back
pos=ceil(320*1.0),ceil(240*1.0)
random=ceil(640*1.0),ceil(480*1.0)
scale = .5+Ifelse(var(41)>=7,.25,Ifelse((var(41)=[3,5]),.125,Ifelse((var(41)=[1,2]),.1,.35))),.75+Ifelse(var(41)>=7,.25,Ifelse((var(41)=[3,5]),.125,Ifelse((var(41)=[1,2]),.1,.35)))
ignorehitpause=1

[State 3490, RemoveExplod]
type=removeexplod
trigger1 = !NumHelper(3480)
id = 3491

[State 3490, End]
type=destroyself
triggerall = !NumExplod(3491)
trigger1 =!NumHelper(3480)
trigger2 =NumHelper(3480)
trigger2 =Helper(3480),StateNo = 3481
;---------------------------------------------------------------------
;Crossing Wave Projectile
[Statedef 3505]
type=A
physics=N
movetype=A
anim=3505
ctrl=0
velset=0,0
sprpriority=4

[State 3505, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1

[State 3505, countvar]
type = varadd
trigger1 = !time
var(2) = 1

[State 3505, hitoverride]
type=hitoverride
trigger1= 1
time=-1
attr=SCA,AA,AP,AT
stateno=ifelse(var(2)<(ifelse(ishelper(3555),8,5)),3505,3506)
ignorehitpause=1


[State 3505, Scale]
type = AngleDraw
trigger1 = 1
scale = 1, 1
ignorehitpause = 1

[State 3505, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 3505, Angle]
type=AngleSet
trigger1= 1
value = 0
ignorehitpause=1

[State 3505, hitby]
type=hitby
trigger1= 1
time=-1
value=SCA,NP,SP,HP
ignorehitpause=1

[State 3505,EX SHADOW FX]
type=afterimage
trigger1=time=0&&var(2)<2&&!prevstateno
time=999
TimeGap =1
FrameGap=1
length=8
PalBright=1,1,1
PalContrast=256,256,256
PalAdd=0,0,0
PalMul=.625,.625,.625
trans=add

[State 3505, timevar]
type = varadd
trigger1 = time && var(1) < 60
var(1) = 1

[State 3505, strengthvar]
type=varset
trigger1= !time&&prevstateno!=3505
var(10)=root,var(10)

[State 3505, attackmulset]
type=varset
trigger1= prevstateno!=3505
fvar(10)=root,fvar(10)


[State 3505, Vel]
type=velset
trigger1=1
x=ifElse((Time < 2 && var(2) > 1), 1, 10)
;y=ifElse((Time < 2 && var(2) >= 1), 1, 7.5)



[State 3505, movehitvar]
type=varset
trigger1= movecontact && numtarget
trigger1= !(target,ishelper)
var(3)=1
ignorehitpause=1

[State 1505, Counter Flag]
type=varset
trigger1= numenemy
trigger1= movecontact!=1
var(9)= (enemynear,movetype=A)


[State 1505, VarAdd]
type=VarAdd
trigger1 =!time
var(11)=1



[State 1505, hitsnd]
type = PlaySnd
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
value = ifElse(MoveGuarded, 130, 2), ifElse(MoveGuarded, 1, 15)
channel = 2
persistent = 0
ignorehitPause = 1


[State 1505, High]
type=hitdef
trigger1=!var(12)
priority=4, Hit
attr=S, HP
damage=floor((ifelse(ishelper(3555),38,40))*root,fvar(10)),ifelse(ishelper(3555),3,4)
animtype=Hard
hitflag=MAF
guardflag=MA
pausetime=4 * (var(2) < (ifelse(ishelper(3555),8,5))),12
sparkNo=-1
;guardsound = s130,1
guard.sparkNo=-1
sparkXY=-1,0
ground.type=High
ground.slidetime=18
ground.hittime=18
guard.hittime=14
air.hittime = 32
ground.velocity=Ifelse(root,var(20),-5,-6), ifelse((root,var(20)),0,0-2*(var(10)=3))
ground.cornerpush.veloff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
airGuard.cornerPush.velOff = 0
air.velocity=-6, -2
fall=1*(var(10)=3)
air.fall=1
fall.recover=0
getpower=0, 0
givepower=18, 18
envshake.time=10
envshake.ampl=5
p1sprpriority=5
yaccel=Ifelse(root,var(20),.35,.5)
airguard.ctrltime=12
airguard.velocity=ifelse((root,var(20)),-4,-8),4.5
forcestand=1
id = 3505


[State 3505, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(target, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8015)
ID=8000
name="Spark"
pos = ifElse(P2Dist x < -50, -50, ifElse(P2Dist x < 2, ceil(P2Dist x), 2)), ifElse(P2Dist y > 0, 0, ifElse(P2Dist y > -35, ceil(P2Dist y), -35))
facing=-1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 3505, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=(target, movetype=H) && !(target, time)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P1
pos=ifElse(P2Dist x < -50, -50, ifElse(P2Dist x < 2, ceil(P2Dist x), 2)), ifElse(P2Dist y > 0, 0, ifElse(P2Dist y > -35, ceil(P2Dist y), -35))
ownPal=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 3505, HitCount]
type=null;ParentVarAdd
trigger1=Movehit=1 && NumTarget && !var(13)
var(13)=1
ignorehitpause = 1
persistent=0
[State 3505, Juggle]
type=parentvaradd
trigger1= movecontact=1 && numtarget && !var(13)
var(15)=1
ignorehitpause = 1
persistent=0
[State 1505, HitCount]
type=VarSet
trigger1=Movehit=1 && NumTarget
var(13)=1
ignorehitpause = 1
persistent=0
[State 3505, ProjContact]
type=VarSet
trigger1=MoveContact=1 && NumTarget
var(18)=1
ignorehitpause = 1
persistent=0
[State 3505, ProjContact]
type=ParentVarSet
trigger1=MoveContact=1 && NumTarget
trigger1=(Root,StateNo=[3500,3550])
var(18)=1
ignorehitpause = 1
persistent=0

[State 3505, End]
type = changestate
trigger1 = FrontEdgeDist <= -70
value = 3507
ignorehitpause = 1

[State 3505, end]
type=changestate
trigger1= MoveContact = 1 || MoveReversed
value=ifelse(var(2)<(ifelse(ishelper(3555),8,5)),3505,3506)
ignorehitpause=1

;-------------------------------------------------------------------------------
;Wave Projectile Finish
[Statedef 3506]
type=A
physics=N
movetype=I
anim=3506
ctrl=0
sprpriority=5
velset=0,0

[State 1506, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 1506, vel]
type=velmul
trigger1= 1
x=.85

[State 1506, Assert]
type=trans
trigger1=1
trans=add
ignorehitpause=1

[State 1506, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,1
ignorehitpause=1

[State 1506, Angle]
type=AngleSet
trigger1= 1
value = 0
ignorehitpause=1

[State 1506]
type = AssertSpecial
trigger1=1
flag =noshadow
ignorehitpause=1
persistent=1

  
[State 1506, 2]
type = sprpriority
trigger1 = Time = 0
value = 5


[State 1506,EX SHADOW FX]
type=afterimage
trigger1=time=0
time=0
TimeGap =1
FrameGap=3
length=8
PalBright=1,1,1
PalContrast=150,150,150
PalAdd=0,0,0
PalMul=.5,.5,.5
trans=add

  
[State 1506, End]
type = ChangeState
trigger1=AnimTime=0
value=3508
;-------------------------------------------------------------------------------------
;Wave Projectile Finish
[Statedef 3507]
type=A
physics=N
movetype=I
anim=3507
ctrl=0
sprpriority=5
movehitpersist = 1

[State 1507, vel]
type=velmul
trigger1= 1
x=.85
y=.85

[State 1507, Assert]
type=trans
trigger1=1
trans=addalpha
alpha=128-(20*time), 256
ignorehitpause=1

[State 1507, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,1
ignorehitpause=1

[State 1507, Angle]
type=AngleSet
trigger1= 1
value = 0
ignorehitpause=1

[State 1507, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 1507]
type = AssertSpecial
trigger1=1
flag =noshadow
ignorehitpause=1
persistent=1

  
[State 1507, 2]
type = sprpriority
trigger1 = Time = 0
value = 5

[State 1507,EX SHADOW FX]
type=afterimage
trigger1=time=0
time=0
TimeGap =1
FrameGap=3
length=8
PalBright=1,1,1
PalContrast=150,150,150
PalAdd=0,0,0
PalMul=.5,.5,.5
trans=add
  
[State 1507, DestroySelf]
type = DestroySelf
trigger1=time>=6



;Wait
[StateDef 3508]
type = A
physics = N
moveType = I
anim = 9999
ctrl = 0
velSet = 0,0

[State 1508, End]
type = DestroySelf
trigger1 = !NumTarget
trigger2 = NumTarget
trigger2 = Target, Time <= 1 && !(Target,HitShakeOver)
;---------------------------------------------------------------------------
;AA - Spinning Shield FX
[Statedef 3665]
physics  = N
anim = 1320
ctrl = 0
velset=0,0
sprpriority=1

[State 1300, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 1300, Scale]
type = AngleDraw
trigger1 = 1
scale = .75,2

[State 1300, Rotate]
type = AngleSet
trigger1 = !Time
value = 10

[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=26
value=1321
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=27
value=1322
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=28
value=1323
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=29
value=1324
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=30
value=1325
ignorehitpause=1
[State 1300, AnimElem]
type=changeanim
trigger1 = root,animelem=31
value=1326
ignorehitpause=1

[State 1300, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(121 * const(size.xScale)), ceil(-286 * const(size.yScale))
ignorehitpause =1
[State 1300, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 1300, Destroyself]
type = destroyself
trigger1 =root,stateno!=3610&&root,stateno!=3660
trigger2 =root,Movetype=H
trigger3 =root,animelemtime(29)>=0
trigger4 =root,animelemtime(2)<0
;---------------------------------------------------------------------------
;Lightning Fall FX
[Statedef 3750]
physics  = N
anim = 3750
ctrl = 0
velset=0,0
sprpriority=10

[State 3750, Snd]
type = PlaySnd
trigger1 = !Time
value = 3701, 0
channel = 10
volumescale = 75

[State 3750, Snd]
type = PlaySnd
trigger1 = !Time
value = 3701, 1
channel = 11
volumescale = 100

[State 3750, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo = 3710
pos = ceil(71 * root,const(size.xScale)), ceil(200 * root,const(size.yScale))
ignorehitpause =1

[State 3750, BindToRoot]
type = ChangeAnim
trigger1 =Root,StateNo = 3711 && Anim != 3751
value = 3751
ignorehitpause =1

[State 3750, Explod]
type = Explod
trigger1 = Anim = 3750
anim = 3755
id = 3755
sprPriority = 15
posType = P1
pos = 0,-20
scale = 0.5,0.3
pauseMoveTime = 0
superMoveTime = 0
ownPal = 1
;facing = ifelse(random<500,1,-1)
;vfacing = ifelse(random<500,1,-1)
persistent = 12

[State 3750, Assert]
type = AssertSpecial
Trigger1 = 1
;flag2 = invisible
flag = noshadow
ignorehitpause =1

[State -2, StopSnd]
type = StopSnd
trigger1 =(root,stateno!=[3710,3799]) && anim = 3750
trigger2 =root,Movetype=H && anim = 3750
trigger3 =anim = 3751 && (root,stateno = 3710)
channel = 10
[State -2, StopSnd]
type = StopSnd
trigger1 =(root,stateno!=[3710,3799]) && anim = 3750
trigger2 =root,Movetype=H && anim = 3750
trigger3 =anim = 3751 && (root,stateno = 3710)
channel = 11
[State -2, StopSnd]
type = RemoveExplod
trigger1 =(root,stateno!=[3710,3799]) && anim = 3750
trigger2 =root,Movetype=H && anim = 3750
trigger3 =anim = 3751 && (root,stateno = 3710)
id = 3755
[State 3750, Destroyself]
type = destroyself
trigger1 =(root,stateno!=[3710,3799]) && anim = 3750
trigger2 =root,Movetype=H && anim = 3750
trigger3 =anim = 3751 && (!animtime | root,stateno = 3710)
;---------------------------------------------------------------------------
;LSS FX
[Statedef 3850]
physics  = N
anim = 3850
ctrl = 0
velset=0,0
sprpriority=4

[State 3470, Trans]
type = Trans
trigger1 =1
trans = add
ignorehitpause =1

[State 3470, Scale]
type = AngleDraw
trigger1 = ishelper(3850)|ishelper(3851)
scale = 2.75*(30+(time*2)),2.75*(1.6-(time*0.15))
[State 3470, Scale]
type = AngleDraw
trigger1 = ishelper(3852)|ishelper(3853)
scale = 3*(30+(time*1)),3*(1.6-(time*0.075))

[State 3470, Rotate]
type = AngleSet
trigger1 = !Time
trigger1 = ishelper(3850)
value = random%360
[State 3470, Rotate]
type = AngleSet
trigger1 = !Time
trigger1 = ishelper(3851)
value = 0
[State 3470, Rotate]
type = AngleSet
trigger1 = !Time
trigger1 = ishelper(3852)
value = 22
[State 3470, Rotate]
type = AngleSet
trigger1 = !Time
trigger1 = ishelper(3853)
value = -22
[State 3470, BindToRoot]
type = BindToRoot
trigger1 =!time
trigger1 =ishelper(3851)
pos = ceil(333 * root,const(size.xScale)), ceil(-193 * root,const(size.yScale))
ignorehitpause =1
[State 3470, BindToRoot]
type = BindToRoot
trigger1 =!time
trigger1 =ishelper(3852)|ishelper(3853)
pos = ceil(130 * root,const(size.xScale)), ceil(-180 * root,const(size.yScale))
ignorehitpause =1

[State 3470, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 3470, Destroyself]
type = destroyself
trigger1 =root,stateno!=3810
trigger2 =root,Movetype=H
trigger3 =time>=12&&(ishelper(3850)|ishelper(3851))
trigger4 =time>=22&&(ishelper(3852)|ishelper(3853))
;---------------------------------------------------------------------------
;CAMERA FOCUS
[Statedef 6001]
type = S
physics  = S
anim = 0
ctrl = 0

[state 6001,TURN]
type=turn
trigger1=ishelper(6001)
trigger1=facing!=root,facing
ignorehitpause=1

[State 6001,vel]
type = VelSet
trigger1 = parent,pos X > 0
x = ifelse(facing = 1,4,-4)
[State 6001,vel]
type = VelSet
trigger1 = parent,pos X < 0
x = ifelse(facing = 1,-4,4)
[State 6001,vel]
type = VelSet
trigger1 = parent,pos X = [-5,5]
x = 0

[State 6001, WIDTH]
type = Width
trigger1 = 1
value = 1,1

[State 6001, NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 6001,AS]
type = AssertSpecial
Trigger1 = 1
flag = invisible
flag2 = noshadow

[State 6001,Bound]
type = ScreenBound
trigger1 =1
value =1
movecamera = 320,0
[State 6001,push]
type = PlayerPush
trigger1 =1
value = 0

[State 6001, Destroyself]
type = destroyself
trigger1 = Time = 50
trigger1 = enemy, Life >= 1
trigger2 = numhelper(6001)>=2
;---------------------------------------------------------------------------
;Elucidator FX - Blue
[Statedef 7000]
physics  = N
anim = 7000
ctrl = 0
velset=0,0
sprpriority=3

[State 7000, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(2)<0
scale = 1.5,.4
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(2)>=0&&Root,AnimElemTime(3)<0
scale = .75,.65
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(3)>=0&&Root,AnimElemTime(5)<0
scale = .85,.85
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(5)>=0&&Root,AnimElemTime(6)<0
scale = .95,.75
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(6)>=0&&Root,AnimElemTime(7)<0
scale = .95,.75
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(7)>=0&&Root,AnimElemTime(8)<0
scale = .95,.55
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(8)>=0&&Root,AnimElemTime(9)<0
scale = .85,.25
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(9)>=0&&Root,AnimElemTime(10)<0
scale = .55,.35
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(10)>=0&&Root,AnimElemTime(12)<0
scale = 1,.6
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(12)>=0&&Root,AnimElemTime(13)<0
scale = 1,.6
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(13)>=0&&Root,AnimElemTime(14)<0
scale = .85,.4
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(14)>=0&&Root,AnimElemTime(18)<0
scale = .95,.9

[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=1
value = 112
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=2
value = 100
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=3
value = 68
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=5
value = 50
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=6
value = -66
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=7
value = -50
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=8
value = -35
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=9
value = 80
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=10
value = -146
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=12
value = 115
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=13
value = 106
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=14
value = 76

[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(2)<0
pos = ceil(-39 * const(size.xScale)), ceil(-304 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(2)>=0&&Root,AnimElemTime(3)<0
pos = ceil(-3 * const(size.xScale)), ceil(-306 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(3)>=0&&Root,AnimElemTime(4)<0
pos = ceil(55 * const(size.xScale)), ceil(-225 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(4)>=0&&Root,AnimElemTime(5)<0
pos = ceil(58 * const(size.xScale)), ceil(-232 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(5)>=0&&Root,AnimElemTime(6)<0
pos = ceil(-16 * const(size.xScale)), ceil(-210 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(6)>=0&&Root,AnimElemTime(7)<0
pos = ceil(80 * const(size.xScale)), ceil(-339 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(7)>=0&&Root,AnimElemTime(8)<0
pos = ceil(-19 * const(size.xScale)), ceil(-320 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(8)>=0&&Root,AnimElemTime(9)<0
pos = ceil(-74 * const(size.xScale)), ceil(-285 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(9)>=0&&Root,AnimElemTime(10)<0
pos = ceil(-54 * const(size.xScale)), ceil(-295 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(10)>=0&&Root,AnimElemTime(11)<0
pos = ceil(174 * const(size.xScale)), ceil(-77 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(11)>=0&&Root,AnimElemTime(12)<0
pos = ceil(172 * const(size.xScale)), ceil(-77 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(12)>=0&&Root,AnimElemTime(13)<0
pos = ceil(7 * const(size.xScale)), ceil(-86 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(13)>=0&&Root,AnimElemTime(14)<0
pos = ceil(94 * const(size.xScale)), ceil(-125 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(14)>=0&&Root,AnimElemTime(18)<0
pos = ceil(-17 * const(size.xScale)), ceil(-226 * const(size.yScale))
ignorehitpause =1


[State 7000, Scale]
type = AngleDraw
trigger1 =Root,StateNo=1300||Root,StateNo=1350||Root,StateNo=3200||Root,StateNo=3250
scale = 1,.75

[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1300||Root,StateNo=1350||Root,StateNo=3200||Root,StateNo=3250
trigger1 =Root,AnimElem=1
value = -68
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1300||Root,StateNo=1350||Root,StateNo=3200||Root,StateNo=3250
trigger1 =Root,AnimElem=2
value = -72
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1300||Root,StateNo=1350||Root,StateNo=3200||Root,StateNo=3250
trigger1 =Root,AnimElem=3
value = -64

[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1300||Root,StateNo=1350||Root,StateNo=3200||Root,StateNo=3250
trigger1 =Root,AnimElemTime(3)<0
pos = ceil(-123 * const(size.xScale)), ceil(-242 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1300||Root,StateNo=1350||Root,StateNo=3200||Root,StateNo=3250
trigger1 =Root,AnimElemTime(3)>=0
pos = ceil(-130 * const(size.xScale)), ceil(-220 * const(size.yScale))
ignorehitpause =1


[State 7000, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 7000, Destroyself]
type = destroyself
trigger1 =root,stateno!=1000&&root,stateno!=1050&&root,stateno!=1300&&root,stateno!=1350
trigger1 =root,stateno!=3000&&root,stateno!=3050&&root,stateno!=3200&&root,stateno!=3250
trigger2 =root,Movetype=H
trigger3 =(root,stateno=1000||root,stateno=1050)&&root,animelemtime(18)>=0
trigger4 =(root,stateno=1300||root,stateno=1350||root,stateno=3200||root,stateno=3250)&&root,animelemtime(4)>=0
trigger5 =(root,stateno=3000)&&root,animelemtime(18)>=0
trigger6 =(root,stateno=3050)&&root,animelemtime(16)>=0
;---------------------------------------------------------------------------
;Elucidator FX - Red
[Statedef 7001]
physics  = N
anim = 7001
ctrl = 0
velset=0,0
sprpriority=3

[State 7000, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 7000, Scale]
type = AngleDraw
trigger1 = root,animelemtime(3)<0
scale = .9,.75
[State 7000, Scale]
type = AngleDraw
trigger1 = root,animelemtime(3)>=0&&root,animelemtime(4)<0
scale = .9,.5
[State 7000, Scale]
type = AngleDraw
trigger1 = root,animelemtime(4)>=0
scale = 1,1.25

[State 7000, Rotate]
type = AngleSet
trigger1 = !Time
value = 120
[State 7000, Rotate]
type = AngleSet
trigger1 = Root,AnimElem=2
value = 120
[State 7000, Rotate]
type = AngleSet
trigger1 = Root,AnimElem=3
value = 87
[State 7000, Rotate]
type = AngleSet
trigger1 = Root,AnimElem=4
value = -90

[State 7000, BindToRoot]
type = BindToRoot
trigger1 =root,animelemtime(3)<0
pos = ceil(-73 * const(size.xScale)), ceil(-248 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =root,animelemtime(3)>=0&&root,animelemtime(4)<0
pos = ceil(-63 * const(size.xScale)), ceil(-190 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =root,animelemtime(4)>=0
pos = ceil(225 * const(size.xScale)), ceil(-194 * const(size.yScale))
ignorehitpause =1
[State 7000, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 7000, Destroyself]
type = destroyself
trigger1 =root,stateno!=1200&&root,stateno!=1250&&root,stateno!=3100&&root,stateno!=3150
trigger2 =root,Movetype=H
;---------------------------------------------------------------------------
;Elucidator FX - Purple
[Statedef 7002]
physics  = N
anim = 7002
ctrl = 0
velset=0,0
sprpriority=3

[State 7000, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 7000, Scale]
type = AngleDraw
trigger1 =Root,StateNo=1400||Root,StateNo=1450
trigger1 =Root,AnimElemTime(4)<0
scale = 1,.75

[State 7000, Scale]
type = AngleDraw
trigger1 =Root,StateNo=1400||Root,StateNo=1450
trigger1 =Root,AnimElemTime(4)>=0
scale = 1,.2

[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1400||Root,StateNo=1450
trigger1 =Root,AnimElem=1
value = -68
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1400||Root,StateNo=1450
trigger1 =Root,AnimElem=2
value = -72
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1400||Root,StateNo=1450
trigger1 =Root,AnimElem=3
value = -64
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1400||Root,StateNo=1450
trigger1 =Root,AnimElem=4
value = -25

[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1400||Root,StateNo=1450
trigger1 =Root,AnimElemTime(3)<0
pos = ceil(-123 * const(size.xScale)), ceil(-242 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1400||Root,StateNo=1450
trigger1 =Root,AnimElemTime(3)>=0&&Root,AnimElemTime(4)<0
pos = ceil(-130 * const(size.xScale)), ceil(-220 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1400||Root,StateNo=1450
trigger1 =Root,AnimElemTime(4)>=0
pos = ceil(29 * const(size.xScale)), ceil(-333 * const(size.yScale))
ignorehitpause =1

[State 7000, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 7000, Destroyself]
type = destroyself
trigger1 =root,stateno!=1400&&root,stateno!=1450
trigger2 =root,Movetype=H
trigger3 =(root,stateno=1400||root,stateno=1450)&&root,animelemtime(6)>=0
;---------------------------------------------------------------------------
;Elucidator FX - Blue (The Eclipse)
[Statedef 7004]
physics  = N
anim = 7000
ctrl = 0
velset=0,0
sprpriority=3

[State 7000, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 7000, Scale]
type = AngleDraw
trigger1 = 1
scale = .9,.75

[State 7000, Rotate]
type = AngleSet
trigger1 = !Time
value = 120

[State 7000, Trans]
type = Trans
trigger1 =time>=7
trans = AddAlpha
alpha = 256-24*(time-7),256
ignorehitpause =1

[State 7000, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(-73 * const(size.xScale)), ceil(-248 * const(size.yScale))
ignorehitpause =1
[State 7000, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 7000, Destroyself]
type = destroyself
trigger1 =root,stateno!=3410
trigger2 =root,Movetype=H
;---------------------------------------------------------------------------
;Dark Repulser - Appear
[Statedef 7005]
physics  = N
anim = 7005
ctrl = 0
velset=0,0
sprpriority=3

[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 2, < 0
trans = AddAlpha
alpha = 32,256
[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 2, >= 0 && AnimElem = 3, < 0
trans = AddAlpha
alpha = 64,256
[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 3, >= 0 && AnimElem = 4, < 0
trans = AddAlpha
alpha = 96,256
[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 4, >= 0 && AnimElem = 5, < 0
trans = AddAlpha
alpha = 128,256
[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 5, >= 0 && AnimElem = 6, < 0
trans = AddAlpha
alpha = 160,256
[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 6, >= 0 && AnimElem = 7, < 0
trans = AddAlpha
alpha = 192,256
[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 7, >= 0 && AnimElem = 8, < 0
trans = AddAlpha
alpha = 224,256
[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 8, >= 0 && AnimElem = 10, < 0
trans = AddAlpha
alpha = 256,256
[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 10, >= 0 && AnimElem = 11, < 0
trans = AddAlpha
alpha = 224,256
[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 11, >= 0 && AnimElem = 12, < 0
trans = AddAlpha
alpha = 192,256
[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 12, >= 0 && AnimElem = 13, < 0
trans = AddAlpha
alpha = 160,256
[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 13, >= 0 && AnimElem = 14, < 0
trans = AddAlpha
alpha = 128,256
[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 14, >= 0 && AnimElem = 15, < 0
trans = AddAlpha
alpha = 96,256
[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 15, >= 0 && AnimElem = 16, < 0
trans = AddAlpha
alpha = 64,256
[State 7005, Transparency]
type = Trans
trigger1 = AnimElem = 16, >= 0
trans = AddAlpha
alpha = 32,256

[State 7005, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 7005, Rotate]
type = AngleSet
trigger1 = !Time
value = 24

[State 7005, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(70 * const(size.xScale)), ceil(-117 * const(size.yScale))
ignorehitpause =1
[State 7005, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 7005, Destroyself]
type = destroyself
trigger1 =root,stateno!=194
trigger2 =root,Movetype=H
trigger3 =!animtime
;---------------------------------------------------------------------------
;Dark Repulser - Remove
[Statedef 7006]
physics  = N
anim = 7006
ctrl = 0
velset=0,0
sprpriority=3

[State 7006, Transparency]
type = Trans
trigger1 = AnimElem = 2, < 0
trans = AddAlpha
alpha = 256,256
[State 7006, Transparency]
type = Trans
trigger1 = AnimElem = 2, >= 0 && AnimElem = 3, < 0
trans = AddAlpha
alpha = 224,256
[State 7006, Transparency]
type = Trans
trigger1 = AnimElem = 3, >= 0 && AnimElem = 4, < 0
trans = AddAlpha
alpha = 192,256
[State 7006, Transparency]
type = Trans
trigger1 = AnimElem = 4, >= 0 && AnimElem = 5, < 0
trans = AddAlpha
alpha = 160,256
[State 7006, Transparency]
type = Trans
trigger1 = AnimElem = 5, >= 0 && AnimElem = 6, < 0
trans = AddAlpha
alpha = 128,256
[State 7006, Transparency]
type = Trans
trigger1 = AnimElem = 6, >= 0 && AnimElem = 7, < 0
trans = AddAlpha
alpha = 96,256
[State 7006, Transparency]
type = Trans
trigger1 = AnimElem = 7, >= 0 && AnimElem = 8, < 0
trans = AddAlpha
alpha = 64,256
[State 7006, Transparency]
type = Trans
trigger1 = AnimElem = 8, >= 0 && AnimElem = 9, < 0
trans = AddAlpha
alpha = 32,256

[State 7006, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 7006, Rotate]
type = AngleSet
trigger1 = !Time
value = 24

[State 7006, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(70 * const(size.xScale)), ceil(-117 * const(size.yScale))
ignorehitpause =1
[State 7006, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 7006, Destroyself]
type = destroyself
trigger1 =root,stateno!=181
trigger2 =root,Movetype=H
trigger3 =!animtime
;---------------------------------------------------------------------------
;Dark Repulser FX - Blue
[Statedef 7010]
physics  = N
anim = 7000
ctrl = 0
velset=0,0
sprpriority=3

[State 7000, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(2)<0
scale = .75,.75
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(2)>=0&&Root,AnimElemTime(3)<0
scale = .75,.65
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(3)>=0&&Root,AnimElemTime(5)<0
scale = .85,.6
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(5)>=0&&Root,AnimElemTime(6)<0
scale = .95,.65
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(6)>=0&&Root,AnimElemTime(7)<0
scale = .95,.75
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(7)>=0&&Root,AnimElemTime(8)<0
scale = .95,.75
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(8)>=0&&Root,AnimElemTime(9)<0
scale = .85,.6
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(9)>=0&&Root,AnimElemTime(10)<0
scale = .6,.75
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(10)>=0&&Root,AnimElemTime(12)<0
scale = 1,.75
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(12)>=0&&Root,AnimElemTime(13)<0
scale = 1,.75
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(13)>=0&&Root,AnimElemTime(14)<0
scale = .85,.7
[State 7000, Scale]
type = AngleDraw
trigger1 = Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 = Root,AnimElemTime(14)>=0&&Root,AnimElemTime(18)<0
scale = .75,.75

[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=1
value = -140
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=2
value = -151
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=3
value = 140
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=4
value = 145
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=5
value = 163
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=6
value = -62
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=7
value = -50
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=8
value = -10
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=9
value = 78
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=10
value = 89
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=11
value = 85
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=12
value = 80
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=13
value = 67
[State 7000, Rotate]
type = AngleSet
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElem=14
value = 68

[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(2)<0
pos = ceil(65 * const(size.xScale)), ceil(-182 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(2)>=0&&Root,AnimElemTime(3)<0
pos = ceil(44 * const(size.xScale)), ceil(-180 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(3)>=0&&Root,AnimElemTime(4)<0
pos = ceil(117 * const(size.xScale)), ceil(-137 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(4)>=0&&Root,AnimElemTime(5)<0
pos = ceil(119 * const(size.xScale)), ceil(-137 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(5)>=0&&Root,AnimElemTime(6)<0
pos = ceil(97 * const(size.xScale)), ceil(-171 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(6)>=0&&Root,AnimElemTime(7)<0
pos = ceil(35 * const(size.xScale)), ceil(-340 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(7)>=0&&Root,AnimElemTime(8)<0
pos = ceil(-44 * const(size.xScale)), ceil(-303 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(8)>=0&&Root,AnimElemTime(9)<0
pos = ceil(-42 * const(size.xScale)), ceil(-267 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(9)>=0&&Root,AnimElemTime(10)<0
pos = ceil(20 * const(size.xScale)), ceil(-297 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(10)>=0&&Root,AnimElemTime(11)<0
pos = ceil(76 * const(size.xScale)), ceil(-276 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(11)>=0&&Root,AnimElemTime(12)<0
pos = ceil(84 * const(size.xScale)), ceil(-275 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(12)>=0&&Root,AnimElemTime(13)<0
pos = ceil(86 * const(size.xScale)), ceil(-258 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(13)>=0&&Root,AnimElemTime(14)<0
pos = ceil(78 * const(size.xScale)), ceil(-230 * const(size.yScale))
ignorehitpause =1
[State 7000, BindToRoot]
type = BindToRoot
trigger1 =Root,StateNo=1000||Root,StateNo=1050||Root,StateNo=3000||Root,StateNo=3050
trigger1 =Root,AnimElemTime(14)>=0&&Root,AnimElemTime(18)<0
pos = ceil(12 * const(size.xScale)), ceil(-233 * const(size.yScale))
ignorehitpause =1


[State 7000, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 7000, Destroyself]
type = destroyself
trigger1 =root,stateno!=1000&&root,stateno!=1050
trigger1 =root,stateno!=3000&&root,stateno!=3050
trigger2 =root,Movetype=H||root,var(45)=0
trigger3 =(root,stateno=1000||root,stateno=1050)&&root,animelemtime(18)>=0
trigger4 =(root,stateno=3000)&&root,animelemtime(18)>=0
trigger5 =(root,stateno=3050)&&root,animelemtime(16)>=0
;---------------------------------------------------------------------------
;Dark Repulser FX - Red
[Statedef 7011]
physics  = N
anim = 7001
ctrl = 0
velset=0,0
sprpriority=3

[State 7000, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 7000, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 7000, Rotate]
type = AngleSet
trigger1 = !Time
value = 40

[State 7000, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -25,-16
ignorehitpause =1
[State 7000, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 7000, Destroyself]
type = destroyself
trigger1 =root,stateno!=230
trigger2 =root,Movetype=H||root,var(45)=0
;---------------------------------------------------------------------------
;Dark Repulser FX - Purple
[Statedef 7012]
physics  = N
anim = 7002
ctrl = 0
velset=0,0
sprpriority=3

[State 7000, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 7000, Scale]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 7000, Rotate]
type = AngleSet
trigger1 = !Time
value = 40

[State 7000, BindToRoot]
type = BindToRoot
trigger1 =1
pos = -25,-16
ignorehitpause =1
[State 7000, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 7000, Destroyself]
type = destroyself
trigger1 =root,stateno!=230
trigger2 =root,Movetype=H||root,var(45)=0
;---------------------------------------------------------------------------
;Dark Repulser FX - Blue (The Eclipse)
[Statedef 7014]
physics  = N
anim = 7000
ctrl = 0
velset=0,0
sprpriority=3

[State 7000, Transparency]
type = Trans
trigger1 = 1
trans = Add

[State 7000, Scale]
type = AngleDraw
trigger1 = 1
scale = .95,.95

[State 7000, Rotate]
type = AngleSet
trigger1 = !Time
value = 100

[State 7000, Trans]
type = Trans
trigger1 =time>=7
trans = AddAlpha
alpha = 256-24*(time-7),256
ignorehitpause =1

[State 7000, BindToRoot]
type = BindToRoot
trigger1 =1
pos = ceil(-14 * const(size.xScale)), ceil(-119 * const(size.yScale))
ignorehitpause =1
[State 7000, Assert]
type = AssertSpecial
Trigger1 = 1
flag = noshadow
ignorehitpause =1
[State 7000, Destroyself]
type = destroyself
trigger1 =root,stateno!=3410
trigger2 =root,Movetype=H
;========================<SPARKS>=============================
;Guard Spark (Normal)
[StateDef 8000]
type = A
physics = N
moveType = I
anim = 8000
velset = 0,0
sprPriority = 99

[State 8000, Assert: No Shadow]
type = AssertSpecial
trigger1= 1
flag = NoShadow

[State 8000, CvS Hitspark]
type = ChangeState
trigger1 = !Root,var(43)
value = 8060

[State 8000, Scale]
type = AngleDraw
trigger1 = 1
scale = 0.125 + (0.046875 * Time), 0.125 + (0.046875 * Time)

[State 8000, Transparency]
type = Trans
trigger1 = Time < 4
trans = AddAlpha
alpha = 256, 256

[State 8000, Transparency]
type = Trans
trigger1 = Time >= 4
trans = AddAlpha
alpha = 256 - 64 * (Time - 4), 256

[State 8000, End]
type = DestroySelf
trigger1 = Time >= 8


;Guard Spark (Special)
[StateDef 8001]
type = A
physics = N
moveType = I
anim = 8001
velSet = 0,0
sprPriority = 99

[State 8001, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8001, CvS Hitspark]
type = ChangeState
trigger1 = !Root,var(43)
value = 8061

[State 8001, Scale]
type = AngleDraw
trigger1 = 1
scale = 0.25 + (0.03125 * Time), 0.25 + (0.03125 * Time)

[State 8001, Transparency]
type = Trans
trigger1 = time < 4
trans = AddAlpha
alpha = 256, 256

[State 8001, Transparency]
type = Trans
trigger1 = Time >= 4
trans = AddAlpha
alpha = 256 - 64 * (Time - 4), 256

[State 8001, End]
type = DestroySelf
trigger1 = Time >= 8


;=========================================================================
;HI Res Hitspark Coding 1.0
;=========================================================================
;Hit Spark for Helpers and Throws
[StateDef 8005]
physics = N
anim = 9999
velSet = 0,0
sprPriority = 99

[State 8005, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8005, Normal]
type = ChangeState
trigger1 = Parent,StateNo = [0,999]
trigger1 = Parent,var(33) = [8010,8012]
value = Parent,var(33) + ifelse(!Root,var(43), 60, 0)

[State 8005, Special]
type = ChangeState
trigger1 = Parent,StateNo = [1000,2999]
value = 8013 + ifelse(!Root,var(43), 60, 0)

[State 8005, Super]
type = ChangeState
trigger1 = Parent,StateNo = [3000,4999]
value = 8014 + ifelse(!Root,var(43), 60, 0)

[State 8005, ChangeState]
type = ChangeState
trigger1 = 1
value = 8012 + ifelse(!Root,var(43), 60, 0)
;-------------------------------------------------------------------------
;Weak Hit Spark
[StateDef 8010]
type = A
physics = N
moveType = I
anim = 8010
velSet = 0,0
sprPriority = 99

[State 8010, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignoreHitPause = 1

[State 8010, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,Ifelse(root,var(43)>=2,1,0)

[State 8010, AngleSet]
type = AngleSet
trigger1 = !Time
value = 30 * (Random % 12)

[State 8010, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 30

[State 8010, Resize]
type = VarSet
trigger1 = !Time
fvar(1) = Ifelse(root,var(43)=1, 0.9, 1.0)
ignoreHitPause = 1

[State 8010, Scale]
type = AngleDraw
trigger1 = Time < 10
scale = (0.3 - (Time * 0.03)) * fvar(1), (0.3 - (Time * 0.03)) * fvar(1)
ignoreHitPause = 1

[State 8010, Scale]
type = AngleDraw
trigger1 = Time >= 10
scale = 0,0
ignoreHitPause = 1

[State 8010, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 8010, Center Explod]
type = Explod
trigger1 = !Time
anim = 8011
ID = 1
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1

[State 8010, Scale Center Explod]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = (0.15 + (0.009375 * Time)) * fvar(1), (0.15 + (0.009375 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time),256

[State 8010, Streaks Explod]
type = Explod
trigger1 = !Time
anim = 8012
ID = 2
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1

[State 8010, Scale Streaks Explod]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = (0.15 + (0.009375 * Time)) * fvar(1), (0.15 + (0.009375 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8010, Impact Explod]
type = Explod
trigger1 = !Time
anim = 8014
ID = 4
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 8
pauseMoveTime = -1
superMoveTime = -1

[State 8010, Scale Impact Explod]
type = ModifyExplod
trigger1 = NumExplod(4)
ID = 4
scale = (0.3 - (0.0375 * Time)), (0.3 - (0.0375 * Time))
trans = AddAlpha
alpha = 128 - (16 * Time), 256

[State 8010, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 16

[State 8010, End]
type = DestroySelf
trigger1 = Time >= 16
;-------------------------------------------------------------------------
;Medium Hit Spark
[StateDef 8011]
type = A
physics = N
moveType = I
anim = 8010
velSet = 0,0
sprPriority = 99

[State 8011, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignoreHitPause = 1

[State 8011, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,Ifelse(root,var(43)>=2,1,0)

[State 8011, AngleSet]
type = AngleSet
trigger1 = !Time
value = 30 * (Random % 12)

[State 8011, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 30

[State 8011, Resize]
type = VarSet
trigger1 = !Time
fvar(1) = Ifelse(root,var(43)=1, 0.9, 1.0)
ignoreHitPause = 1

[State 8011, Scale]
type = AngleDraw
trigger1 = Time < 10
scale = (0.35 - (Time * 0.035)) * fvar(1), (0.35 - (Time * 0.035)) * fvar(1)
ignoreHitPause = 1

[State 8011, Scale]
type = AngleDraw
trigger1 = Time >= 10
scale = 0,0
ignoreHitPause = 1

[State 8011, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 8011, Center]
type = Explod
trigger1 = !Time
anim = 8011
ID = 1
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removetime = 16
pauseMoveTime = -1
superMoveTime = -1

[State 8011, Scale Center Explod]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = (0.175 + (0.0109375 * Time)) * fvar(1), (0.175 + (0.0109375 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8011, Streaks Explod]
type = Explod
trigger1 = !Time
anim = 8012
ID = 2
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1

[State 8011, Scale Streaks Explod]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = (0.175 + (0.0109375 * Time)) * fvar(1), (0.175 + (0.0109375 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8011, Impact Explod]
type = Explod
trigger1 = !Time
anim = 8014
ID = 4
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 8
pauseMoveTime = -1
superMoveTime = -1

[State 8011, Scale Impact Explod]
type = ModifyExplod
trigger1 = NumExplod(4)
ID = 4
scale = (0.35 - (0.04375 * Time)), (0.35 - (0.04375 * Time))
trans = AddAlpha
alpha = 128 - (16 * Time), 256

[State 8011, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 16

[State 8011, End]
type = DestroySelf
trigger1 = Time >= 16
;-------------------------------------------------------------------------
;Strong Hit Spark
[StateDef 8012]
type = A
physics = N
moveType = I
anim = 8010
velSet = 0,0
sprPriority = 99

[State 8012, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignoreHitPause = 1

[State 8012, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,Ifelse(root,var(43)>=2,1,0)

[State 8012, AngleSet]
type = AngleSet
trigger1 = !Time
value = 30 * (Random % 12)

[State 8012, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 30

[State 8012, Resize]
type = VarSet
trigger1 = !Time
fvar(1) = Ifelse(root,var(43)=1, 0.9, 1.0)
ignoreHitPause = 1

[State 8012, Scale]
type = AngleDraw
trigger1 = Time < 10
scale = (0.4 - (Time * 0.04)) * fvar(1), (0.4 - (Time * 0.04)) * fvar(1)
ignoreHitPause = 1

[State 8012, Scale]
type = AngleDraw
trigger1 = Time >= 10
scale = 0,0
ignoreHitPause = 1

[State 8012, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 8012, Center Explod]
type = Explod
trigger1 = !Time
anim = 8011
ID = 1
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1

[State 8012, Scale Center Explod]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = (0.2 + (0.0125 * Time)) * fvar(1), (0.2 + (0.0125 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8012, Streaks Explod]
type = Explod
trigger1 = !time
anim = 8012
ID = 2
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1

[State 8012, Scale Streaks Explod]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = (0.2 + (0.0125 * Time)) * fvar(1), (0.2 + (0.0125 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8012, Impact Explod]
type = Explod
trigger1 = !Time
anim = 8014
ID = 4
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 8
pauseMoveTime = -1
superMoveTime = -1

[State 8012, Scale Impact Explod]
type = ModifyExplod
trigger1 = NumExplod(4)
ID = 4
scale = (0.4 - (0.05 * Time)), (0.4 - (0.05 * Time))
trans = AddAlpha
alpha = 128 - (16 * Time), 256

[State 8012, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 16

[State 8012, End]
type = DestroySelf
trigger1 = Time >= 16
;-------------------------------------------------------------------------
;Special Move Hit Spark
[StateDef 8013]
type = A
physics = N
moveType = I
anim = 8010
velSet = 0,0
sprPriority = 99

[State 8013, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignoreHitPause = 1

[State 8013, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,Ifelse(root,var(43)>=2,2,0)

[State 8013, AngleSet]
type = AngleSet
trigger1 = !Time
value = 30 * (Random % 12)

[State 8013, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 30

[State 8013, Resize]
type = VarSet
trigger1 = !Time
fvar(1) = Ifelse(root,var(43)=1, 0.9, 1.0)
ignoreHitPause = 1

[State 8013, Scale]
type = AngleDraw
trigger1 = Time < 10
scale = (0.45 - (Time * 0.045)) * fvar(1), (0.45 - (Time * 0.045)) * fvar(1)
ignoreHitPause = 1

[State 8012, Scale]
type = AngleDraw
trigger1 = Time >= 10
scale = 0,0
ignoreHitPause = 1

[State 8013, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 8013, Center Explod]
type = Explod
trigger1 = !Time
anim = 8011
ID = 1
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1

[State 8013, Scale Center Explod]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = (0.225 + (0.0140625 * Time)) * fvar(1), (0.225 + (0.0140625 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8013, Streaks Explod]
type = Explod
trigger1 = !Time
anim = 8012
ID = 2
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1

[State 8013, Scale Streaks Explod]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = (0.225 + (0.0140625 * Time)) * fvar(1), (0.225 + (0.0140625 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8013, P2 Back Explod]
type = Explod
trigger1 = !Time
anim = 8013
ID = 3
posType = P1
facing = -1
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = -3
removeTime = 8
pauseMoveTime = -1
superMoveTime = -1

[State 8013, Scale P2 Back Explod]
type = ModifyExplod
trigger1= NumExplod(3)
ID = 3
scale = 0.4 * fvar(1), 0.4 * fvar(1)
trans = AddAlpha
alpha = 256 - (32 * Time), 256

[State 8013, Impact Explod]
type = Explod
trigger1 = !Time
anim = 8014
ID = 4
posType = P1
facing = ifElse(random < 500, -1, 1)
vFacing = ifElse(random < 500, -1, 1)
sprPriority = 99
removeTime = 8
pauseMoveTime = -1
superMoveTime = -1

[State 8013, Scale Impact Explod]
type = ModifyExplod
trigger1 = NumExplod(4)
ID = 4
scale = (0.45 - (0.05625 * Time)), (0.45 - (0.05625 * Time))
trans = AddAlpha
alpha = 192 - (24 * Time), 256

[State 8013, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 16

[State 8013, End]
type = DestroySelf
trigger1 = Time >= 16
;-------------------------------------------------------------------------
;Super Hit Spark
[StateDef 8014]
type = A
physics = N
moveType = I
anim = 8010
velSet = 0,0
sprPriority = 99

[State 8014, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignoreHitPause = 1

[State 8014, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,Ifelse(root,var(43)=3,3,Ifelse(root,var(43)=2,2,0))

[State 8014, AngleSet]
type = AngleSet
trigger1 = !Time
value = 30 * (Random % 12)

[State 8014, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 30

[State 8014, Resize]
type = VarSet
trigger1 = !Time
fvar(1) = Ifelse(root,var(43)=1, 0.9, 1.0)
ignoreHitPause = 1

[State 8014, Scale]
type = AngleDraw
trigger1 = Time < 10
scale = (0.5 - (Time * 0.05)) * fvar(1), (0.5 - (Time * 0.05)) * fvar(1)
ignoreHitPause = 1

[State 8014, Scale]
type = AngleDraw
trigger1 = Time >= 10
scale = 0,0
ignoreHitPause = 1

[State 8014, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 8014, Center Explod]
type = Explod
trigger1 = !Time
anim = 8011
ID = 1
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1
ownpal = 1

[State 8014, Scale Center Explod]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = (0.25 + (0.015625 * Time)) * fvar(1), (0.25 + (0.015625 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8014, Streaks Explod]
type = Explod
trigger1 = !Time
anim = 8012
ID = 2
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1
ownpal = 0

[State 8014, Scale Streaks Explod]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = (0.25 + (0.015625 * Time)) * fvar(1), (0.25 + (0.015625 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8014, P2 Back Explod]
type = Explod
trigger1 = !Time
anim = 8013
ID = 3
posType = P1
facing = -1
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = -3
removeTime = 8
pauseMoveTime = -1
superMoveTime = -1
ownpal = 1

[State 8014, Scale P2 Back Explod]
type = ModifyExplod
trigger1 = NumExplod(3)
ID = 3
scale = 0.5 * fvar(1), 0.5 * fvar(1)
trans = AddAlpha
alpha = 256 - (32 * Time), 256

[State 8014, Impact Explod]
type = Explod
trigger1 = !Time
anim = 8014
ID = 4
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 8
pauseMoveTime = -1
superMoveTime = -1

[State 8014, Scale Impact Explod]
type = ModifyExplod
trigger1 = NumExplod(4)
ID = 4
scale = (0.5 - (0.0625 * Time)), (0.5 - (0.0625 * Time))
trans = AddAlpha
alpha = 256 - (32 * Time),256

[State 8014, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,Ifelse(root,var(43)>=2,3,0)

[State 8014, Remove Explods]
type = RemoveExplod
trigger1 = time >= 16

[State 8014, End]
type = DestroySelf
trigger1 = Time >= 16
;-------------------------------------------------------------------------
;Slash Spark for Helpers and Throws
[StateDef 8015]
physics = N
anim = 9999
velSet = 0,0
sprPriority = 99

[State 8015, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8015, Normal]
type = ChangeState
trigger1 = Parent,StateNo = [0,999]
trigger1 = Parent,var(33) = [8020,8022]
value = Parent,var(33) + ifelse(!Root,var(43), 60, 0)

[State 8015, Special]
type = ChangeState
trigger1 = Parent,StateNo = [1000,2999]
value = 8023 + ifelse(!Root,var(43), 60, 0)

[State 8015, Super]
type = ChangeState
trigger1 = Parent,StateNo = [3000,4999]
value = 8024 + ifelse(!Root,var(43), 60, 0)

[State 8015, ChangeState]
type = ChangeState
trigger1 = 1
value = 8022 + ifelse(!Root,var(43), 60, 0)
;-------------------------------------------------------------------------
;Normal Slash Spark
[StateDef 8020]
type = A
physics = N
moveType = I
anim = 8020
velSet = 0,0
sprPriority = 99

[State 8020, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignoreHitPause = 1

[State 8020, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,Ifelse(root,var(43)>=2,1,0)

[State 8020, AngleSet]
type = AngleSet
trigger1 = !Time
value = 15 * (Random % 24)

[State 8020, Weak]
type = VarSet
triggerall = !Time
trigger1 = !PrevStateNo | PrevStateNo = 8015
var(1) = 0
ignoreHitPause = 1

[State 8020, Resize]
type = VarSet
trigger1 = !Time
fvar(1) = Ifelse(root,var(43)=1, 0.9, 1.0) * Ifelse(var(1)=2, 0.888, Ifelse(var(1)=1, 0.777, 0.666))
ignoreHitPause = 1

[State 8020, Scale]
type = AngleDraw
trigger1 = Time < 10
scale = ((0.5 + (Time * 0.15)) / 2) * fvar(1), ((1 - (Time * 0.1)) / 2) * fvar(1)
ignoreHitPause = 1

[State 8020, Scale]
type = AngleDraw
trigger1 = Time >= 10
scale = 0,0
ignoreHitPause = 1

[State 8020, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 8020, Streaks Explod]
type = Explod
trigger1 = !time
anim = 8012
ID = 2
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1

[State 8020, Scale Streaks Explod]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = ((0.225 + (0.0140625 * Time)) * fvar(1)), ((0.225 + (0.0140625 * Time)) * fvar(1))
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8020, Particles]
type = Explod
trigger1 = time<8
anim = 8022
ID = 17
postype = p1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1
scale = 0.15,0.15
vel = Ifelse(random<500,2+random%2,-4+random%2), -5 + (random / 90.0)
accel = -1||1,-1||1
ignorehitpause = 1

[State 8020, Scale Particles]
type = ModifyExplod
trigger1 = NumExplod(17)
ID = 17
scale = (0.225 - (0.005 * Time)) * fvar(1), (0.225 - (0.005 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time), 256
ignorehitpause = 1

[State 8020, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 16

[State 8020, End]
type = DestroySelf
trigger1 = Time >= 16
;-------------------------------------------------------------------------
;Normal Slash Spark (Medium)
[StateDef 8021]
type = A
physics = N
moveType = I
anim = 9999
velSet = 0,0
sprPriority = 99

[State 8021, Medium]
type = VarSet
trigger1 = 1
var(1) = 1
ignoreHitPause = 1

[State 8021, ChangeState]
type = ChangeState
trigger1 = 1
value = 8020
;-------------------------------------------------------------------------
;Normal Slash Spark (Strong)
[StateDef 8022]
type = A
physics = N
moveType = I
anim = 9999
velSet = 0,0
sprPriority = 99

[State 8022, Strong]
type = VarSet
trigger1 = 1
var(1) = 2
ignoreHitPause = 1

[State 8022, ChangeState]
type = ChangeState
trigger1 = 1
value = 8020
;-------------------------------------------------------------------------
;Special Move Slash Spark
[StateDef 8023]
type = A
physics = N
moveType = I
anim = 8020
velSet = 0,0
sprPriority = 99

[State 8023, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignoreHitPause = 1

[State 8023, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,Ifelse(root,var(43)>=2,2,0)

[State 8023, AngleSet]
type = AngleSet
trigger1 = !Time
value = 15 * (Random % 24)

[State 8023, Resize]
type = VarSet
trigger1 = !Time
fvar(1) = Ifelse(root,var(43)=1, 0.9, 1.0)
ignoreHitPause = 1

[State 8023, Scale]
type = AngleDraw
trigger1 = Time < 10
scale = ((0.5 + (Time * 0.15)) / 2) * fvar(1), ((1 - (Time * 0.1)) / 2) * fvar(1)
ignoreHitPause = 1

[State 8023, Scale]
type = AngleDraw
trigger1 = Time >= 10
scale = 0,0
ignoreHitPause = 1

[State 8023, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 8023, Circle]
type = Explod
trigger1 = !Time
anim = 8021
ID = 8021
posType = p1
removeTime = 10
sprPriority = 99
pauseMoveTime = -1
superMoveTime = -1

[State 8023, Circle Scale]
type = ModifyExplod
trigger1 = NumExplod(8021)
ID = 8021
scale = (0.25 + (0.025 * Time)) * fvar(1), (0.25 + (0.025 * Time)) * fvar(1)
trans = AddAlpha
alpha = ceil(256 - 25.6 * Time), 256

[State 8023, Streaks Explod]
type = Explod
trigger1 = !Time
anim = 8012
ID = 2
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1

[State 8023, Scale Streaks Explod]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = (0.225 + (0.0140625 * Time)) * fvar(1), (0.225 + (0.0140625 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8023, Particles]
type = Explod
trigger1 = time<8
anim = 8022
ID = 17
postype = p1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1
scale = 0.15,0.15
vel = Ifelse(random<500,2+random%2,-4+random%2), -5 + (random / 90.0)
accel = -1||1,-1||1
ignorehitpause = 1

[State 8023, Scale Particles]
type = ModifyExplod
trigger1 = NumExplod(17)
ID = 17
scale = (0.225 - (0.005 * Time)) * fvar(1), (0.225 - (0.005 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time), 256
ignorehitpause = 1

[State 8023, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 16

[State 8023, End]
type = DestroySelf
trigger1 = Time >= 16
;-------------------------------------------------------------------------
;Super Move Slash Spark
[StateDef 8024]
type = A
physics = N
moveType = I
anim = 8020
velSet = 0,0
sprPriority = 99

[State 8024, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignoreHitPause = 1

[State 8024, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,Ifelse(root,var(43)=3,3,Ifelse(root,var(43)=2,2,0))

[State 8024, AngleSet]
type = AngleSet
trigger1 = !Time
value = 15 * (Random % 24)

[State 8024, Resize]
type = VarSet
trigger1 = !Time
fvar(1) = Ifelse(root,var(43)=1, 0.9, 1.0)
ignoreHitPause = 1

[State 8024, Scale]
type = AngleDraw
trigger1 = Time < 10
scale = ((0.5 + (Time * 0.15)) / 2) * fvar(1), ((1 - (Time * 0.1)) / 2) * fvar(1)
ignoreHitPause = 1

[State 8024, Scale]
type = AngleDraw
trigger1 = Time >= 10
scale = 0,0
ignoreHitPause = 1

[State 8024, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 8024, Circle]
type = Explod
trigger1 = !Time
anim = 8021
ID = 8021
posType = p1
removeTime = 10
sprPriority = 99
pauseMoveTime = -1
superMoveTime = -1
ownpal = 1

[State 8024, Circle Scale]
type = ModifyExplod
trigger1 = NumExplod(8021)
ID = 8021
scale = (0.3 + (0.03 * Time)) * fvar(1), (0.3 + (0.03 * Time)) * fvar(1)
trans = AddAlpha
alpha = ceil(256 - 25.6 * Time), 256

[State 8024, Streaks Explod]
type = Explod
trigger1 = !Time
anim = 8012
ID = 2
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1
ownpal = 0

[State 8024, Scale Streaks Explod]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = (0.25 + (0.015625 * Time)) * fvar(1), (0.25 + (0.015625 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8024, Particles]
type = Explod
trigger1 = time<10
anim = 8022
ID = 17
postype = p1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 99
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1
scale = 0.15,0.15
vel = Ifelse(random<500,2+random%2,-4+random%2), -5 + (random / 90.0)
accel = -1||1,-1||1
ignorehitpause = 1
ownpal = 0

[State 8024, Scale Particles]
type = ModifyExplod
trigger1 = NumExplod(17)
ID = 17
scale = (0.25 - (0.005 * Time)) * fvar(1), (0.25 - (0.005 * Time)) * fvar(1)
trans = AddAlpha
alpha = 256 - (16 * Time), 256
ignorehitpause = 1

[State 8024, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,Ifelse(root,var(43)>=2,3,0)

[State 8024, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 16

[State 8024, End]
type = DestroySelf
trigger1 = Time >= 16
;------------------------------------------------------------
;Reversal Spark
[Statedef 8030]
type = A
physics = N
movetype = I
anim = 8030
velset = 0, 0
sprpriority = 99

[State 8030, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8030, Scale]
type = angledraw
trigger1 = 1
scale = 0.25 + (0.09375 * time), 0.25 + (0.09375 * time)
[State 8030, Trans]
type = trans
trigger1 = time < 4
trans = addalpha
alpha = 256, 256
[State 8030, Trans]
type = trans
trigger1 = time >= 4
trans = addalpha
alpha = 256 - 64 * (time -4), 256

[State 8030, End]
type = destroyself
trigger1 = time >= 8

;========================< BLOOD >=============================
;--- Small ---
[Statedef 8050]
type = A
anim = 9999
velset = 0, 0

[State 8050, Small]
type = explod
trigger1 = !time
anim = 8050
ID = 8050
postype = p1
vel = -3 + (random / 166.7), -7.5 -(random / 400.0)
accel = 0, 0.5
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
trans = addalpha
alpha = 256, 128
sprpriority = 5
scale = 0.5, 0.5
ownpal = 1
[State 8050, Small]
type = explod
trigger1 = !time
anim = 8050
ID = 8050
postype = p1
vel = -3 + (random / 166.7), -7.5 -(random / 400.0)
accel = 0, 0.5
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
trans = addalpha
alpha = 256, 128
sprpriority = 5
scale = 0.5, 0.5
ownpal = 1
[State 8050, Small]
type = explod
trigger1 = !time
anim = 8050
ID = 8050
postype = p1
vel = -3 + (random / 166.7), -7.5 -(random / 400.0)
accel = 0, 0.5
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
trans = addalpha
alpha = 256, 128
sprpriority = 5
scale = 0.5, 0.5
ownpal = 1

[State 8050, End]
type = destroyself
trigger1 = 1


;--- Medium ---
[Statedef 8051]
type = A
anim = 9999
velset = 0, 0

[State 8051, Medium]
type = explod
trigger1 = !time
anim = 8051
ID = 8050
postype = p1
vel = -10 + (random / 50.0), -5 -(random / 200.0)
accel = 0, 0.5
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
trans = addalpha
alpha = 256, 128
sprpriority = 5
scale = 0.5, 0.5
ownpal = 1

[State 8051, Small]
type = explod
trigger1 = !time
anim = 8050
ID = 8050
postype = p1
vel = -4 + (random / 125.0), -7.5 -(random / 400.0)
accel = 0, 0.5
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
trans = addalpha
alpha = 256, 128
sprpriority = 5
scale = 0.5, 0.5
ownpal = 1
[State 8051, Small]
type = explod
trigger1 = !time
anim = 8050
ID = 8050
postype = p1
vel = -4 + (random / 125.0), -7.5 -(random / 400.0)
accel = 0, 0.5
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
trans = addalpha
alpha = 256, 128
sprpriority = 5
scale = 0.5, 0.5
ownpal = 1
[State 8051, Small]
type = explod
trigger1 = !time
anim = 8050
ID = 8050
postype = p1
vel = -4 + (random / 125.0), -7.5 -(random / 400.0)
accel = 0, 0.5
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
trans = addalpha
alpha = 256, 128
sprpriority = 5
scale = 0.5, 0.5
ownpal = 1

[State 8051, End]
type = destroyself
trigger1 = 1


;--- Large ---
[Statedef 8052]
type = A
anim = 9999
velset = 0, 0

[State 8052, Large]
type = explod
trigger1 = !time
anim = 8052
ID = 8050
postype = p1
vel = -(random / 333.3), -2.5 -(random / 400.0)
accel = 0, 0.25
trans = addalpha
alpha = 256, 128
sprpriority = 5
scale = 0.5, 0.5
ownpal = 1

[State 8052, Medium]
type = explod
trigger1 = !time
anim = 8051
ID = 8050
postype = p1
vel = -10 + (random / 50.0), -5 -(random / 200.0)
accel = 0, 0.5
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
trans = addalpha
alpha = 256, 128
sprpriority = 5
scale = 0.5, 0.5
ownpal = 1
[State 8052, Medium]
type = explod
trigger1 = !time
anim = 8051
ID = 8050
postype = p1
vel = -10 + (random / 50.0), -5 -(random / 200.0)
accel = 0, 0.5
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
trans = addalpha
alpha = 256, 128
sprpriority = 5
scale = 0.5, 0.5
ownpal = 1

[State 8052, Small]
type = explod
trigger1 = !time
anim = 8050
ID = 8050
postype = p1
vel = -5 + (random / 100.0), -7.5 -(random / 400.0)
accel = 0, 0.5
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
trans = addalpha
alpha = 256, 128
sprpriority = 5
scale = 0.5, 0.5
ownpal = 1
[State 8052, Small]
type = explod
trigger1 = !time
anim = 8050
ID = 8050
postype = p1
vel = -5 + (random / 100.0), -7.5 -(random / 400.0)
accel = 0, 0.5
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
trans = addalpha
alpha = 256, 128
sprpriority = 5
scale = 0.5, 0.5
ownpal = 1
[State 8052, Small]
type = explod
trigger1 = !time
anim = 8050
ID = 8050
postype = p1
vel = -5 + (random / 100.0), -7.5 -(random / 400.0)
accel = 0, 0.5
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
trans = addalpha
alpha = 256, 128
sprpriority = 5
scale = 0.5, 0.5
ownpal = 1

[State 8052, End]
type = destroyself
trigger1 = 1

;=========================================================================
;CvS Style Hitsparks
;=========================================================================

;--- Guard Normal ---
[Statedef 8060]
type = A
velset = 0, 0
anim = 9999
sprpriority = 99

[State 8060, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8060, Center]
type = explod
trigger1 = !time
anim = 8060
ID = 8060
postype = p1
facing = 1
vfacing = 1
scale = 0.5, 0.5
sprpriority = 99
removetime = 12
pausemovetime = -1
supermovetime = -1

[State 8060, Center Scale 1]
type = modifyexplod
trigger1 = numexplod(8060) && time < 4
ID = 8060
trans = addalpha
scale = (0.25 + (0.046875 * Time)) * const(size.xscale), (0.25 + (0.046875 * Time)) * const(size.yscale)
alpha = 256, 256

[State 8060, Center Scale 2]
type = modifyexplod
trigger1 = numexplod(8060) && time >= 4
ID = 8060
trans = addalpha
scale = (0.25 + (0.046875 * Time)) * const(size.xscale), (0.25 + (0.046875 * Time)) * const(size.yscale)
alpha = 256 -ceil(32.0 * (time - 4)), 256

[State 8060, End]
type = removeexplod
trigger1 = time >= 12
[State 8060, End]
type = destroyself
trigger1 = time >= 12


;--- Guard Special ---
[Statedef 8061]
type = A
velset = 0, 0
anim = 8061
sprpriority = 99

[State 8061, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8061, Angle]
type = angledraw
trigger1 = 1
scale = 0.75 * (0.325 + (0.03125 * Time)), 1.25 * (0.325 + (0.03125 * Time))

[State 8061, Trans]
type = trans
trigger1 = time < 4
trans = addalpha
alpha = 256, 256
[State 8061, Trans]
type = trans
trigger1 = time >= 4
trans = addalpha
alpha = 256 -ceil(32.0 * (time - 4)), 256

[State 8061, Center]
type = explod
trigger1 = !time
anim = 8060
ID = 8060
postype = p1
facing = 1
vfacing = 1
scale = 0.5, 0.5
sprpriority = 99
removetime = 12
pausemovetime = -1
supermovetime = -1

[State 8061, Center Scale 1]
type = modifyexplod
trigger1 = numexplod(8060) && time < 4
ID = 8060
trans = addalpha
scale = (0.25 + (0.046875 * Time)) * const(size.xscale), (0.25 + (0.046875 * Time)) * const(size.yscale)
alpha = 256, 256

[State 8061, Center Scale 2]
type = modifyexplod
trigger1 = numexplod(8060) && time >= 4
ID = 8060
trans = addalpha
scale = (0.25 + (0.046875 * Time)) * const(size.xscale), (0.25 + (0.046875 * Time)) * const(size.yscale)
alpha = 256 -ceil(32.0 * (time - 4)), 256

[State 8061, End]
type = removeexplod
trigger1 = time >= 12
[State 8061, End]
type = destroyself
trigger1 = time >= 12


;--- Normal ---
[Statedef 8070]
type = A
anim = 8070
velset = 0, 0
sprpriority = 99

[State 8070, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8070, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,1

[State 8070, Angle]
type = angleset
trigger1 = !time
value = 15 * (random % 24)

[State 8070, Weak]
type = VarSet
triggerall = !Time
trigger1 = !PrevStateNo | PrevStateNo = 8005
var(1) = 0
ignoreHitPause = 1

[State 8070, Scale]
type = angledraw
trigger1 = time < 10
scale = .5 * (1 + (time * 0.3)), .5 * (1 -(time * 0.1))
[State 8070, Scale]
type = angledraw
trigger1 = time >= 10
scale = 0, 0

[State 8070, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

[State 8070, Center]
type = explod
trigger1 = !time
anim = 8071
ID = 8071
postype = p1
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
scale = 0.5 * const(size.xscale), 0.5 * const(size.yscale)
sprpriority = 99
pausemovetime = -1
supermovetime = -1

[State 8070, VarSet]
type = VarSet
trigger1 = 1
fvar(17) = 0.25 + (random / 5000.0)

[State 8070, Particles]
type = explod
trigger1 = time <= 4
trigger1 = random < (1000.0 / numhelper(8000))
anim = 8022
ID = 8022
postype = p1
vel = -10 + (random / 50.0), -10 + (random / 50.0)
scale = fvar(17) * const(size.xscale), fvar(17) * const(size.yscale)
sprpriority = 99
removeTime = 16
pausemovetime = -1
supermovetime = -1
[State 8070, Particles Scale]
type = modifyexplod
trigger1 = numexplod(8022)
ID = 8022
trans = addalpha
alpha = 256 -16 * time, 256

[State 8070, End]
type = removeexplod
trigger1 = time >= 16
[State 8070, End]
type = destroyself
trigger1 = time >= 16


;--- Normal (Medium) ---
[StateDef 8071]
type = A
physics = N
moveType = I
anim = 9999
velSet = 0,0
sprPriority = 99

[State 8071, Medium]
type = VarSet
trigger1 = 1
var(1) = 1
ignoreHitPause = 1

[State 8071, ChangeState]
type = ChangeState
trigger1 = 1
value = 8070


;--- Normal (Strong) ---
[StateDef 8072]
type = A
physics = N
moveType = I
anim = 9999
velSet = 0,0
sprPriority = 99

[State 8072, Strong]
type = VarSet
trigger1 = 1
var(1) = 2
ignoreHitPause = 1

[State 8072, ChangeState]
type = ChangeState
trigger1 = 1
value = 8070


;--- Special ---
[Statedef 8073]
type = A
anim = 8070
velset = 0, 0
sprpriority = 99

[State 8073, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8073, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,2

[State 8073, Angle]
type = angleset
trigger1 = !time
value = 15 * (random % 24)

[State 8073, Scale]
type = angledraw
trigger1 = time < 10
scale = .565 * (1 + (time * 0.3)), .565 * (1 -(time * 0.1))
[State 8073, Scale]
type = angledraw
trigger1 = time >= 10
scale = 0, 0

[State 8073, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

[State 8073, Center]
type = explod
trigger1 = !time
anim = 8071
ID = 8071
postype = p1
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
scale = 0.565 * const(size.xscale), 0.565 * const(size.yscale)
sprpriority = 99
pausemovetime = -1
supermovetime = -1

[State 8073, Circle]
type = explod
trigger1 = !time
anim = 8021
ID = 8021
postype = p1
removetime = 10
sprpriority = 99
pausemovetime = -1
supermovetime = -1
[State 8073, Circle Scale]
type = modifyexplod
trigger1 = numexplod(8021)
ID = 8021
scale = (0.25 + (0.025 * time)) * const(size.xscale), (0.25 + (0.025 * time)) * const(size.yscale)
trans = addalpha
alpha = ceil(256 -25.6 * time), 256

[State 8073, VarSet]
type = VarSet
trigger1 = 1
fvar(17) = 0.25 + (random / 5000.0)

[State 8073, Particles]
type = explod
trigger1 = time <= 4
trigger1 = random < (1000.0 / numhelper(8000))
anim = 8022
ID = 8022
postype = p1
vel = -10 + (random / 50.0), -10 + (random / 50.0)
scale = fvar(17) * const(size.xscale), fvar(17) * const(size.yscale)
sprpriority = 99
removeTime = 16
pausemovetime = -1
supermovetime = -1
[State 8073, Particles Scale]
type = modifyexplod
trigger1 = numexplod(8022)
ID = 8022
trans = addalpha
alpha = 256 -16 * time, 256

[State 8073, End]
type = removeexplod
trigger1 = time >= 16
[State 8073, End]
type = destroyself
trigger1 = time >= 16


;--- Super ---
[Statedef 8074]
type = A
anim = 8070
velset = 0, 0
sprpriority = 99

[State 8074, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8074, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,2

[State 8074, Angle]
type = angleset
trigger1 = !time
value = 15 * (random % 24)

[State 8074, Scale]
type = angledraw
trigger1 = time < 10
scale = .625 * (1 + (time * 0.3)), .625 * (1 -(time * 0.1))
[State 8074, Scale]
type = angledraw
trigger1 = time >= 10
scale = 0, 0

[State 8074, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

[State 8074, Center]
type = explod
trigger1 = !time
anim = 8071
ID = 8071
postype = p1
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
scale = 0.625 * const(size.xscale), 0.625 * const(size.yscale)
sprpriority = 99
pausemovetime = -1
supermovetime = -1

[State 8074, Circle]
type = explod
trigger1 = !time
anim = 8021
ID = 8021
postype = p1
removetime = 10
sprpriority = 99
pausemovetime = -1
supermovetime = -1
ownpal = 1
[State 8074, Circle Scale]
type = modifyexplod
trigger1 = numexplod(8021)
ID = 8021
scale = (0.3 + (0.03 * time)) * const(size.xscale), (0.3 + (0.03 * time)) * const(size.yscale)
trans = addalpha
alpha = ceil(256 -25.6 * time), 256

[State 8074, VarSet]
type = VarSet
trigger1 = 1
fvar(17) = 0.25 + (random / 5000.0)

[State 8074, Particles]
type = explod
trigger1 = time <= 4
trigger1 = random < (1000.0 / numhelper(8000))
anim = 8022
ID = 8022
postype = p1
vel = -10 + (random / 50.0), -10 + (random / 50.0)
scale = fvar(17) * const(size.xscale), fvar(17) * const(size.yscale)
sprpriority = 99
removeTime = 16
pausemovetime = -1
supermovetime = -1
ownpal = 0
[State 8074, Particles Scale]
type = modifyexplod
trigger1 = numexplod(8022)
ID = 8022
trans = addalpha
alpha = 256 -16 * time, 256

[State 8074, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,3

[State 8074, End]
type = removeexplod
trigger1 = time >= 16
[State 8074, End]
type = destroyself
trigger1 = time >= 16


;--- Normal Cut ---
[Statedef 8080]
type = A
anim = 8020
velset = 0, 0
sprpriority = 99

[State 8080, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8080, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,1

[State 8080, Angle]
type = angleset
trigger1 = !time
value = 15 * (random % 24)

[State 8080, Weak]
type = VarSet
triggerall = !Time
trigger1 = !PrevStateNo | PrevStateNo = 8015
var(1) = 0
ignoreHitPause = 1

[State 8080, Scale]
type = angledraw
trigger1 = time < 10
scale = .4375 * (0.5 + (time * 0.15)), .4375 * (1 -(time * 0.1))
[State 8080, Scale]
type = angledraw
trigger1 = time >= 10
scale = 0, 0

[State 8080, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

[State 8080, VarSet]
type = VarSet
trigger1 = 1
fvar(17) = 0.25 + (random / 5000.0)

[State 8080, Particles]
type = explod
trigger1 = time <= 4
trigger1 = random < (1000.0 / numhelper(8000))
anim = 8022
ID = 8022
postype = p1
vel = -10 + (random / 50.0), -10 + (random / 50.0)
scale = fvar(17) * const(size.xscale), fvar(17) * const(size.yscale)
sprpriority = 99
removeTime = 16
pausemovetime = -1
supermovetime = -1
[State 8080, Particles Scale]
type = modifyexplod
trigger1 = numexplod(8022)
ID = 8022
trans = addalpha
alpha = 256 -16 * time, 256

[State 8080, End]
type = removeexplod
trigger1 = time >= 16
[State 8080, End]
type = destroyself
trigger1 = time >= 16


;--- Normal Cut (Medium) ---
[StateDef 8081]
type = A
physics = N
moveType = I
anim = 9999
velSet = 0,0
sprPriority = 99

[State 8081, Medium]
type = VarSet
trigger1 = 1
var(1) = 1
ignoreHitPause = 1

[State 8081, ChangeState]
type = ChangeState
trigger1 = 1
value = 8080


;--- Normal Cut (Strong) ---
[StateDef 8082]
type = A
physics = N
moveType = I
anim = 9999
velSet = 0,0
sprPriority = 99

[State 8082, Strong]
type = VarSet
trigger1 = 1
var(1) = 2
ignoreHitPause = 1

[State 8082, ChangeState]
type = ChangeState
trigger1 = 1
value = 8080


;--- Special Cut ---
[Statedef 8083]
type = A
anim = 8020
velset = 0, 0
sprpriority = 99

[State 8083, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8083, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,2
ignorehitpause=1

[State 8083, Angle]
type = angleset
trigger1 = !time
value = 15 * (random % 24)

[State 8083, Scale]
type = angledraw
trigger1 = time < 10
scale = .5 * (0.5 + (time * 0.15)), .5 * (1 -(time * 0.1))
[State 8083, Scale]
type = angledraw
trigger1 = time >= 10
scale = 0, 0

[State 8083, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

[State 8083, Circle]
type = explod
trigger1 = !time
anim = 8021
ID = 8021
postype = p1
removetime = 10
sprpriority = 99
pausemovetime = -1
supermovetime = -1
[State 8083, Circle Scale]
type = modifyexplod
trigger1 = numexplod(8021)
ID = 8021
scale = (0.25 + (0.025 * time)) * const(size.xscale), (0.25 + (0.025 * time)) * const(size.yscale)
trans = addalpha
alpha = ceil(256 -25.6 * time), 256

[State 8083, VarSet]
type = VarSet
trigger1 = 1
fvar(17) = 0.25 + (random / 5000.0)

[State 8083, Particles]
type = explod
trigger1 = time <= 4
trigger1 = random < (1000.0 / numhelper(8000))
anim = 8022
ID = 8022
postype = p1
vel = -10 + (random / 50.0), -10 + (random / 50.0)
scale = fvar(17) * const(size.xscale), fvar(17) * const(size.yscale)
sprpriority = 99
removeTime = 16
pausemovetime = -1
supermovetime = -1
[State 8083, Particles Scale]
type = modifyexplod
trigger1 = numexplod(8022)
ID = 8022
trans = addalpha
alpha = 256 -16 * time, 256

[State 8083, End]
type = removeexplod
trigger1 = time >= 16
[State 8083, End]
type = destroyself
trigger1 = time >= 16


;--- Super Cut ---
[Statedef 8084]
type = A
anim = 8020
velset = 0, 0
sprpriority = 99

[State 8084, Assert]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 8084, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,2
ignorehitpause=1

[State 8084, Angle]
type = angleset
trigger1 = !time
value = 15 * (random % 24)

[State 8084, Scale]
type = angledraw
trigger1 = time < 10
scale = .5 * (0.5 + (time * 0.15)), .5 * (1 -(time * 0.1))
[State 8084, Scale]
type = angledraw
trigger1 = time >= 10
scale = 0, 0

[State 8084, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256

[State 8084, Circle]
type = explod
trigger1 = !time
anim = 8021
ID = 8021
postype = p1
removetime = 10
sprpriority = 99
pausemovetime = -1
supermovetime = -1
ownpal = 1
[State 8084, Circle Scale]
type = modifyexplod
trigger1 = numexplod(8021)
ID = 8021
scale = (0.3 + (0.03 * time)) * const(size.xscale), (0.3 + (0.03 * time)) * const(size.yscale)
trans = addalpha
alpha = ceil(256 -25.6 * time), 256

[State 8084, VarSet]
type = VarSet
trigger1 = 1
fvar(17) = 0.25 + (random / 5000.0)

[State 8084, Particles]
type = explod
trigger1 = time <= 4
trigger1 = random < (1000.0 / numhelper(8000))
anim = 8022
ID = 8022
postype = p1
vel = -10 + (random / 50.0), -10 + (random / 50.0)
scale = fvar(17) * const(size.xscale), fvar(17) * const(size.yscale)
sprpriority = 99
removeTime = 16
pausemovetime = -1
supermovetime = -1
ownpal = 0
[State 8084, Particles Scale]
type = modifyexplod
trigger1 = numexplod(8022)
ID = 8022
trans = addalpha
alpha = 256 -16 * time, 256

[State 8084, RemapPal]
type = RemapPal
trigger1 =!time
source = 8010,0
dest = 8010,3
ignorehitpause=1

[State 8084, End]
type = removeexplod
trigger1 = time >= 16
[State 8084, End]
type = destroyself
trigger1 = time >= 16


;======================<JUMP DUST>===========================
;Jump Dust 
[StateDef 8100]
type = S
anim = 9999
velSet = 0,0

[State 8100, Bind]
type = BindToRoot
trigger1 = Time

[State 8100, Floor Dust]
type = Explod
trigger1 = !Time
anim = 8100
sprPriority = 3
posType = P1
pos = 0, ceil(pos y)
scale = Ifelse(root,prevstateno=123,0.75,0.5),Ifelse(root,prevstateno=123,0.75,0.5)
pauseMoveTime = -1
superMoveTime = -1
ownpal = 1

[State 8100, Player Dust]
type = Explod
trigger1 = !Time || Time = 2 || Time = 6
anim = 8101
sprPriority = 3
posType = P1
scale = Ifelse(root,prevstateno=123,0.75,0.5),Ifelse(root,prevstateno=123,0.75,0.5)
pauseMoveTime = -1
superMoveTime = -1
ownpal = 1

[State 8100, End]
type = DestroySelf
trigger1 = Time >= 7

;======================<DASH DUST>===========================
;Dash Dust
[StateDef 8103]
type = A
anim = 9999
velSet = 0,0
sprPriority = 5

[State 8103, posSet]
type = PosSet
trigger1 = !Time && Root,StateNo != 105
y = 3

[State 8103, Dash Dust]
type = Explod
trigger1 = Time = 0 || Time = 3 || Time = 6
anim = 8103
ID = ifElse((Time = 6), 3, ifElse((Time = 3), 2, 1))
posType = P1
pos = 0,-4
random = 8,8
vel = -3 - (Random / 1000.0), -2 - (Random / 2000.0)
facing = ifElse(Random < 500,-1,1)
vFacing = ifElse(Random < 500,-1,1)
removeTime = 16
sprPriority = 3
pauseMoveTime = -1
superMoveTime = -1

[State 8103, Scale Explod 1]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = 0.1 + (0.025 * Time), 0.1 + (0.025 * Time)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8103, Scale Explod 2]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = 0.1 + (0.025 * (Time - 3)), 0.1 + (0.025 * (Time - 3))
trans = AddAlpha
alpha = 256 - (16 * (Time - 3)), 256

[State 8103, Scale Explod 3]
type = ModifyExplod
trigger1 = NumExplod(3)
ID = 3
scale = 0.1 + (0.025 * (Time - 6)), 0.1 + (0.025 * (Time - 6))
trans = AddAlpha
alpha = 256 - (16 * (Time - 6)), 256

[State 8103, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 22

[State 8103, End]
type = DestroySelf
trigger1 = !NumExplod

;======================<LIGHT IMPACT DUST>===========================
;Light Impact Dust 
[StateDef 8108]
type = A
anim = 9999
velSet = 0,0
sprPriority = 5

[State 8108, Snd]
type = PlaySnd
trigger1 = !Time && IsHelper(8108)
value = 5000,11

[State 8108, Impact Dust Explod]
type = Explod
trigger1 = !Time
anim = 8108
ID = ifElse(Time = 8, 3, ifElse(Time = 4, 2, 1))
posType = P1
removeTime = -1
sprPriority = -10
pauseMoveTime = -1
superMoveTime = -1

[State 8108, Scale]
type = ModifyExplod
trigger1 = 1
scale = 0.25 + (0.03125 * Time), 0.25 + (0.03125 * Time)
trans = AddAlpha
alpha = ifElse(Time < 4, 256, 256 - (64 * (Time - 4))), 256

[State 8108, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 8

[State 8108, End]
type = DestroySelf
trigger1 = !NumExplod

;======================<LIGHT WALL IMPACT DUST>===========================
;Light Wall Impact Dust 
[StateDef 8109]
type = A
anim = 9999
velSet = 0,0
sprPriority = 5

[State 8109, PosAdd]
type = PosAdd
trigger1 = !Time && IsHelper(8109)
x = 5

[State 8109, Snd]
type = PlaySnd
trigger1 = !Time && IsHelper(8109)
value = 5000,11

[State 8109, Impact Dust Explod]
type = Explod
trigger1 = !Time
anim = 8109
ID = ifElse(Time = 8, 3, ifElse(Time = 4, 2, 1))
posType = P1
removeTime = -1
sprPriority = -10
pauseMoveTime = -1
superMoveTime = -1

[State 8109, Scale]
type = ModifyExplod
trigger1 = 1
scale = 0.25 + (0.03125 * Time), 0.25 + (0.03125 * Time)
trans = AddAlpha
alpha = ifElse(Time < 4, 256, 256 - (64 * (Time - 4))), 256

[State 8109, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 8

[State 8109, End]
type = DestroySelf
trigger1 = !NumExplod

;======================<IMPACT DUST>===========================
;Impact Dust 
[StateDef 8110]
type = A
anim = 9999
velSet = 0,0
sprPriority = 5

[State 8110, Snd]
type = PlaySnd
trigger1 = !Time && IsHelper(8110)
value = 669,0

[State 8110, Impact Dust Explod 1]
type = Explod
trigger1 = !Time
anim = 8110
ID = ifElse(Time = 8, 3, ifElse(Time = 4, 2, 1))
posType = P1
removeTime = -1
sprPriority = -10
pauseMoveTime = -1
superMoveTime = -1

[State 8110, Impact Dust Explod 2]
type = Explod
trigger1 = !Time
anim = 8120
ID = 2
posType = P1
removeTime = -1
sprPriority = -10
pauseMoveTime = -1
superMoveTime = -1

[State 8110, Scale]
type = ModifyExplod
trigger1 = 1
scale = 0.25 + (0.03125 * Time), 0.25 + (0.03125 * Time)
trans = AddAlpha
alpha = ifElse(Time < 4, 256, 256 - (64 * (Time - 4))), 256

[State 8110, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 8

[State 8110, End]
type = DestroySelf
trigger1 = !NumExplod

;======================<WALL IMPACT DUST>===========================
;Wall Impact Dust
[StateDef 8111]
type = A
anim = 9999
velSet = 0,0
sprPriority = 5

[State 8111, PosAdd]
type = PosAdd
trigger1 = !Time && IsHelper(8111)
x = 5

[State 8111, Snd]
type = PlaySnd
trigger1 = !Time && IsHelper(8111)
value = 669,0

[State 8111, Impact Dust Explod 1]
type = Explod
trigger1 = !Time
anim = 8111
ID = ifElse(Time = 8, 3, ifElse(Time = 4, 2, 1))
posType = P1
removeTime = -1
sprPriority = -10
pauseMoveTime = -1
superMoveTime = -1

[State 8111, Impact Dust Explod 2]
type = Explod
trigger1 = !Time
anim = 8121
ID = 2
posType = P1
removeTime = -1
sprPriority = -10
pauseMoveTime = -1
superMoveTime = -1

[State 8111, Scale]
type = ModifyExplod
trigger1 = 1
scale = 0.25 + (0.03125 * Time), 0.25 + (0.03125 * Time)
trans = AddAlpha
alpha = ifElse(Time < 4, 256, 256 - (64 * (Time - 4))), 256

[State 8111, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 8

[State 8111, End]
type = DestroySelf
trigger1 = !NumExplod

;========================<FLAMES>=============================
;Flames FX
[Statedef 8150]
type=A
velset=0,0
anim=9999

[State 8150, player]
type=varset
trigger1= !time
var(0)=parent,var(42)

[State 8150, Pos]
type=posset
trigger1= playerIDexist(var(0))
x= ceil(playerID(var(0)), pos x)
y= ceil(playerID(var(0)), pos y) + (playerID(var(0)), const(size.mid.pos.y))
[State 8150, Pos]
type=posset
trigger1= playerIDexist(var(0))
trigger1= playerID(var(0)),statetype=L
x= ceil(playerID(var(0)), pos x)
y= ceil(playerID(var(0)), pos y) - 20

[State 8150, facing]
type=turn
trigger1= playerIDexist(var(0))
trigger1= facing != (playerID(var(0)),facing)

[State 8150, flames]
type=explod
trigger1= playerIDexist(var(0))
anim=8150
sprpriority=3
postype=p1
random=40,40
vel= (random/2000.0), -.5-(random/2000.0)
facing= ifelse(random<500, -1, 1)
vfacing= ifelse(random<500, -1, 1)
scale=.5,.5
ownpal=1
[State 8150, flames]
type=explod
trigger1= playerIDexist(var(0))
anim=8150
sprpriority=3
postype=p1
random=60,60
vel= (random/2000.0), -.5-(random/2000.0)
facing= ifelse(random<500, -1, 1)
vfacing= ifelse(random<500, -1, 1)
scale=.5,.5
ownpal=1

[State 8150, End]
type=destroyself
trigger1= time >= 600
trigger2= !playerIDexist(var(0))
[State 8150, End]
type=destroyself
triggerall= playerIDexist(var(0))
trigger1= playerID(var(0)),ctrl
trigger2= playerID(var(0)),movetype!=H || playerID(var(0)),stateno=5300
trigger3= playerID(var(0)),statetype=L && (playerID(var(0)),stateno!=[5080,5081])

;========================<SHOCK>=============================
;Shock FX
[Statedef 8155]
type=A
velset=0,0
anim=9999

[State 8155, player]
type=varset
trigger1= !time
var(0)=parent,var(42)

[State 8155, Pos]
type=posset
trigger1= playerIDexist(var(0))
x= ceil(playerID(var(0)), pos x)
y= ceil(playerID(var(0)), pos y) + (playerID(var(0)), const(size.mid.pos.y))
[State 8155, Pos]
type=posset
trigger1= playerIDexist(var(0))
trigger1= playerID(var(0)),statetype=L
x= ceil(playerID(var(0)), pos x)
y= ceil(playerID(var(0)), pos y) - 20

[State 8155, facing]
type=turn
trigger1= playerIDexist(var(0))
trigger1= facing != (playerID(var(0)),facing)

[State 8155, flames]
type=explod
trigger1= playerIDexist(var(0))
anim=8155
sprpriority=3
postype=p1
random=40,40
facing= ifelse(random<500, -1, 1)
vfacing= ifelse(random<500, -1, 1)
;bindtime=-1
scale=.15,.15
ownpal=1

[State 8155, End]
type=destroyself
trigger1= time>=600
trigger2= !playerIDexist(var(0))
[State 8155, End]
type=destroyself
triggerall= playerIDexist(var(0))
trigger1= playerID(var(0)),ctrl
trigger2= playerID(var(0)),movetype!=H || playerID(var(0)),stateno=5300
trigger3= playerID(var(0)),statetype=L && (playerID(var(0)),stateno!=[5080,5081])

;========================<RECOVER FX>=============================
;Recover FX
[StateDef 8200]
type = A
velSet = 0,0
anim = 8200
sprPriority = 5

[State 8200, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8200, Scale]
type = AngleDraw
trigger1 = 1
scale = 0.25 + (0.017 * Time), 0.25 + (0.017 * Time)

[State 8200, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = ceil(256 - 17.1 * Time), 256

[State 8200, End]
type = DestroySelf
trigger1 = Time >= 15

;========================<COUNTER TEXT FX>=============================
;Counter Text FX
[StateDef 8290]
type = A
physics = N
velSet = 0,0
anim = 9999

[State 8290, Circle FX Version]
type = ChangeState
trigger1 = !Root,var(43)
value = 8295

[State 8290, "Counter!" Text Explod]
type = Explod
trigger1 = !NumExplod(8290)
anim = 8290
ID = 8290
sprPriority = 64
posType = P1
facing = Facing
removeTime = 32
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 8290, Scale]
type = ModifyExplod
trigger1 = Time < 8
ID = 8290
scale = 0.5, .5
trans = AddAlpha
alpha = 256,0

[State 8290, Scale]
type = ModifyExplod
trigger1 = Time >= 8
ID = 8290
scale = 0.5 + 0.0625 * (Time - 8), 0.5 + 0.0625 * (Time - 8)
trans = AddAlpha
alpha = 256 - 32 * (Time - 8), 32 * (Time - 8)

[State 8290, Safety]
type = RemoveExplod
trigger1 = Time >= 16

[State 8290, End]
type = DestroySelf
trigger1 = Time >= 16

;========================<COUNTER CIRCLE FX>=============================
;Counter Circle FX
[Statedef 8295]
type = A
physics = N
velset = 0,0
anim = 9999

[State 8295, Circle]
type = explod
trigger1 = !numexplod(8295)
anim = 8295
ID = 8295
sprpriority = 5
postype = p1
pausemovetime = -1
supermovetime = -1
ownpal = 1

[State 8295, Scale]
type = modifyexplod
trigger1 = numexplod(8295)
ID = 8295
scale = 0.2 + (0.05 * time), 0.2 + (0.05 * time)
trans = addalpha
alpha = ceil(256 -(16 * time)), 256

[State 8295, Safety]
type = removeexplod
trigger1 = time >= 16

[State 8295, End]
type = destroyself
trigger1 = !numexplod

;==================<POWER CHARGE FX>==================
;Aura and Dust
[StateDef 8330]
type = A
physics = N
moveType = I
anim = 9999
ctrl = 0
velset = 0,0

[State 8330, BindToRoot]
type = BindToRoot
trigger1 = (Root, StateNo = 730)
pos = 0,0

[State 8330, Charging Sound]
type = PlaySnd
trigger1 = !Time
value = 730,0
channel = 0

[State 8330, Loop Sound]
type = PlaySnd
trigger1 = Time = 60
value = 730,1
channel = 1
loop = 1

[State 8330, SndPan]
type = SndPan
trigger1 = 1
channel = 0
pan = 0

[State 8330, SndPan]
type = SndPan
trigger1 = 1
channel = 1
pan = 0

[State 8330, Power Charge Aura]
type = Explod
trigger1 = !NumExplod(8330)
ID = 8330
anim = 8330
sprPriority = 3
posType = P1
bindTime = -1
removeTime = -1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 8330, Power Charge Dust]
type = Explod
trigger1 = !(Time % 6)
anim = 8105
sprPriority = -3
posType = P1
pos = 0, -ceil(pos y)
bindTime = -1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 8330, Modify Aura 1]
type = ModifyExplod
trigger1 = Numexplod(8330) && Root, Power < 3000
ID = 8330
scale = 0.5, 0.1 + 0.4 * (Root, Power / 3000.0)

[State 8330, Modify Aura 2]
type = ModifyExplod
trigger1 = NumExplod(8330) && Root, Power >= 3000
ID = 8330
scale = 0.5, 0.5

[State 8330, StopSnd]
type = StopSnd
trigger1 = Root, StateNo != 730
trigger2 = Root, MoveType = H
channel = 0

[State 8330, StopSnd]
type = StopSnd
trigger1 = Root, StateNo != 730
trigger2 = Root, MoveType = H
channel = 1

[State 8330, RemoveExplod]
type = RemoveExplod
trigger1 = Root, StateNo != 730
trigger2 = Root, MoveType = H

[State 8330, End]
type = DestroySelf
trigger1 = Root, StateNo != 730
trigger2 = Root, MoveType = H


;Particles
[StateDef 8331]
type = A
physics = N
moveType = I
anim = 9999
ctrl = 0
velSet = 0,0

[State 8331, BindToRoot]
type = BindToRoot
trigger1 = !(Time % 8)
pos = ceil(-151 + (Random / 3.125)), ceil(98 - (Random / 3.125))

[State 8331, Particle]
type = Explod
trigger1 = (Time % 8) = 1
anim = 8331
sprPriority = ifElse(Random < 750, 5, -1)
posType = P1
vel = ((RootDist x + 3) / 32.0), ((RootDist y - 78) / 32.0);values to adjust
scale = ifElse(Random < 500, 0.5, -0.5), ifElse(Random < 500, 0.5, -0.5)
pauseMoveTime = -1
superMoveTime = -1
ownpal = 1

[State 8331, RemoveExplod]
type = RemoveExplod
trigger1 = Root, StateNo != 730
trigger2 = Root, MoveType = H

[State 8331, End]
type = DestroySelf
trigger1 = Root, StateNo != 730
trigger2 = Root, MoveType = H

;==================<ZERO COUNTER FX>==================
;Zero Counter FX
[StateDef 8350]
type = A
physics = N
moveType = I
anim = 9999
ctrl = 0
velSet = 0,0

[State 8350, bgPalFX]
type = bgPalFX
trigger1 = 1
time = 1
color = 16 * Time
mul = 16 * Time, 16 * Time, 16 * Time

[State 8350, Circle Explod]
type = Explod
trigger1 = !Time
anim = 8350
ID = 1
sprPriority = 3
posType = P1
removeTime = 16
superMoveTime = -1
ownPal = 1

[State 8350, Scale]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = (0.0625 * Time), (0.0625 * Time)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8350, Lightning Explod]
type = Explod
trigger1 = !Time
anim = 8351
ID = 2
sprPriority = -2
posType = P1
pos = 0, -ceil(pos y)
superMoveTime = -1
ownPal = 1

[State 8350, End]
type = DestroySelf
trigger1 = Time >= 16

;========================<CUSTOM COMBO>=============================
;Custom Combo 
[StateDef 8400]
type = A
physics = N
moveType = I
anim = 8400
ctrl = 0
velSet = 0,0
sprPriority = 5

[State 8400, NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignoreHitPause = 1

[State 8400, BGpalFX]
type = BGpalFX
trigger1 = Time < 17
time = 1
mul = 128,128,128

[State 8400, BGpalFX]
type = BGpalFX
trigger1 = Time >= 17 && Time < 25
time = 1
mul = ceil(128 + 16 * (Time - 17)), ceil(128 + 16 * (Time - 17)), ceil(128 + 16 * (Time - 17))

[State 8400, Rotate]
type = AngleSet
trigger1 = !Time
value = 6 * (Random % 60)

[State 8400, Rotate]
type = AngleAdd
trigger1 = 1
value = -6

[State 8400, Scale]
type = AngleDraw
trigger1 = Time < 8
scale = (0.0625 * Time), (0.0625 * Time)
ignoreHitPause = 1

[State 8400, Scale]
type = AngleDraw
trigger1 = Time >= 8
scale = 0.5, 0.5
ignoreHitPause = 1

[State 8400, Transparency]
type = Trans
trigger1 = Time < 16
trans = AddAlpha
alpha = 256, 256
ignoreHitPause = 1

[State 8400, Transparency]
type = Trans
trigger1 = Time >= 16
trans = AddAlpha
alpha = ceil(256 - 25.6 * (Time - 16)), 256
ignoreHitPause = 1

[State 8400, Lines Explod]
type = Explod
trigger1 = !Time
anim = 8401
ID = 1
sprPriority = 5
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
removeTime = 16
superMoveTime = -1

[State 8400, Scale Lines Explod]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = 2 - (0.125 * Time), 2 - (0.125 * Time)
trans = AddAlpha
alpha = ifElse(Time < 4, 64 * Time, 256), 256

[State 8400, Circle Explod]
type = Explod
trigger1 = Time = 16
anim = 8402
ID = 2
sprPriority = 5
posType = P1
removeTime = 32
superMoveTime = -1

[State 8400, Scale Circle Explod]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = (0.1 * (Time - 16)), (0.1 * (Time - 16))
trans = AddAlpha
alpha = ceil(256 - 25.6 * (Time - 16)), 256

[State 8400, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 26

[State 8400, End]
type = DestroySelf
trigger1 = Time >= 26

;========================<SUPER PAUSE FX>=============================
;Level 1 Super FX
[StateDef 8500]
type = A
velSet = 0,0
anim = 8500
sprPriority = 5

[State 8500, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8500, Bind]
type = Null
trigger1 = !Time
trigger1 = 1 || fvar(24) := -ParentDist X
trigger1 = 1 || fvar(25) := -ParentDist Y

[State 8500, Bind]
type = BindToParent
trigger1 = 1
pos = fvar(24), fvar(25)

[State 8500, End Time Set]
type = VarSet
triggerall = !Time
trigger1 = 1
var(1) = 50

[State 8500, End Time >= 50]
type = VarSet
triggerall = !Time
trigger1 = var(1) >= 50
var(2) = 1

[State 8500, BGpalFX]
type = BGpalFX
trigger1 = !var(2)
trigger1 = Time < 39
trigger2 = var(2)
trigger2 = Time < (var(1) - 11)
time = 1
color = 0
mul = 0,0,256

[State 8500, BGpalFX]
type = BGpalFX
trigger1 = var(2)
trigger1 = Time >= (var(1) - 11) && Time < (var(1) - 1)
time = 1
color = ceil(25.6 * (Time - (var(1) - 11)))
mul = ceil(25.6 * (Time - (var(1) - 11))), ceil(25.6 * (Time - (var(1) - 11))), 256

[State 8500, Rotate]
type = AngleSet
trigger1 = !Time
value = 6 * (Random % 60)

[State 8500, Rotate]
type = AngleAdd
trigger1 = 1
value = -6

[State 8500, Scale]
type = AngleDraw
trigger1 = Time < 16
scale = (0.03125 * Time), (0.03125 * Time)

[State 8500, Scale]
type = AngleDraw
trigger1 = Time >= 16
scale = 0.5,0.5

[State 8500, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256

[State 8500, Lines Explod]
type = Explod
trigger1 = Time = 0 || Time = 8 || Time = 16 || Time = 24
anim = 8501
ID = ifElse(Time = 24, 4, ifElse(Time = 16, 3, ifElse(Time = 8, 2, 1)))
sprPriority = 5
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
removeTime = 16
superMoveTime = -1
bindtime = -1

[State 8500, Scale Lines Explod 1]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = 1 - (0.0625 * Time), 1 - (0.0625 * Time)
trans = AddAlpha
alpha = ifElse(Time < 4, 64 * Time, 256), 256

[State 8500, Scale Lines Explod 2]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = 1 - (0.0625 * (Time - 8)), 1 - (0.0625 * (Time - 8))
trans = AddAlpha
alpha = ifElse((Time - 8) < 4, 64 * (Time - 8), 256), 256

[State 8500, Scale Lines Explod 3]
type = ModifyExplod
trigger1 = NumExplod(3)
ID = 3
scale = 1 - (0.0625 * (Time - 16)), 1 - (0.0625 * (Time - 16))
trans = AddAlpha
alpha = ifElse((Time - 16) < 4, 64 * (Time - 16), 256), 256

[State 8500, Scale Lines Explod 3]
type = ModifyExplod
trigger1 = NumExplod(4)
ID = 4
scale = 1 - (0.0625 * (Time - 24)), 1 - (0.0625 * (Time - 24))
trans = AddAlpha
alpha = ifElse((Time - 24) < 4, 64 * (Time - 24), 256), 256

[State 8500, Circle Explod]
type = Explod
trigger1 = Time = 24
anim = 8502
ID = 10
sprPriority = 5
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
removeTime = 32
superMoveTime = -1
bindtime = -1

[State 8500, Scale Circle Explod]
type = ModifyExplod
trigger1 = NumExplod(10)
ID = 10
scale = 2 - (0.125 * (Time - 24)), 2 - (0.125 * (Time - 24))
trans = AddAlpha
alpha = ifElse((Time - 24) < 4, 64 * (Time - 24), 256), 256

[State 8500, Afterimages]
type = Helper
trigger1 = Time = 0 && (Parent,ID = Root,ID)
helpertype = normal
name = "Afterimages"
ID = 8590
stateno = 8590
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = root,const(size.xscale)
size.yscale = root,const(size.yscale)
supermovetime = 999999
pausemovetime = 999999

[State 8500, Afterimages]
type = Helper
trigger1 = Time = 0 && (Parent,ID = Root,ID)
helpertype = normal
name = "Afterimages"
ID = 8591
stateno = 8590
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = root,const(size.xscale)
size.yscale = root,const(size.yscale)
supermovetime = 999999
pausemovetime = 999999

[State 8500, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 40

[State 8500, Assert: Invisible]
type = AssertSpecial
trigger1 = Time >= 40
flag = Invisible

[State 8500, End]
type = DestroySelf
trigger1 = !var(2)
trigger1 = Time >= 40
trigger2 = var(2)
trigger2 = Time >= var(1)


;Level 2 Super FX
[StateDef 8510]
type = A
velSet = 0,0
anim = 8510
sprPriority = 5

[State 8510, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8510, Bind]
type = Null
trigger1 = !Time
trigger1 = 1 || fvar(24) := -ParentDist X
trigger1 = 1 || fvar(25) := -ParentDist Y

[State 8510, Bind]
type = BindToParent
trigger1 = 1
pos = fvar(24), fvar(25)

[State 8510, End Time Set]
type = VarSet
triggerall = !Time
trigger1 = 1
var(1) = 50

[State 8510, End Time >= 50]
type = VarSet
triggerall = !Time
trigger1 = var(1) >= 50
var(2) = 1

[State 8510, BGpalFX]
type = BGpalFX
trigger1 = !var(2)
trigger1 = Time < 39
trigger2 = var(2)
trigger2 = Time < (var(1) - 11)
time = 1
color = 0
mul = 192,0,256

[State 8510, BGpalFX]
type = BGpalFX
trigger1 = var(2)
trigger1 = Time >= (var(1) - 11) && Time < (var(1) - 1)
time = 1
color = ceil(25.6 * (Time - (var(1) - 11)))
mul = ceil(192 + 6.4 * (Time - (var(1) - 11))), ceil(25.6 * (Time - (var(1) - 11))), 256

[State 8510, Rotate]
type = AngleSet
trigger1 = !Time
value = 6 * (Random % 60)

[State 8510, Rotate]
type = AngleAdd
trigger1 = 1
value = -6

[State 8510, Scale]
type = AngleDraw
trigger1 = Time < 16
scale = (0.03125 * Time), (0.03125 * Time)

[State 8510, Scale]
type = AngleDraw
trigger1 = Time >= 16
scale = 0.5, 0.5

[State 8510, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256

[State 8510, Lines Explod]
type = Explod
trigger1 = Time = 0 || Time = 8 || Time = 16 || Time = 24
anim = 8511
ID = ifElse(Time = 24, 4, ifElse(Time = 16, 3, ifElse(Time = 8, 2, 1)))
sprPriority = 5
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
removeTime = 16
superMoveTime = -1
bindtime = -1

[State 8510, Scale Lines Explod 1]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = 1 - (0.0625 * Time), 1 - (0.0625 * Time)
trans = AddAlpha
alpha = ifElse(Time < 4, 64 * Time, 256), 256

[State 8510, Scale Lines Explod 2]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = 1 - (0.0625 * (Time - 8)), 1 - (0.0625 * (Time - 8))
trans = AddAlpha
alpha = ifElse((Time - 8) < 4, 64 * (Time - 8), 256), 256

[State 8510, Scale Lines Explod 3]
type = ModifyExplod
trigger1 = NumExplod(3)
ID = 3
scale = 1 - (0.0625 * (Time - 16)), 1 - (0.0625 * (Time - 16))
trans = AddAlpha
alpha = ifElse((Time - 16) < 4, 64 * (Time - 16), 256), 256

[State 8510, Scale Lines Explod 4]
type = ModifyExplod
trigger1 = NumExplod(4)
ID = 4
scale = 1 -(0.0625 * (Time - 24)), 1 - (0.0625 * (Time - 24))
trans = AddAlpha
alpha = ifElse((Time - 24) < 4, 64 * (Time - 24), 256), 256

[State 8510, Circle Explod]
type = Explod
trigger1 = Time = 24
anim = 8512
ID = 10
sprPriority = 5
posType = P1
facing = ifElse(Random < 500,-1,1)
vFacing = ifElse(Random < 500,-1,1)
removeTime = 32
superMoveTime = -1
bindtime = -1

[State 8510, Scale Circle Explod]
type = ModifyExplod
trigger1 = NumExplod(10)
ID = 10
scale = 2 - (0.125 * (Time - 24)), 2 - (0.125 * (Time - 24))
trans = AddAlpha
alpha = ifElse((Time - 24)<4, 64 * (Time - 24), 256), 256

[State 8510, Afterimages]
type = Helper
trigger1 = Time = 0 && (Parent,ID = Root,ID)
helpertype = normal
name = "Afterimages"
ID = 8590
stateno = 8590
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = root,const(size.xscale)
size.yscale = root,const(size.yscale)
supermovetime = 999999
pausemovetime = 999999

[State 8510, Afterimages]
type = Helper
trigger1 = Time = 0 && (Parent,ID = Root,ID)
helpertype = normal
name = "Afterimages"
ID = 8591
stateno = 8590
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = root,const(size.xscale)
size.yscale = root,const(size.yscale)
supermovetime = 999999
pausemovetime = 999999

[State 8510, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 40

[State 8510, Assert: Invisible]
type = AssertSpecial
trigger1 = Time >= 40
flag = Invisible

[State 8510, End]
type = DestroySelf
trigger1 = !var(2)
trigger1 = Time >= 40
trigger2 = var(2)
trigger2 = Time >= var(1)


;Level 3 Super FX
[StateDef 8520]
type = A
velset = 0,0
anim = 8520
sprPriority = 5

[State 8520, Assert: NoShadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 8520, Bind]
type = Null
trigger1 = !Time
trigger1 = 1 || fvar(24) := -ParentDist X
trigger1 = 1 || fvar(25) := -ParentDist Y

[State 8520, Bind]
type = BindToParent
trigger1 = 1
pos = fvar(24), fvar(25)

[State 8520, End Time Set]
type = VarSet
triggerall = !Time
trigger1 = 1
var(1) = 50

[State 8520, End Time >= 50]
type = VarSet
triggerall = !Time
trigger1 = var(1) >= 50
var(2) = 1

[State 8520, Assert: NoBG, NoFG]
type = AssertSpecial
trigger1 = !var(2)
trigger1 = Time < 40
trigger2 = var(2)
trigger2 = Time < (var(1) - 10)
flag = NoBG
flag2 = NoFG

[State 8520, Assert: NoBarDisplay]
type = AssertSpecial
triggerall = root,var(58)=0
trigger1 = !var(2)
trigger1 = Time < 40
trigger2 = var(2)
trigger2 = Time < (var(1) - 10)
flag = NoBarDisplay

[State 8520, BGpalFX]
type = BGpalFX
trigger1 = var(2)
trigger1 = Time >= (var(1) - 11) && Time < (var(1) - 1)
time = 1
color = 256
mul = ceil(25.6 * (Time - (var(1) - 11))), ceil(25.6 * (Time - (var(1) - 11))), ceil(25.6 * (Time - (var(1) - 11)))

[State 8520, Rotate]
type = AngleSet
trigger1 = !Time
value = 6 * (Random % 60)

[State 8520, Rotate]
type = AngleAdd
trigger1 = 1
value = -6

[State 8520, Scale]
type = AngleDraw
trigger1 = Time < 16
scale = (0.03125 * Time), (0.03125 * Time)
ignoreHitPause = 1

[State 8520, Scale]
type = AngleDraw
trigger1 = Time >= 16
scale = 0.5, 0.5
ignoreHitPause = 1

[State 8520, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256

[State 8520, Portrait 1]
type = Explod
trigger1 = !Time
anim = 8525
ID = 20
sprPriority = -16
posType = Back
removeTime = 40
superMoveTime = -1

[State 8520, Portrait 2]
type = Explod
trigger1 = !Time
anim = 8525
ID = 21
sprPriority = -16
posType = Back
removeTime = 40
superMoveTime = -1

[State 8520, Scale Portrait 1a]
type = ModifyExplod
trigger1 = NumExplod(20) && Time < 16
ID = 20
posType = Back
pos = 160, floor((1.3333333 * GameHeight / GameWidth) * 121)
scale = 1 - (0.03125 * Time), 1 - (0.03125 * Time)
trans = AddAlpha
alpha = (8 * Time), 256

[State 8520, Scale Portrait 2a]
type = ModifyExplod
trigger1 = NumExplod(21) && Time < 16
ID = 21
posType = Back
pos = 160, floor((1.3333333 * GameHeight / GameWidth) * 121)
scale = 2 - (0.09375 * Time), 2 - (0.09375 * Time)
trans = AddAlpha
alpha = (8 * Time), 256

[State 8520, Scale Portrait 1b]
type = ModifyExplod
trigger1 = NumExplod(20) && (Time = [16,32])
ID = 20
posType = Back
pos = 160, floor((1.3333333 * GameHeight / GameWidth) * 121)
scale = 0.5, 0.5
trans = AddAlpha
alpha = 256, 256

[State 8520, Scale Portrait 2b]
type = ModifyExplod
trigger1 = NumExplod(21) && (Time = [16,32])
ID = 21
scale = 0,0

[State 8520, Scale Portrait 1c]
type = ModifyExplod
trigger1 = NumExplod(20) && Time >= 32
ID = 20
posType = Back
pos = 160 + (8 * (Time - 32)), floor((1.3333333 * GameHeight / GameWidth) * 121)
scale = 0.5, 0.5
trans = AddAlpha
alpha = 128 - 16 * (Time - 32), 256

[State 8520, Scale Portrait 2c]
type = ModifyExplod
trigger1 = NumExplod(21) && Time >= 32
ID = 21
posType = Back
pos = 160 - (8 * (Time - 32)), floor((1.3333333 * GameHeight / GameWidth) * 121)
scale = 0.5, 0.5
trans = AddAlpha
alpha = 128 - 16 * (Time - 32), 256

[State 8520, Lines Explod]
type = explod
trigger1 = Time = 0 || Time = 8 || Time = 16 || Time = 24
anim = 8521
ID = ifElse(Time = 24, 4, ifElse(Time = 16, 3, ifElse(Time = 8, 2, 1)))
sprPriority = 5
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
removeTime = 16
superMoveTime = -1
bindtime = -1

[State 8520, Scale Lines Explod 1]
type = ModifyExplod
trigger1 = NumExplod(1)
ID = 1
scale = 1 - (0.0625 * Time), 1 - (0.0625 * Time)
trans = AddAlpha
alpha = ifElse(Time < 4, 64 * Time, 256), 256

[State 8520, Scale Lines Explod 2]
type = ModifyExplod
trigger1 = NumExplod(2)
ID = 2
scale = 1-(0.0625 * (Time - 8)), 1 - (0.0625 * (Time - 8))
trans = AddAlpha
alpha = ifElse((Time - 8) < 4, 64 * (Time - 8), 256), 256

[State 8520, Scale Lines Explod 3]
type = ModifyExplod
trigger1 = NumExplod(3)
ID = 3
scale = 1 - (0.0625 * (Time - 16)), 1 - (0.0625 * (Time - 16))
trans = AddAlpha
alpha = ifElse((Time - 16) < 4, 64 * (Time - 16), 256), 256

[State 8520, Scale Lines Explod 4]
type = ModifyExplod
trigger1 = NumExplod(4)
ID = 4
scale = 1 - (0.0625 * (Time - 24)), 1 - (0.0625 * (Time - 24))
trans = AddAlpha
alpha = ifElse((Time - 24) < 4, 64 * (Time - 24), 256), 256

[State 8520, Circle Explod]
type = Explod
trigger1 = Time = 24
anim = 8522
ID = 10
sprPriority = 5
posType = P1
facing = ifElse(Random < 500, -1 ,1)
vFacing = ifElse(Random < 500, -1, 1)
removeTime = 32
superMoveTime = -1
bindtime = -1

[State 8520, Scale Circle Explod]
type = ModifyExplod
trigger1 = NumExplod(10)
ID = 10
scale = 2 - (0.125 * (Time - 24)), 2 - (0.125 * (Time - 24))
trans = AddAlpha
alpha = ifElse((Time - 24) < 4, 64 * (Time - 24), 256), 256

[State 8520, Afterimages]
type = Helper
trigger1 = Time = 0 && (Parent,ID = Root,ID)
helpertype = normal
name = "Afterimages"
ID = 8590
stateno = 8590
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = root,const(size.xscale)
size.yscale = root,const(size.yscale)
supermovetime = 999999
pausemovetime = 999999

[State 8520, Afterimages]
type = Helper
trigger1 = Time = 0 && (Parent,ID = Root,ID)
helpertype = normal
name = "Afterimages"
ID = 8591
stateno = 8590
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = root,const(size.xscale)
size.yscale = root,const(size.yscale)
supermovetime = 999999
pausemovetime = 999999

[State 8520, Remove Explods]
type = RemoveExplod
trigger1 = Time >= 40

[State 8520, Assert: Invisible]
type = AssertSpecial
trigger1 = Time >= 40
flag = Invisible

[State 8520, End]
type = DestroySelf
trigger1 = !var(2)
trigger1 = Time >= 40
trigger2 = var(2)
trigger2 = Time >= var(1)

;--------------------------------------------------
;Afterimages
[Statedef 8590]
physics=N
anim = 9999

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time > 0
value = root,anim
elem = root,animelemno(0)

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerAll = Time = 0
trigger1 = Root,StateType = A
var(1) = 1

[State 0, VarAdd]
type = Null
triggerall = Time > 0
trigger1 = IsHelper(8590)
trigger1 = 1 || fvar(1):=fvar(1)+.45
trigger1 = 1 || fvar(2):=fvar(2)+ifelse(!var(1),0,-.45)
trigger2 = IsHelper(8591)
trigger2 = 1 || fvar(1):=fvar(1)-.45
trigger2 = 1 || fvar(2):=fvar(2)+ifelse(!var(1),0,.45)

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = 1
pos = fvar(1),fvar(2)

[State 0, Trans]
type = Trans
trigger1 = 1
trans=addalpha
alpha=200-5*(time),56+5*(time)

[State 0, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time >= 40
trigger2 = Root,MoveType = H

;=========================< SPECIAL FINISH >=================
;Special Finish FX
[Statedef 8600]
ctrl = 0
anim = 9999
sprpriority = -10

[State 8600, NoMusic]
type = AssertSpecial
trigger1 = Root,Var(56) >= 2
flag = NoMusic
ignorehitpause=1

[State 8600, NoBarDisplay]
type = AssertSpecial
trigger1 = Root,Var(56) >= 3
flag = NoBarDisplay
ignorehitpause=1

[State 8600, NoFG]
type = AssertSpecial
trigger1 = Root,Var(56) >= 4
flag = NoFG
ignorehitpause=1

[State 8600, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8600,0
abspan = 0
channel = 0
persistent=0

[State 8600, Explod]
type = Explod
trigger1 = time = 0
anim =8550
ID = 8600
pos = 0,0
postype = back
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime =30
supermovetime = 9999
pausemovetime = 9999
scale = 1.2,1.2
sprpriority = -990
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1
ignorehitpause = 1
;persistent =

[State 8600, ModifyExplod]
type = ModifyExplod
trigger1 = time>=1
ID = 8600
trans = addalpha
alpha=256-((time)*10),256

[State 8600, End]
type=removeexplod
trigger1= time>=120
trigger2= roundstate<3
[State 8600, End]
type=destroyself
trigger1= roundstate!=3
;========================<SUPER FINISH>=============================
;Super Finish FX 
[StateDef 8605]
type = A
velSet = 0,0
anim = 9999

[State 8605, Super Finish Sound]
type = PlaySnd
trigger1 = !Time
value = 8600,0
abspan = 0
channel = 0
[State 8605, Super Finish Sound]
type = PlaySnd
trigger1 = !Time
value = 8600,1
abspan = 0
channel = 1

[State 8605, BG PalFX]
type = BGpalFX
trigger1 = Time < 16
time = 1
mul = 0, 0, 0

[State 8605, BG PalFX]
type = BGpalFX
trigger1 = Time = [16,24]
time = 1
mul = 32 * (Time - 16), 32 * (Time - 16), 32 * (Time - 16)

[State 8605, Move Name: Custom Combo]
type = VarSet
trigger1= !Time && Root, var(23) = 900
var(0) = 1

[State 8605, Move Name: Super1]
type = VarSet
trigger1 = !Time && (Root, var(23) = [3000,3099])
var(0) = 2

[State 8605, Move Name: Super2]
type = VarSet
trigger1 = !Time && (Root, var(23) = [3100,3199])
var(0) = 3

[State 8605, Move Name: Super3]
type = VarSet
trigger1 = !Time && (Root, var(23) = [3200,3299])
var(0) = 4

[State 8605, Move Name: Super4]
type = VarSet
trigger1= !Time && (Root, var(23) = [3300,3399])
var(0) = 5

[State 8605, Move Name: Super5]
type = VarSet
trigger1= !Time && Root, var(23) = [3400,3499]
var(0) = 6

[State 8605, Move Name: Super6]
type = VarSet
trigger1 = !Time && (Root, var(23) = [3500,3599])
var(0) = 7

[State 8605, Move Name: Super7]
type = VarSet
trigger1 = !Time && (Root, var(23) = [3600,3699])
var(0) = 8

[State 8605, Move Name: Super8]
type = VarSet
trigger1 = !Time && (Root, var(23) = [3700,3799])
var(0) = 9

[State 8605, Move Name: Super9]
type = VarSet
trigger1 = !Time && (Root, var(23) = [3800,3899])
var(0) = 10

[State 8605, Super Finish Explod]
type = Explod
trigger1 = !Time
anim = 8600
ID = 8600
ontop = 1
postype = Left
pos = 160, floor((1.3333333 * GameHeight / GameWidth) * 121)
scale = 0.5, 0.5 * (1.3333333 * GameHeight / GameWidth)
bindTime = -1
removeTime = 32
pauseMoveTime = -1
superMoveTime = -1

[State 8605, Super Finish Explod Fade]
type = ModifyExplod
trigger1 = NumExplod(8600)
ID = 8600
trans = AddAlpha
alpha = ifElse(Time < 16, 256, 256 - 32 * (Time - 16)), 256

[State 8605, Text 1]
type = Explod
trigger1 = !Time && var(0)
anim = 8610 + var(0)
ID = 10
onTop = 1
posType = Left
pos = 160, floor((1.3333333 * GameHeight / GameWidth) * 121)
scale = 0.5, 0.5 * (1.3333333 * GameHeight / GameWidth)
bindTime = -1
removeTime = 32
pauseMoveTime = -1
superMoveTime = -1

[State 8605, Text 2]
type = Explod
trigger1 = !Time && var(0)
anim = 8610 + var(0)
ID = 11
onTop = 1
posType = left
pos = 160, floor((1.3333333 * GameHeight / GameWidth) * 121)
scale = 0.5, 0.5 * (1.3333333 * GameHeight / GameWidth)
bindTime = -1
removeTime = 8
pauseMoveTime = -1
superMoveTime = -1

[State 8605, Text 1 Fade]
type = ModifyExplod
trigger1 = NumExplod(10)
ID = 10
trans = AddAlpha
alpha = ifElse(Time < 16, 256, 256 - 32 * (Time - 16)), ifElse(Time < 16, 0, 32 * (Time - 16))

[State 8605, Text 2 Fade]
type = ModifyExplod
trigger1 = NumExplod(11)
ID = 11
scale = 0.5 + (0.0625 * Time), 0.5 + (0.0625 * Time)
trans = AddAlpha
alpha = 256 - (32 * Time), 32 * Time

[State 8605, Circle Explod]
type = Explod
trigger1 = !Time
anim = 8601
ID = 8601
posType = Left
pos = 160, floor((1.3333333 * GameHeight / GameWidth) * 121)
bindTime = -1
removeTime = 16
pauseMoveTime = -1
superMoveTime = -1

[State 8605, Circle Fade]
type = ModifyExplod
trigger1 = NumExplod(8601)
ID = 8601
scale = (0.25 * time) * (1.3333333 * GameHeight / GameWidth), (0.25 * time) * (1.3333333 * GameHeight / GameWidth)
trans = AddAlpha
alpha = 256 - (16 * Time), 256

[State 8605, Assert: NoFG]
type = AssertSpecial
trigger1 = Time < 16
flag = NoFG

[State 8605, Assert: NoBarDisplay]
type = AssertSpecial
trigger1 = Time < 24
flag = NoBarDisplay

[State 8605, Assert: NoMusic]
type = AssertSpecial
trigger1 = Time < 24 && Root,Var(57) >= 2
flag = NoMusic

[State 8605, End]
type=removeexplod
trigger1= time>=24
trigger2= roundstate<3
[State 8605, End]
type=destroyself
trigger1= roundstate!=3

;===========================<STAND AURA>===============================
;STAND AURA
[Statedef 8800]
type = S
movetype = I
physics = N
sprpriority = -5
velset = 0,0
ctrl = 0
;
[state 8800, noshadow]; aura has no shadow
type = assertspecial
trigger1 = 1
flag = noshadow
;
[state 8800, playerpush]; the aura can go right through you
type = playerpush
trigger1 = 1
ignorehitpause = 1
persistent = 1
value = 0
;
[state 8800, canthit]; not able to hit the aura and vice versa
type = nothitby
trigger1 = 1
time = -1
persistent = 1
value = SCA
;
[State 8800, ChangeAnim]; makes the aura do what you do
type = ChangeAnim
trigger1 = selfanimexist(parent,anim)
elem = parent,animelemno(0)
value = parent, anim
;
[State 8800, bindtoroot]; binds the auras position to the player using it
type = bindtoroot
trigger1 = 1
facing = 1
pos = 0, 0
time = -1
ignorehitpause = 1
persistent = 1
;
[State 8800, color]; change to whatever color you want the aura to be
type = palfx
trigger1 = 1
add = 100, 0, 0
mul = 256, 0, 0
sinadd = 256, 10, 10, 50
invertall = 0
color = 256
time = -1
ignorehitpause = 1
persistent = 1
;
[State 8800, trans]; makes the aura see through
type = trans
trigger1 = 1
trans = addalpha
alpha = 256 - (10*time), (10*time)
ignorehitpause = 1
persistent = 1
;
[State 8800, angledraw]; how big the aura radiates over time
type = angledraw
trigger1 = 1
value = 0
scale = 1 + (.0065*time), 1 + (.0065*time)
ignorehitpause = 1
persistent = 1
;
[State 8800, destroyself]; time to restart the hazing animations of the aura
type = Destroyself
trigger1 = time >= 30
trigger2 = Parent,MoveType = H && (Parent,StateNo != [120,159]) && (Parent,StateNo != [5000,5999])
trigger3 = !alive

;========================<CAMERA CONTROL>=============================
;Camera Control
[StateDef 8999]
type = S
velSet = 0,0
anim = 9999

[State 8999, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
moveCamera = 1,1

[State 8999, End]
type = DestroySelf
trigger1 = RoundState = 2

;==========================
; Mode_Select_Screen [helper] ; モード選択画面
;==========================
[statedef 180030]
type=s
movetype=i
physics=n
anim=909601 ;; empty
velset=0,0
ctrl=0
;---
[state 0] ;[.02] ;init
	type=null
	trigger1=!time
	trigger1=1|| var(3):=parent,var(3)/2+floor(const240p(ifelse(teamside=1,-120,120))) || var(4):=parent,var(4)/2+floor(const240p(72))
	trigger1=1|| var(22):=parent,var(22) || var(25):=15 || var(26):=10 || var(27):=ifelse(teamside=1,1,-1) || fvar(19):=0.5
	persistent=0
;---
[state 0] ;[.31]
	type=parentvarset
	trigger1=1
	var(22)=1
;---
[state 0] ;[.62]
	type=explod
	trigger1=1|| fvar(14):=(var(24)*24+90)*0.0174
	anim=f100012
	space=screen
	postype=left
	facing=1
	ownpal=1
	bindtime=-1
	removetime=1
	ignorehitpause=1
	supermovetime=-1
	pausemovetime=-1
	pos=var(3) +floor((sin(fvar(14))*var(25)))*var(27), var(4) +floor((fvar(15):=cos(fvar(14))*var(26)))
	scale=(fvar(16):=sin(fvar(14))*fvar(19)+1.5 ) , fvar(16)
	sprpriority=165+floor(fvar(16)*10)
;---
[state 0] ;[.80]
	type=destroyself
	trigger1=(roundno=1)&&(root,numhelper(185905)=0)
	trigger2=(roundstate>=2)
